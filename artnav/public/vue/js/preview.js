(function(t){function e(e){for(var a,c,r=e[0],s=e[1],l=e[2],u=0,m=[];u<r.length;u++)c=r[u],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&m.push(o[c][0]),o[c]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);d&&d(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,r=1;r<n.length;r++){var s=n[r];0!==o[s]&&(a=!1)}a&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},o={preview:0},i=[];function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=s;i.push([1,"chunk-vendors"]),n()})({"015f":function(t,e,n){"use strict";n("afa4")},"01dd":function(t,e,n){},"0219":function(t,e){var n=function(t,e){var n=new Image;n.crossOrigin="Anonymous",n.onload=function(){var t,n=document.createElement("CANVAS"),a=n.getContext("2d");n.height=this.height,n.width=this.width,a.drawImage(this,0,0),t=n.toDataURL(),e(t),n=null},n.src=t};t.exports={convertImgToDataURLviaCanvas:n}},"0e81":function(t,e,n){"use strict";n("86b4")},1:function(t,e,n){t.exports=n("45e9")},"301c":function(t,e,n){t.exports=n.p+"img/terra-logo.svg"},4151:function(t,e,n){"use strict";n("c86c")},4298:function(t,e,n){},4360:function(t,e,n){"use strict";n.d(e,"b",(function(){return M})),n.d(e,"a",(function(){return S}));var a=n("5502"),o=(n("d3b7"),n("159b"),n("4de4"),n("0219")),i=function(){return{captures:{new:null,edit:null},modes:{editing:!1,new:!1},modals:{edit:!1},local_data:{points:{new:{point_x:null,point_y:null,point_title:null,point_image:"",point_slug:null,point_content:null,point_lede:null,artwork_context:null,zoom_value:null,scale_value:null},edit:null,all:null,delete:null}},validation:{messages:{id:"you need to add a point to the artwork by clicking on the image.",point_x:"you need to add a point to the artwork by clicking on the image.",point_y:"you need to add a point to the artwork by clicking on the image.",point_title:"you need to give this point a title.",point_slug:"you need to give this point a title.",point_content:"you need to add a description to this point.",artwork_context:"there is a problem with the current piece of art. Try reloading the page."},submission:!1,messages_alert:{show:!1,message:""},editor_alert:{show:!1,message:""},progress:!1}}},c={setPoints:function(t,e){e.forEach((function(t){Object(o["convertImgToDataURLviaCanvas"])(t.point_image,(function(e){t.point_image=e}))})),t.local_data.points.all=e},setCapturedThumb:function(t,e){t.captures.new=e,t.local_data.points.new.point_image=String(e.image.src),t.local_data.points.new.scale_value=e.scale_value},setEditCandidate:function(t,e){t.local_data.points.edit=e},setEditCaptureThumb:function(t,e){t.captures.edit=e,e.image&&(t.local_data.points.edit.point_image=e.image.src),e.size&&(t.local_data.points.edit.scale_value=e.size)},setNewPointCoords:function(t,e){t.local_data.points.new.point_x=e.x,t.local_data.points.new.point_y=e.y,t.local_data.points.new.zoom_value=e.zoom_value},setEditPointCoords:function(t,e){t.local_data.points.edit.point_x=e.x,t.local_data.points.edit.point_y=e.y,t.local_data.points.edit.zoom_value=e.zoom_value},setNewPointContent:function(t,e){t.local_data.points.new.artwork_context=e.artwork,t.local_data.points.new.point_content=e.content},setEditingPoint:function(t,e){t.modes.editing=e},toggleShowNewPoint:function(t){t.modes.new?(t.modes.new=!1,this.emitter.emit("cancelAnyNewPoint")):(t.modes.new=!0,this.emitter.emit("showAddNewPoint"))},showEditPointModal:function(t){t.modals.edit=!0,$("#editArtPoint").modal("show")},closeEditPointModal:function(t){t.modals.edit=!1,$("#editArtPoint").modal("show")},closeNewPoint:function(t){t.modes.new=!1,t.captures.new=null,this.emitter.emit("cancelAnyNewPoint")},showNewPoint:function(t){t.modes.new=!0,this.emitter.emit("showAddNewPoint")},setPointEditorAlert:function(t,e){t.validation.editor_alert=e},setValidation:function(t,e){t.validation.submission=e},resetNewPointData:function(t){t.local_data.points.new={point_x:null,point_y:null,point_title:null,point_image:"",point_slug:null,point_content:null,point_lede:null,artwork_context:null,zoom_value:null,scale_value:null}},addNewPointToList:function(t,e){t.local_data.points.all.length?Object(o["convertImgToDataURLviaCanvas"])(e.point_image,(function(n){e.point_image=n,t.local_data.points.all.push(e)})):Object(o["convertImgToDataURLviaCanvas"])(e.point_image,(function(n){e.point_image=n,t.local_data.points.all=[],t.local_data.points.all.push(e)}))},removePointFromList:function(t,e){var n=t.local_data.points.all.filter((function(t){return t.id!==e}));t.local_data.points.all=n},setPointToBeDeleted:function(t,e){t.local_data.points.delete=e},callSuccessAlert:function(t,e){var n={show:!0,message:e.m};t.validation.messages_alert=n,setTimeout((function(){t.validation.messages_alert.show=!1,t.validation.messages_alert.message=""}),e.hideDelay)},updatePointOrder:function(t,e){t.local_data.points.all=e},setSavingMode:function(t,e){setTimeout((function(){t.validation.progress=e.show}),e.padding)}},r={getPoints:function(t,e){var n=t.commit;e.$http.get("points/?artwork=".concat(window.art_id)).then((function(t){n("setPoints",t.body)}),(function(t){console.log(t)}))},saveNewPoint:function(t,e){var n=this,a=t.commit,o=t.dispatch,i=t.state;a("setSavingMode",{show:!0,padding:0}),e.$http.post("points/",i.local_data.points.new,{headers:{"X-CSRFToken":window.csrf}}).then((function(t){$("#newArtPoint").modal("hide"),e.rt.editor.setContents([]),a("addNewPointToList",t.body),n.emitter.emit("openSidebar"),o("updateCustomIndexes",{vm:e,points:i.local_data.points.all}),a("closeNewPoint"),a("resetNewPointData");var c={m:"".concat(t.body.point_title," was successfully Added."),hideDelay:3500};a("callSuccessAlert",c),a("setSavingMode",{show:!1,padding:500})}),(function(t){console.log(t),a("setSavingMode",{show:!1,padding:0})}))},savePointEdit:function(t,e){var n=t.commit,a=t.dispatch;n("setSavingMode",{show:!0,padding:0}),e.vm.$http.put("points/".concat(e.pointData.id,"/"),e.pointData,{headers:{"X-CSRFToken":window.csrf}}).then((function(t){e.vm.postSaveCleanup(),a("getPoints",e.vm),$("#editArtPoint").modal("hide");var o={m:"".concat(t.body.point_title," was successfully updated."),hideDelay:3500};n("callSuccessAlert",o),n("setSavingMode",{show:!1,padding:500})}),(function(t){console.log(t),n("setSavingMode",{show:!1,padding:0})}))},deletePoint:function(t,e){var n=t.commit,a=t.state;n("setSavingMode",{show:!0,padding:0}),e.vm.$http.delete("points/".concat(a.local_data.points.delete.id),{headers:{"X-CSRFToken":window.csrf}}).then((function(t){n("removePointFromList",a.local_data.points.delete.id),$("#deletePoint").modal("hide");var e={m:"".concat(a.local_data.points.delete.point_title," was successfully removed."),hideDelay:3500};n("callSuccessAlert",e),n("setSavingMode",{show:!1,padding:500})}),(function(t){console.log(t),n("setSavingMode",{show:!1,padding:0})}))},updatePointListOrder:function(t,e){var n=t.commit,a=t.dispatch;n("updatePointOrder",e.points),a("updateCustomIndexes",e)},updateCustomIndexes:function(t,e){var n=t.commit;t.state;n("setSavingMode",{show:!0,padding:0}),e.points.forEach((function(t,a){t.custom_order_index=a,e.vm.$http.patch("points/".concat(t.id,"/"),t,{headers:{"X-CSRFToken":window.csrf}}).then((function(t){n("setSavingMode",{show:!1,padding:500})}),(function(t){console.log(t),n("setSavingMode",{show:!1,padding:0})}))}))}},s={namespaced:!0,state:i,mutations:c,actions:r},l=s,d=(n("7db0"),n("99af"),n("aa78")),u=n.n(d),m=n("9191"),p=function(){return{viewer:null,canvas:null,container_width:null,osd:{defaultZoomLevel:0,minZoomLevel:0,maxZoomLevel:10},art_data_revertable:{art:null,artist:null,collections:null},art_data:{art:null,artist:null,collections:null,catalog_item:null,iiif_item:null},loaded:!1,art_validation:{messages_alert:{show:!1,message:""}}}},v={initCanvas:function(t,e){t.viewer=u()({id:"artcanvas",visibilityRatio:1,constrainDuringPan:!0,defaultZoomLevel:t.osd.defaultZoomLevel,minZoomLevel:t.osd.minZoomLevel,maxZoomLevel:t.osd.maxZoomLevel,homeFillsViewer:!1,preserveImageSizeOnResize:!1,animationTime:1.6,gestureSettingsMouse:{scrollToZoom:!0},homeButton:"reset",springStiffness:6,minPixelRatio:.2,showNavigationControl:!1,tileSources:t.art_data.iiif_item,crossOriginPolicy:"Anonymous"}),t.canvas=$("#artcanvas").find("canvas")},setContainerWidth:function(t){document.getElementById("art_container")},setCanvas:function(t){t.canvas=$("#artcanvas").find("canvas")},setArtData:function(t,e){t.art_data.art=e;var n=Object.assign({},t.art_data.art);t.art_data_revertable.art=n},setArtDescription:function(t,e){console.log(e),t.art_data.art.about=e},setArtsArtistId:function(t,e){t.art_data.art.artist=e},setArtsPublishState:function(t,e){t.art_data.art.published=e},revert:function(t){var e=Object.assign({},t.art_data_revertable.art),n=Object.assign({},t.art_data_revertable.artist);t.art_data.art=e,t.art_data.artist=n},setArtistData:function(t,e){t.art_data.artist=e;var n=Object.assign({},t.art_data.artist);t.art_data_revertable.artist=n},setCatalogData:function(t,e){t.art_data.catalog_item=e},setIIIF:function(t,e){t.art_data.iiif_item=e},artworkHasLoaded:function(t){t.loaded=!0,this.emitter.emit("artworkHasLoaded")},callDeleteSuccessAlert:function(t,e){var n={show:!0,message:e.m};t.art_validation.messages_alert=n,setTimeout((function(){t.art_validation.messages_alert.show=!1,t.art_validation.messages_alert.message="",window.location.href="/"}),e.hideDelay)},callSuccessAlert:function(t,e){var n={show:!0,message:e.m};t.art_validation.messages_alert=n,setTimeout((function(){t.art_validation.messages_alert.show=!1,t.art_validation.messages_alert.message=""}),e.hideDelay)}},f={preloadArtCanvas:function(t,e){var n=t.commit,a=t.state,o=setInterval((function(){var t=a.viewer.world.getItemAt(0);if(t)var e=t.getFullyLoaded();!0===e&&(n("artworkHasLoaded"),clearInterval(o))}),500)},getIIIFAsset:function(t,e){var n=t.commit,a=(t.state,t.dispatch);e.vm.$http.get("https://dlc.services/iiif-img/3/2/".concat(e.iiif,"/info.json")).then((function(t){console.log("returned iiif"),console.log(t.body),n("setIIIF",t.body),n("initCanvas"),a("preloadArtCanvas")}),(function(t){console.log(t)}))},getCatalogData:function(t,e){var n=t.commit,a=t.dispatch;e.vm.$http.get("".concat(m["a"]).concat(e.accession_number,"/")).then((function(t){console.log(t.body),n("setCatalogData",t.body);var o={vm:e.vm,iiif:t.body.iiif_uuid};a("getIIIFAsset",o)}),(function(t){console.log(t)}))},getArtData:function(t,e){var n=t.commit,a=t.dispatch;e.$http.get("art/".concat(window.art_id,"/")).then((function(t){n("setArtData",t.body);var o={vm:e,artist:t.body.artist};a("getArtistData",o);var i={vm:e,accession_number:t.body.accession_number};a("getCatalogData",i)}),(function(t){console.log(t)}))},getArtistData:function(t,e){var n=t.commit;e.vm.$http.get("artists/".concat(e.artist,"/")).then((function(t){n("setArtistData",t.body)}),(function(t){console.log(t)}))},deleteArt:function(t,e){var n=t.commit,a=t.state;e.vm.$http.delete("art/".concat(e.id),{headers:{"X-CSRFToken":window.csrf}}).then((function(t){$("#publishModal").modal("hide"),$("#deleteArtwork").modal("hide");var e={m:"".concat(a.art_data.art.artwork_title," was successfully deleted."),hideDelay:3500};n("callDeleteSuccessAlert",e)}),(function(t){console.log(t)}))}},g={namespaced:!0,state:p,mutations:v,actions:f},b=g,_=function(){return{open:!1}},h={setSidebarOpen:function(t){t.open=!0},setSidebarClose:function(t){t.open=!1},toggleSidebar:function(t){t.open?t.open=!1:t.open=!0}},O={},j={namespaced:!0,state:_,mutations:h,actions:O},w=j,y=(n("a9e3"),function(){return{viewer:null,canvas:null,canvas_mask:null,osd:{defaultZoomLevel:0,minZoomLevel:0,maxZoomLevel:10},local_data:{art:null,artist:null,points:null,current_point:null,collections:window.collections,catalog_item:null,iiif_item:null},toggles:{info_tray:!1,main_menu:!1},discover_mode:!1,loaded:!1}}),P={initCanvas:function(t,e){t.viewer=u()({id:"artmapcanvas",visibilityRatio:1,constrainDuringPan:!0,defaultZoomLevel:t.osd.defaultZoomLevel,minZoomLevel:t.osd.minZoomLevel,maxZoomLevel:t.osd.maxZoomLevel,homeFillsViewer:!1,preserveImageSizeOnResize:!1,animationTime:1.6,zoomInButton:"zoom-in",zoomOutButton:"zoom-out",gestureSettingsMouse:{scrollToZoom:!0},homeButton:"reset",showNavigator:!0,navigatorId:"artmap-viewfinder",springStiffness:6,minPixelRatio:.2,showNavigationControl:!1,tileSources:t.local_data.iiif_item,crossOriginPolicy:"Anonymous",overlays:t.local_data.points}),t.canvas=$("#artmapcanvas").find("canvas");var n=document.createElement("canvas");n.id="canvas-mask",n.width=window.innerWidth,n.height=window.innerHeight;var a=t.canvas[0];a.parentNode.insertBefore(n,a.nextSibling),t.canvas_mask=$("#artmapcanvas").find("#canvas-mask")},setArtData:function(t,e){t.local_data.art=e},setArtistData:function(t,e){t.local_data.artist=e},setPointData:function(t,e){t.local_data.points=e},setCatalogData:function(t,e){t.local_data.catalog_item=e},setIIIF:function(t,e){t.local_data.iiif_item=e},setDiscoverMode:function(t,e){t.discover_mode=e},toggleDiscoverMode:function(t,e){t.discover_mode?t.discover_mode=!1:t.discover_mode=!0},convertAndSetPoints:function(t){t.local_data.points.length>0&&t.local_data.points.forEach((function(t){t["x"]=Number(t.point_x),t["id"]=String(t.id),t["y"]=Number(t.point_y),t["placement"]="CENTER",t["checkResize"]=!1}))},artmapHasLoaded:function(t){t.loaded=!0,this.emitter.emit("artmapHasLoaded")},setCurrentPoint:function(t,e){t.local_data.current_point=e},setInfoTrayClose:function(t){t.toggles.info_tray=!1,t.local_data.current_point=null},setInfoTrayOpen:function(t){t.toggles.info_tray=!0},toggleMainMenu:function(t){t.toggles.main_menu=!t.toggles.main_menu}},k={preloadArtCanvas:function(t){t.dispatch;var e=t.commit,n=t.state,a=setInterval((function(){if(n.viewer){var t=n.viewer.world.getItemAt(0);if(t)var o=t.getFullyLoaded();!0===o&&(e("artmapHasLoaded"),clearInterval(a))}}),500)},getIIIFAsset:function(t,e){var n=t.commit,a=(t.state,t.dispatch);e.vm.$http.get("https://dlc.services/iiif-img/3/2/".concat(e.iiif,"/info.json")).then((function(t){n("setIIIF",t.body),a("getPoints",e.vm)}),(function(t){console.log(t)}))},getCatalogData:function(t,e){var n=t.commit,a=t.dispatch;e.vm.$http.get("".concat(m["a"]).concat(e.accession_number,"/")).then((function(t){console.log(t.body),n("setCatalogData",t.body);var o={vm:e.vm,iiif:t.body.iiif_uuid};a("getIIIFAsset",o)}),(function(t){console.log(t)}))},getPoints:function(t,e){var n=t.commit;e.$http.get("points/?artwork=".concat(window.art_id)).then((function(t){n("setPointData",t.body),n("convertAndSetPoints"),setTimeout((function(){n("initCanvas")}),1e3)}),(function(t){console.log(t)}))},getArtData:function(t,e){var n=t.commit,a=t.dispatch;e.$http.get("art/".concat(window.art_id,"/")).then((function(t){n("setArtData",t.body);var o={vm:e,artist:t.body.artist};a("getArtistData",o);var i={vm:e,accession_number:t.body.accession_number};a("getCatalogData",i)}),(function(t){console.log(t)}))},getArtistData:function(t,e){var n=t.commit;e.vm.$http.get("artists/".concat(e.artist,"/")).then((function(t){n("setArtistData",t.body)}),(function(t){console.log(t)}))}},C={namespaced:!0,state:y,mutations:P,actions:k},A=C,T=function(){return{viewer:null,canvas:null,canvas_mask:null,osd:{defaultZoomLevel:0,minZoomLevel:0,maxZoomLevel:10},local_data:{art:null,artist:null,points:null,current_point:null,collections:window.collections,catalog_item:null,iiif_item:null},toggles:{info_tray:!1,main_menu:!1},loaded:!1}},I={initCanvas:function(t,e){"".concat(window.art_image,"?d=").concat(Date.now());t.viewer=u()({id:"artmappreviewcanvas",visibilityRatio:1,constrainDuringPan:!0,defaultZoomLevel:t.osd.defaultZoomLevel,minZoomLevel:t.osd.minZoomLevel,maxZoomLevel:t.osd.maxZoomLevel,homeFillsViewer:!1,preserveImageSizeOnResize:!1,animationTime:1.6,zoomInButton:"zoom-in",zoomOutButton:"zoom-out",gestureSettingsMouse:{scrollToZoom:!0},homeButton:"reset",showNavigator:!0,navigatorId:"artmap-viewfinder",springStiffness:6,minPixelRatio:.2,showNavigationControl:!1,tileSources:t.local_data.iiif_item,crossOriginPolicy:"Anonymous",overlays:t.local_data.points}),t.canvas=$("#artmappreviewcanvas").find("canvas");var n=document.createElement("canvas");n.id="canvas-mask",n.width=window.innerWidth,n.height=window.innerHeight;var a=t.canvas[0];a.parentNode.insertBefore(n,a.nextSibling),t.canvas_mask=$("#artmappreviewcanvas").find("#canvas-mask")},setArtData:function(t,e){t.local_data.art=e},setArtistData:function(t,e){t.local_data.artist=e},setPointData:function(t,e){t.local_data.points=e},setCatalogData:function(t,e){t.local_data.catalog_item=e},setIIIF:function(t,e){t.local_data.iiif_item=e},convertAndSetPoints:function(t){t.local_data.points.length>0&&t.local_data.points.forEach((function(t){t["x"]=Number(t.point_x),t["id"]=String(t.id),t["y"]=Number(t.point_y),t["placement"]="CENTER",t["checkResize"]=!1}))},artmapHasLoaded:function(t){t.loaded=!0,this.emitter.emit("artmapHasLoaded")},setCurrentPoint:function(t,e){t.local_data.current_point=e},setInfoTrayClose:function(t){t.toggles.info_tray=!1,t.local_data.current_point=null},setInfoTrayOpen:function(t){t.toggles.info_tray=!0},toggleMainMenu:function(t){t.toggles.main_menu=!t.toggles.main_menu}},D={preloadArtCanvas:function(t){t.dispatch;var e=t.commit,n=t.state,a=setInterval((function(){if(n.viewer){var t=n.viewer.world.getItemAt(0);if(t)var o=t.getFullyLoaded();!0===o&&(e("artmapHasLoaded"),clearInterval(a))}}),500)},getIIIFAsset:function(t,e){var n=t.commit,a=(t.state,t.dispatch);e.vm.$http.get("https://dlc.services/iiif-img/3/2/".concat(e.iiif,"/info.json")).then((function(t){n("setIIIF",t.body),a("getPoints",e.vm)}),(function(t){console.log(t)}))},getCatalogData:function(t,e){var n=t.commit,a=t.dispatch;e.vm.$http.get("".concat(m["a"]).concat(e.accession_number,"/")).then((function(t){console.log(t.body),n("setCatalogData",t.body);var o={vm:e.vm,iiif:t.body.iiif_uuid};a("getIIIFAsset",o)}),(function(t){console.log(t)}))},getPoints:function(t,e){var n=t.commit;e.$http.get("points/?artwork=".concat(window.art_id)).then((function(t){n("setPointData",t.body),n("convertAndSetPoints"),setTimeout((function(){n("initCanvas")}),1e3)}),(function(t){console.log(t)}))},getArtData:function(t,e){var n=t.commit,a=t.dispatch;e.$http.get("art/".concat(window.art_id)).then((function(t){n("setArtData",t.body);var o={vm:e,artist:t.body.artist};a("getArtistData",o);var i={vm:e,accession_number:t.body.accession_number};a("getCatalogData",i)}),(function(t){console.log(t)}))},getArtistData:function(t,e){var n=t.commit;e.vm.$http.get("artists/".concat(e.artist,"/")).then((function(t){n("setArtistData",t.body)}),(function(t){console.log(t)}))}},x={namespaced:!0,state:T,mutations:I,actions:D},L=x,M=Object(a["a"])({modules:{point:l,art:b,sidebar:w,artmapPreview:L}}),S=Object(a["a"])({modules:{artmap:A,point:l}})},"45e9":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("e8d1"),o=n("e6b9"),i=n("7a23");function c(t,e,n,a,o,c){return Object(i["u"])(),Object(i["g"])("p",null,"preview component")}var r={name:"preview"},s=(n("6b46"),n("6b0d")),l=n.n(s);const d=l()(r,[["render",c]]);var u=d,m=n("4360");Object(a["a"])(u,m["b"],o["a"],"#preview")},"4cd2":function(t,e,n){"use strict";n("01dd")},5347:function(t,e,n){},5911:function(t,e,n){"use strict";n("5347")},"6b46":function(t,e,n){"use strict";n("9b5e")},7589:function(t,e,n){t.exports=n.p+"img/right-double-arrow.svg"},"7be1":function(t,e,n){"use strict";n("8104")},8104:function(t,e,n){},"86b4":function(t,e,n){},"8b28":function(t,e,n){"use strict";n("bba3")},9191:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var a="https://conversations.terraamericanart.org/api/v1/artworks/"},"9b5e":function(t,e,n){},a908:function(t,e,n){"use strict";n("4298")},afa4:function(t,e,n){},b014:function(t,e,n){},bba3:function(t,e,n){},c86c:function(t,e,n){},d088:function(t,e,n){},da16:function(t,e,n){"use strict";n("b014")},e6b9:function(t,e,n){"use strict";var a=n("6c02"),o=n("7a23"),i={id:"artmap_container"};function c(t,e,n,a,c,r){var s=this,l=Object(o["z"])("Point"),d=Object(o["z"])("Loader"),u=Object(o["z"])("PointTray"),m=Object(o["z"])("InfoTray"),p=Object(o["z"])("MapCtrl"),v=Object(o["z"])("MainMenuBtn"),f=Object(o["z"])("DiscoverBtn"),g=Object(o["z"])("TerraLogo"),b=Object(o["z"])("MainMenu");return Object(o["u"])(),Object(o["g"])("div",i,[Object(o["j"])(o["b"],{name:"art_loaded"},{default:Object(o["G"])((function(){return[Object(o["H"])(Object(o["h"])("div",{id:"artmapcanvas",class:Object(o["p"])({menuOpen:s.toggles.main_menu})},[t.local_data.points?(Object(o["u"])(!0),Object(o["g"])(o["a"],{key:0},Object(o["y"])(t.local_data.points,(function(t){return Object(o["u"])(),Object(o["e"])(l,{key:"map_item"+t.id,id:t.id,point:t},null,8,["id","point"])})),128)):Object(o["f"])("",!0)],2),[[o["E"],c.loaded]])]})),_:1}),Object(o["j"])(o["b"],{name:"loader"},{default:Object(o["G"])((function(){return[c.loaded?Object(o["f"])("",!0):(Object(o["u"])(),Object(o["e"])(d,{key:0}))]})),_:1}),Object(o["j"])(u),Object(o["j"])(m),Object(o["j"])(p),Object(o["j"])(v),Object(o["j"])(f),c.loaded?(Object(o["u"])(),Object(o["e"])(g,{key:0})):Object(o["f"])("",!0),Object(o["j"])(b)])}var r=n("5530"),s=(n("4de4"),n("d3b7"),n("a9e3"),n("159b"),n("aa78")),l=n.n(s),d=n("5502"),u={class:"loader_wrap"},m=Object(o["h"])("div",{class:"location_indicator"},null,-1),p=[m];function v(t,e){return Object(o["u"])(),Object(o["g"])("div",u,p)}n("7be1");var f=n("6b0d"),g=n.n(f);const b={},_=g()(b,[["render",v]]);var h=_,O=["id"],j=Object(o["h"])("svg",{class:"point_el",width:"34",height:"34"},[Object(o["h"])("circle",{cx:"16",cy:"16",r:"15",transform:"",class:"outer"})],-1),w=[j];function y(t,e,n,a,i,c){return Object(o["u"])(),Object(o["g"])("span",{class:Object(o["p"])(["artmap_point",[{active:t.local_data.current_point===n.point},{ready:t.discover_mode}]]),id:n.point.id,onClick:e[0]||(e[0]=function(t){return c.handlePointClick(n.point.point_slug)})},w,10,O)}var P={props:["point"],computed:Object(r["a"])({},Object(d["d"])("artmap",["viewer","local_data","discover_mode"])),methods:Object(r["a"])(Object(r["a"])({},Object(d["c"])("artmap",["setInfoTrayClose","setInfoTrayOpen"])),{},{handlePointClick:function(t){this.local_data.current_point===this.point?(this.setInfoTrayClose(),this.$router.push({path:"/"})):this.$router.push(t)}})};n("da16");const k=g()(P,[["render",y]]);var C=k,A={id:"point_tray"},T={key:0,class:"point-tray-intro"},I={class:"artist-name"},D={class:"creation-date"},x=Object(o["i"])("Explore the Artwork "),L=Object(o["h"])("div",{id:"viewfinder-wrap"},[Object(o["h"])("div",{id:"artmap-viewfinder"})],-1);function M(t,e,n,a,i,c){var r=Object(o["z"])("TrayPoint"),s=Object(o["z"])("DoubleArrow");return Object(o["H"])((Object(o["u"])(),Object(o["g"])("div",{class:Object(o["p"])(["point_tray_wrap",{open:i.open}])},[Object(o["h"])("div",A,[t.local_data.artist&&t.local_data.art?(Object(o["u"])(),Object(o["g"])("div",T,[Object(o["h"])("h1",null,Object(o["B"])(t.local_data.art.artwork_title),1),Object(o["h"])("p",I,"By "+Object(o["B"])(t.local_data.artist.artist_name),1),Object(o["h"])("p",D,"Created in "+Object(o["B"])(t.local_data.art.artwork_creation_date),1)])):Object(o["f"])("",!0),t.local_data.points?(Object(o["u"])(!0),Object(o["g"])(o["a"],{key:1},Object(o["y"])(t.local_data.points,(function(t){return Object(o["u"])(),Object(o["e"])(r,{key:"tray_item_"+t.id,point:t},null,8,["point"])})),128)):Object(o["f"])("",!0)]),Object(o["h"])("span",{class:Object(o["p"])(["sidebar_reveal",{open:i.open}]),onClick:e[0]||(e[0]=function(t){return i.open=!i.open})},[x,Object(o["j"])(s,{class:"point_tray_reveal_btn"})],2),L],2)),[[o["E"],t.local_data.points&&t.local_data.points.length>0&&t.discover_mode]])}var S=["id"],z={class:"row"},N={class:"col-sm-3"},H={class:"col-sm-9 tray_point_text"};function $(t,e,n,a,i,c){return Object(o["u"])(),Object(o["g"])("div",{class:Object(o["p"])(["tray_item",{active:t.local_data.current_point===n.point}]),id:n.point.id,onClick:e[0]||(e[0]=function(){return c.goTo&&c.goTo.apply(c,arguments)}),onMouseover:e[1]||(e[1]=function(){return c.locatePoint&&c.locatePoint.apply(c,arguments)}),onMouseleave:e[2]||(e[2]=function(){return c.returnToOriginalPosition&&c.returnToOriginalPosition.apply(c,arguments)})},[Object(o["h"])("div",z,[Object(o["h"])("div",N,[n.point.point_image?(Object(o["u"])(),Object(o["g"])("div",{key:0,class:"point_thumb",style:Object(o["q"])("background-image:url("+n.point.point_image+");")},null,4)):Object(o["f"])("",!0)]),Object(o["h"])("div",H,[Object(o["h"])("h2",null,Object(o["B"])(n.point.point_title),1),Object(o["h"])("p",null,Object(o["B"])(n.point.point_lede),1)])])],42,S)}n("cb29");var F=n("ff81"),B=n.n(F),E={props:["point"],computed:Object(r["a"])({},Object(d["d"])("artmap",["viewer","canvas","canvas_mask","local_data"])),methods:{goTo:function(){this.$router.push({path:"/".concat(this.point.point_slug)})},renderQHtml:function(t){var e=JSON.parse(t),n={},a=new B.a(e.ops,n);return a.convert()},clearCanvas:function(){var t=this.canvas_mask[0].getContext("2d");t.clearRect(0,0,this.canvas_mask[0].width,this.canvas_mask[0].height)},locatePoint:function(){console.log(this.point);var t=new l.a.Point(this.point.x,this.point.y);this.viewer.viewport.panTo(t,!1)},returnToOriginalPosition:function(){if(this.local_data.current_point){var t=new l.a.Point(this.local_data.current_point.x,this.local_data.current_point.y),e=Number(this.local_data.current_point.zoom_value);this.viewer.viewport.zoomTo(e,!1),this.viewer.viewport.panTo(t,!1)}else this.viewer.viewport.goHome(!1)},locateMouse:function(t){if(this.clearCanvas(),!this.$route.params.artmap){var e=new l.a.Point(this.point.x,this.point.y),n=this.viewer.viewport.viewportToWindowCoordinates(e),a=this.canvas_mask[0].getContext("2d");a.beginPath(),a.moveTo(t.pageX,t.pageY),a.lineTo(n.x,n.y),a.stroke(),a.strokeStyle="#FFFFFF",a.arc(n.x,n.y,2,0,2*Math.PI),a.fillStyle="#FFFFFF",a.fill()}}}};n("a908");const Z=g()(E,[["render",$]]);var R=Z,X=["innerHTML"];function J(t,e,n,a,i,c){return Object(o["u"])(),Object(o["g"])("div",{class:"icon double-arrow-icon",innerHTML:i.DoubleArrow},null,8,X)}var Q=n("7589"),U=n.n(Q),V={data:function(){return{DoubleArrow:U.a}}};const G=g()(V,[["render",J]]);var W=G,q={data:function(){return{open:!1}},computed:Object(r["a"])({},Object(d["d"])("artmap",["local_data","discover_mode"])),components:{TrayPoint:R,DoubleArrow:W}};n("0e81");const Y=g()(q,[["render",M]]);var K=Y,tt={key:0,id:"artmap_info_tray"},et={class:"info_tray_header row"},nt={class:"controls col-sm-2"},at=Object(o["h"])("i",{class:"gmi-x material-icons"},"",-1),ot=[at],it={class:"next-prev"},ct={class:"info-title col-sm-10"},rt={class:"info-tray-body row justify-content-end"},st={class:"body-content-wrap col-sm-10"},lt=["innerHTML"];function dt(t,e,n,a,i,c){return Object(o["u"])(),Object(o["e"])(o["b"],{name:"info-tray"},{default:Object(o["G"])((function(){return[t.local_data.current_point&&t.toggles.info_tray?(Object(o["u"])(),Object(o["g"])("div",tt,[Object(o["h"])("div",et,[Object(o["h"])("div",nt,[Object(o["h"])("div",{class:"close-tray",onClick:e[0]||(e[0]=function(){return c.closeAndLeave&&c.closeAndLeave.apply(c,arguments)})},ot),Object(o["h"])("div",it,[c.prev?(Object(o["u"])(),Object(o["g"])("i",{key:0,class:"fa fa-angle-left",onClick:e[1]||(e[1]=function(t){return c.cycle("prev")})})):Object(o["f"])("",!0),c.next?(Object(o["u"])(),Object(o["g"])("i",{key:1,class:"fa fa-angle-right",onClick:e[2]||(e[2]=function(t){return c.cycle("next")})})):Object(o["f"])("",!0)])]),Object(o["h"])("div",ct,[Object(o["h"])("h1",null,Object(o["B"])(t.local_data.current_point.point_title),1)])]),Object(o["h"])("div",rt,[Object(o["h"])("div",st,[Object(o["h"])("p",{innerHTML:c.renderQHtml(t.local_data.current_point.point_content)},null,8,lt)])])])):Object(o["f"])("",!0)]})),_:1})}var ut={data:function(){return{currentPos:null}},computed:Object(r["a"])(Object(r["a"])({},Object(d["d"])("artmap",["local_data","toggles","viewer","point_cursor"])),{},{next:function(){if(this.local_data.current_point)return this.setCurrentPointIndex(),this.currentPos!==this.local_data.points.length-1},prev:function(){if(this.local_data.current_point)return this.setCurrentPointIndex(),0!==this.currentPos}}),methods:Object(r["a"])(Object(r["a"])({},Object(d["c"])("artmap",["setInfoTrayClose","setInfoTrayOpen"])),{},{renderQHtml:function(t){var e=JSON.parse(t),n={},a=new B.a(e.ops,n);return a.convert()},closeAndLeave:function(){this.setInfoTrayClose(),this.$router.push({path:"/"})},setCurrentPointIndex:function(){var t=this,e=this.local_data.current_point.id;this.local_data.points.forEach((function(n,a){n.id===e&&(t.currentPos=a)}))},cycle:function(t){"prev"===t&&this.currentPos>0&&(this.currentPos-=1),"next"===t&&this.currentPos<this.local_data.points.length-1&&(this.currentPos+=1),this.$router.push({path:"/".concat(this.local_data.points[this.currentPos].point_slug)})}})};n("8b28");const mt=g()(ut,[["render",dt]]);var pt=mt,vt={class:"map-ctrls"},ft=Object(o["h"])("i",{class:"material-icons"},"",-1),gt=[ft],bt={class:"zooms"},_t=Object(o["h"])("i",{class:"material-icons"},"",-1),ht=[_t],Ot=Object(o["h"])("i",{class:"material-icons"},"",-1),jt=[Ot];function wt(t,e,n,a,i,c){return Object(o["H"])((Object(o["u"])(),Object(o["g"])("div",vt,[Object(o["h"])("span",{onClick:e[0]||(e[0]=function(e){return t.viewer.viewport.goHome(!1)}),class:"reset-btn",id:"reset"},gt),Object(o["h"])("span",bt,[Object(o["h"])("span",{onClick:e[1]||(e[1]=function(t){return c.zoom(!0)}),class:"zoom-btn",id:"zoom-in"},ht),Object(o["h"])("span",{onClick:e[2]||(e[2]=function(t){return c.zoom(!1)}),class:"zoom-btn",id:"zoom-out"},jt)])],512)),[[o["E"],t.discover_mode]])}var yt={computed:Object(r["a"])({},Object(d["d"])("artmap",["viewer","discover_mode","osd"])),methods:{zoom:function(t){var e=Math.round(this.viewer.viewport.getZoom(!0));t?(e<this.osd.maxZoomLevel&&(e+=1),this.viewer.viewport.zoomTo(e,!1)):e>=3?(e-=1,this.viewer.viewport.zoomTo(e,!1)):e>=2&&this.viewer.viewport.goHome(!1)}}};n("eef2");const Pt=g()(yt,[["render",wt]]);var kt=Pt,Ct=(n("b0c0"),{key:0,class:"artmap-menu"}),At={class:"artmap-menu-wrap"},Tt={key:0,class:"art_meta_info"},It=Object(o["h"])("br",null,null,-1),Dt={class:"italic_title"},xt=Object(o["h"])("br",null,null,-1),Lt={class:"catalog_caption"},Mt=Object(o["h"])("br",null,null,-1),St=["innerHTML"],zt={class:"collection_list"},Nt=Object(o["h"])("div",{class:"row no-gutters"},[Object(o["h"])("p",{class:"related-section-label"},"Related:")],-1),Ht={class:"col-sm-12"},$t=["innerHTML"],Ft={key:1,class:"external_link col-sm-12"},Bt=["href"],Et=Object(o["i"])("Read More "),Zt=Object(o["h"])("span",{class:"oi oi-chevron-right"},null,-1),Rt=[Et,Zt],Xt=["onClick"],Jt={class:"collection_artwork_title"};function Qt(t,e,n,a,i,c){return Object(o["u"])(),Object(o["e"])(o["b"],{name:"main-menu"},{default:Object(o["G"])((function(){return[t.toggles.main_menu?(Object(o["u"])(),Object(o["g"])("div",Ct,[Object(o["h"])("div",At,[t.local_data.art&&t.local_data.catalog_item?(Object(o["u"])(),Object(o["g"])("div",Tt,[Object(o["h"])("h1",null,[Object(o["i"])(Object(o["B"])(t.local_data.catalog_item.artist)+" "+Object(o["B"])(t.local_data.catalog_item.artist_lifespan),1),It,Object(o["h"])("span",Dt,Object(o["B"])(t.local_data.catalog_item.title)+",",1),Object(o["i"])(" "+Object(o["B"])(t.local_data.catalog_item.year),1),xt]),Object(o["h"])("p",Lt,[Object(o["i"])(Object(o["B"])(t.local_data.catalog_item.medium)+" "+Object(o["B"])(t.local_data.catalog_item.dimensions),1),Mt,Object(o["i"])(" "+Object(o["B"])(t.local_data.catalog_item.credit)+", "+Object(o["B"])(t.local_data.catalog_item.object_number),1)]),t.local_data.art.about?(Object(o["u"])(),Object(o["g"])("p",{key:0,innerHTML:c.renderQHtml(t.local_data.art.about)},null,8,St)):Object(o["f"])("",!0)])):Object(o["f"])("",!0),Object(o["h"])("div",zt,[Nt,t.local_data.collections?(Object(o["u"])(!0),Object(o["g"])(o["a"],{key:0},Object(o["y"])(t.local_data.collections,(function(t,e){return Object(o["u"])(),Object(o["g"])("div",{class:"row related_collection no-gutters",key:e},[Object(o["h"])("h2",Ht,Object(o["B"])(t.collection_title),1),"None"!==t.curatorial_statement?(Object(o["u"])(),Object(o["g"])("p",{key:0,class:"curatorial_statement col-sm-12",innerHTML:t.curatorial_statement},null,8,$t)):Object(o["f"])("",!0),"None"!==t.external_link?(Object(o["u"])(),Object(o["g"])("p",Ft,[Object(o["h"])("a",{href:t.external_link,target:"blank"},Rt,8,Bt)])):Object(o["f"])("",!0),t.artworks.length?(Object(o["u"])(!0),Object(o["g"])(o["a"],{key:2},Object(o["y"])(t.artworks,(function(t,e){return Object(o["u"])(),Object(o["g"])("div",{class:"col-sm-3 related-artwork",key:e,onClick:function(e){return c.goToArtmap(t.slug)}},[Object(o["h"])("div",{class:"artwork_img",style:Object(o["q"])("background-image:url("+t.url+");")},null,4),Object(o["h"])("h1",Jt,Object(o["B"])(t.name),1),Object(o["h"])("p",null,"by "+Object(o["B"])(t.artist),1)],8,Xt)})),128)):Object(o["f"])("",!0)])})),128)):Object(o["f"])("",!0)])])])):Object(o["f"])("",!0)]})),_:1})}var Ut={data:function(){return{open:!1}},computed:Object(r["a"])({},Object(d["d"])("artmap",["toggles","local_data"])),methods:{renderQHtml:function(t){var e=JSON.parse(t),n={},a=new B.a(e.ops,n);return a.convert()},goToArtmap:function(t){window.location.href="/gallery/".concat(t)}}};n("015f");const Vt=g()(Ut,[["render",Qt]]);var Gt=Vt,Wt={class:"info-menu"},qt={class:"material-icons"};function Yt(t,e,n,a,i,c){return Object(o["H"])((Object(o["u"])(),Object(o["g"])("span",{class:Object(o["p"])(["main-menu-trigger",{active:t.toggles.main_menu}]),onClick:e[0]||(e[0]=function(){return t.toggleMainMenu&&t.toggleMainMenu.apply(t,arguments)})},[Object(o["H"])(Object(o["h"])("i",Wt,"i",512),[[o["E"],!t.toggles.main_menu]]),Object(o["H"])(Object(o["h"])("i",qt,"",512),[[o["E"],t.toggles.main_menu]])],2)),[[o["E"],t.loaded]])}var Kt={computed:Object(r["a"])({},Object(d["d"])("artmap",["toggles","discover_mode","loaded"])),methods:Object(r["a"])({},Object(d["c"])("artmap",["toggleMainMenu"]))};n("4151");const te=g()(Kt,[["render",Yt]]);var ee=te,ne={key:0},ae={key:1};function oe(t,e,n,a,i,c){return Object(o["H"])((Object(o["u"])(),Object(o["g"])("button",{class:Object(o["p"])(["btn btn-primary btn-discover",{exit_ready:t.discover_mode}]),onClick:e[0]||(e[0]=function(){return t.toggleDiscoverMode&&t.toggleDiscoverMode.apply(t,arguments)})},[t.discover_mode?(Object(o["u"])(),Object(o["g"])("span",ne,"Hide Navigation")):(Object(o["u"])(),Object(o["g"])("span",ae,"Discover"))],2)),[[o["E"],t.loaded]])}var ie={computed:Object(r["a"])({},Object(d["d"])("artmap",["discover_mode","loaded"])),methods:Object(r["a"])({},Object(d["c"])("artmap",["toggleDiscoverMode"]))};n("5911");const ce=g()(ie,[["render",oe]]);var re=ce,se=["innerHTML"];function le(t,e,n,a,i,c){return Object(o["u"])(),Object(o["g"])("div",{class:"icon terra-logo",innerHTML:i.TerraLogo},null,8,se)}var de=n("301c"),ue=n.n(de),me={data:function(){return{TerraLogo:ue.a}}};n("4cd2");const pe=g()(me,[["render",le]]);var ve=pe,fe={data:function(){return{loaded:!1}},computed:Object(r["a"])({},Object(d["d"])("artmap",["viewer","local_data","toggles","discover_mode"])),watch:{$route:function(t){t.params.artmap?this.getArtPointOr404(t.params.artmap):this.viewer.viewport.goHome(!1)}},methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(d["c"])("artmap",["initCanvas","convertAndSetPoints","setCurrentPoint","setInfoTrayOpen","setInfoTrayClose","toggleMainMenu","toggleDiscoverMode"])),Object(d["b"])("artmap",["getPoints","preloadArtCanvas","getArtData","getArtistData"])),{},{getArtPointOr404:function(t){var e=this.local_data.points.filter((function(e){return e.point_slug===String(t)}));e.length>0?(this.discover_mode||this.toggleDiscoverMode(),this.setCurrentPoint(e[0]),this.goTo(e[0]),console.log(e[0]),this.setInfoTrayOpen()):this.setInfoTrayClose()},goHome:function(){console.log(this.viewer),this.viewer.viewport.goHome(!1)},goTo:function(t){var e={x:Number(t.point_x),y:Number(t.point_y)},n=new l.a.Point(e.x,e.y),a=Number(t.zoom_value);this.viewer.viewport.zoomTo(a,!1),this.viewer.viewport.panTo(n,!1),console.log(n)},setOverlays:function(){var t=this;this.viewer.clearOverlays(),this.local_data.points.all&&this.local_data.points.all.forEach((function(e){var n=document.createElement("div");n.id=String(e.id),n.className="artmap_point";var a={element:n,placement:"CENTER",checkResize:!1,location:new l.a.Point(Number(e.point_x),Number(e.point_y))};t.viewer.addOverlay(a)}))}}),created:function(){this.preloadArtCanvas(),this.getArtData(this)},mounted:function(){var t=this;this.emitter.on("artmapHasLoaded",(function(){t.loaded=!0,t.getArtPointOr404(t.$route.params.artmap)}))},components:{Loader:h,Point:C,PointTray:K,InfoTray:pt,MapCtrl:kt,MainMenu:Gt,MainMenuBtn:ee,DiscoverBtn:re,TerraLogo:ve}};n("ed51");const ge=g()(fe,[["render",c]]);var be=ge,_e=[{path:"/:artmap",name:"base",component:be}],he=Object(a["a"])({history:Object(a["b"])(""),routes:_e});e["a"]=he},e8d1:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n("5530"),o=n("7a23"),i=n("1344"),c=function(t,e,n,c){var r=Object(i["a"])(),s=document.querySelector(c),l=Object(o["d"])(t,Object(a["a"])({},s.dataset));return l.config.globalProperties.emitter=r,e&&l.use(e),n&&l.use(n),l.mount(c),l}},ed51:function(t,e,n){"use strict";n("d088")},eef2:function(t,e,n){"use strict";n("f749")},f749:function(t,e,n){}});