(function(t){function e(e){for(var n,c,r=e[0],s=e[1],l=e[2],u=0,m=[];u<r.length;u++)c=r[u],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&m.push(o[c][0]),o[c]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);d&&d(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,r=1;r<a.length;r++){var s=a[r];0!==o[s]&&(n=!1)}n&&(i.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},o={editor:0},i=[];function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=s;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("8ef1")},"0219":function(t,e){var a=function(t,e){var a=new Image;a.crossOrigin="Anonymous",a.onload=function(){var t,a=document.createElement("CANVAS"),n=a.getContext("2d");a.height=this.height,a.width=this.width,n.drawImage(this,0,0),t=a.toDataURL(),e(t),a=null},a.src=t};t.exports={convertImgToDataURLviaCanvas:a}},"07ef":function(t,e,a){"use strict";a("e682")},"0898":function(t,e,a){},"09d6":function(t,e,a){},"12e0":function(t,e,a){},"136d":function(t,e,a){},1408:function(t,e,a){},"14a9":function(t,e,a){},"155b":function(t,e,a){},"160a":function(t,e,a){t.exports=a.p+"img/pencil.svg"},"184a":function(t,e,a){"use strict";a("09d6")},"196c":function(t,e,a){"use strict";a("f363")},"1c6e":function(t,e,a){"use strict";var n=a("7a23"),o={class:"loader_wrap"},i=Object(n["createElementVNode"])("div",{class:"location_indicator"},null,-1),c=[i];function r(t,e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,c)}a("184a");var s=a("d959"),l=a.n(s);const d={},u=l()(d,[["render",r]]);e["a"]=u},"206a":function(t,e,a){},"26e8":function(t,e,a){},2781:function(t,e,a){},"2df1":function(t,e,a){"use strict";a("bf64")},3532:function(t,e,a){"use strict";a("155b")},"3bb7":function(t,e,a){"use strict";a("12e0")},"3bfd":function(t,e,a){},4342:function(t,e,a){"use strict";a("ba36")},4360:function(t,e,a){"use strict";a.d(e,"b",(function(){return M})),a.d(e,"a",(function(){return A}));var n=a("5502"),o=(a("d3b7"),a("159b"),a("4de4"),a("9191")),i=a("0219"),c=function(){return{captures:{new:null,edit:null},modes:{editing:!1,new:!1},modals:{edit:!1},local_data:{points:{new:{point_x:null,point_y:null,point_title:null,point_image:"",point_slug:null,point_content:null,point_lede:null,artwork_context:null,zoom_value:null,scale_value:null},edit:null,all:null,delete:null}},validation:{messages:{id:"you need to add a point to the artwork by clicking on the image.",point_x:"you need to add a point to the artwork by clicking on the image.",point_y:"you need to add a point to the artwork by clicking on the image.",point_title:"you need to give this point a title.",point_slug:"you need to give this point a title.",point_content:"you need to add a description to this point.",artwork_context:"there is a problem with the current piece of art. Try reloading the page."},submission:!1,messages_alert:{show:!1,message:""},editor_alert:{show:!1,message:""},progress:!1}}},r={setPoints:function(t,e){e.forEach((function(t){Object(i["convertImgToDataURLviaCanvas"])(t.point_image,(function(e){t.point_image=e}))})),t.local_data.points.all=e},setCapturedThumb:function(t,e){t.captures.new=e,t.local_data.points.new.point_image=String(e.image.src),t.local_data.points.new.scale_value=e.scale_value},setEditCandidate:function(t,e){t.local_data.points.edit=e},setEditCaptureThumb:function(t,e){t.captures.edit=e,e.image&&(t.local_data.points.edit.point_image=e.image.src),e.size&&(t.local_data.points.edit.scale_value=e.size)},setNewPointCoords:function(t,e){t.local_data.points.new.point_x=e.x,t.local_data.points.new.point_y=e.y,t.local_data.points.new.zoom_value=e.zoom_value},setEditPointCoords:function(t,e){t.local_data.points.edit.point_x=e.x,t.local_data.points.edit.point_y=e.y,t.local_data.points.edit.zoom_value=e.zoom_value},setNewPointContent:function(t,e){t.local_data.points.new.artwork_context=e.artwork,t.local_data.points.new.point_content=e.content},setEditingPoint:function(t,e){t.modes.editing=e},toggleShowNewPoint:function(t){t.modes.new?(t.modes.new=!1,this.emitter.emit("cancelAnyNewPoint")):(t.modes.new=!0,this.emitter.emit("showAddNewPoint"))},showEditPointModal:function(t){t.modals.edit=!0,$("#editArtPoint").modal("show")},closeEditPointModal:function(t){t.modals.edit=!1,$("#editArtPoint").modal("show")},closeNewPoint:function(t,e){t.modes.new=!1,t.captures.new=null,e.vm.emitter.emit("cancelAnyNewPoint")},showNewPoint:function(t,e){t.modes.new=!0,e.vm.emitter.emit("showAddNewPoint")},setPointEditorAlert:function(t,e){t.validation.editor_alert=e},setValidation:function(t,e){t.validation.submission=e},resetNewPointData:function(t){t.local_data.points.new={point_x:null,point_y:null,point_title:null,point_image:"",point_slug:null,point_content:null,point_lede:null,artwork_context:null,zoom_value:null,scale_value:null}},addNewPointToList:function(t,e){t.local_data.points.all&&t.local_data.points.all.length?Object(i["convertImgToDataURLviaCanvas"])(e.point.point_image,(function(a){e.point.point_image=a,t.local_data.points.all.push(e.point),e.cb()})):Object(i["convertImgToDataURLviaCanvas"])(e.point.point_image,(function(a){e.point.point_image=a,t.local_data.points.all=[],t.local_data.points.all.push(e.point),e.cb()}))},removePointFromList:function(t,e){var a=t.local_data.points.all.filter((function(t){return t.id!==e}));t.local_data.points.all=a},setPointToBeDeleted:function(t,e){t.local_data.points.delete=e},callSuccessAlert:function(t,e){var a={show:!0,message:e.m};t.validation.messages_alert=a,setTimeout((function(){t.validation.messages_alert.show=!1,t.validation.messages_alert.message=""}),e.hideDelay)},updatePointOrder:function(t,e){t.local_data.points.all=e},setSavingMode:function(t,e){setTimeout((function(){t.validation.progress=e.show}),e.padding)}},s={getPoints:function(t,e){var a=t.commit;o["a"].get("points/?artwork=".concat(window.art_id)).then((function(t){a("setPoints",t.data)}),(function(t){console.log(t)}))},saveNewPoint:function(t,e){var a=t.commit,n=t.dispatch,i=t.state;a("setSavingMode",{show:!0,padding:0}),o["a"].post("points/",i.local_data.points.new,{headers:{"X-CSRFToken":window.csrf}}).then((function(t){$("#newArtPoint").modal("hide"),e.rt.editor.setContents([]),a("addNewPointToList",{cb:function(){e.emitter.emit("openSidebar"),n("updateCustomIndexes",{vm:e,points:i.local_data.points.all}),a("closeNewPoint",{vm:e}),a("resetNewPointData");var o={m:"".concat(t.data.point_title," was successfully Added."),hideDelay:3500};a("callSuccessAlert",o),a("setSavingMode",{show:!1,padding:500})},point:t.data})}),(function(t){console.log(t),a("setSavingMode",{show:!1,padding:0})}))},savePointEdit:function(t,e){var a=t.commit,n=t.dispatch;a("setSavingMode",{show:!0,padding:0}),o["a"].put("points/".concat(e.pointData.id,"/"),e.pointData,{headers:{"X-CSRFToken":window.csrf}}).then((function(t){e.vm.postSaveCleanup(),n("getPoints",e.vm),$("#editArtPoint").modal("hide");var o={m:"".concat(t.data.point_title," was successfully updated."),hideDelay:3500};a("callSuccessAlert",o),a("setSavingMode",{show:!1,padding:500})}),(function(t){console.log(t),a("setSavingMode",{show:!1,padding:0})}))},deletePoint:function(t,e){var a=t.commit,n=t.state;a("setSavingMode",{show:!0,padding:0}),o["a"].delete("points/".concat(n.local_data.points.delete.id,"/"),{headers:{"X-CSRFToken":window.csrf}}).then((function(t){a("removePointFromList",n.local_data.points.delete.id),$("#deletePoint").modal("hide");var e={m:"".concat(n.local_data.points.delete.point_title," was successfully removed."),hideDelay:3500};a("callSuccessAlert",e),a("setSavingMode",{show:!1,padding:500})}),(function(t){console.log(t),a("setSavingMode",{show:!1,padding:0})}))},updatePointListOrder:function(t,e){var a=t.commit,n=t.dispatch;a("updatePointOrder",e.points),n("updateCustomIndexes",e)},updateCustomIndexes:function(t,e){var a=t.commit;t.state;a("setSavingMode",{show:!0,padding:0}),e.points.forEach((function(t,e){t.custom_order_index=e,o["a"].patch("points/".concat(t.id,"/"),t,{headers:{"X-CSRFToken":window.csrf}}).then((function(t){a("setSavingMode",{show:!1,padding:500})}),(function(t){console.log(t),a("setSavingMode",{show:!1,padding:0})}))}))}},l={namespaced:!0,state:c,mutations:r,actions:s},d=l,u=(a("7db0"),a("aa78")),m=a.n(u),h=function(){return{viewer:null,canvas:null,container_width:null,osd:{defaultZoomLevel:0,minZoomLevel:0,maxZoomLevel:10},art_data_revertable:{art:null,artist:null,collections:null},art_data:{art:null,artist:null,collections:null,iiif_item:null},loaded:!1,art_validation:{messages_alert:{show:!1,message:""}}}},p={initCanvas:function(t){setTimeout((function(){t.viewer=m()({id:"artcanvas",visibilityRatio:1,constrainDuringPan:!0,defaultZoomLevel:t.osd.defaultZoomLevel,minZoomLevel:t.osd.minZoomLevel,maxZoomLevel:t.osd.maxZoomLevel,homeFillsViewer:!1,preserveImageSizeOnResize:!1,animationTime:1.6,gestureSettingsMouse:{scrollToZoom:!0},homeButton:"reset",springStiffness:6,minPixelRatio:.2,showNavigationControl:!1,tileSources:t.art_data.iiif_item,crossOriginPolicy:"Anonymous"}),t.canvas=$("#artcanvas").find("canvas")}),0)},setContainerWidth:function(t){document.getElementById("art_container")},setCanvas:function(t){t.canvas=$("#artcanvas").find("canvas")},setArtData:function(t,e){t.art_data.art=e;var a=Object.assign({},t.art_data.art);t.art_data_revertable.art=a},setArtDescription:function(t,e){t.art_data.art.about=e},setArtsArtistId:function(t,e){t.art_data.art.artist=e},setArtsPublishState:function(t,e){t.art_data.art.published=e},revert:function(t){var e=Object.assign({},t.art_data_revertable.art),a=Object.assign({},t.art_data_revertable.artist);t.art_data.art=e,t.art_data.artist=a},setArtistData:function(t,e){t.art_data.artist=e;var a=Object.assign({},t.art_data.artist);t.art_data_revertable.artist=a},setIIIF:function(t,e){t.art_data.iiif_item=e},artmapHasLoaded:function(t,e){t.loaded=!0,e.emitter.emit("artmapHasLoaded")},callDeleteSuccessAlert:function(t,e){var a={show:!0,message:e.m};t.art_validation.messages_alert=a,setTimeout((function(){t.art_validation.messages_alert.show=!1,t.art_validation.messages_alert.message="",window.location.href="/"}),e.hideDelay)},callSuccessAlert:function(t,e){var a={show:!0,message:e.m};t.art_validation.messages_alert=a,setTimeout((function(){t.art_validation.messages_alert.show=!1,t.art_validation.messages_alert.message=""}),e.hideDelay)}},b={getIIIFAsset:function(t,e){var a=t.commit;t.state,t.dispatch;return new Promise((function(t,n){o["a"].get("https://dlc.services/iiif-img/3/2/".concat(e,"/info.json")).then((function(e){a("setIIIF",e.data),t(e)}),(function(t){n(t)}))}))},getArtData:function(t,e){var a=t.commit;t.dispatch;return new Promise((function(t,e){o["a"].get("art/".concat(window.art_id,"/")).then((function(e){a("setArtData",e.data),t(e)}),(function(t){e(t)}))}))},getArtistData:function(t,e){var a=t.commit;return new Promise((function(t,n){o["a"].get("artists/".concat(e,"/")).then((function(e){a("setArtistData",e.data),t(e)}),(function(t){n(t)}))}))},deleteArt:function(t,e){var a=t.commit,n=t.state;o["a"].delete("art/".concat(e.id),{headers:{"X-CSRFToken":window.csrf}}).then((function(t){$("#publishModal").modal("hide"),$("#deleteArtwork").modal("hide");var e={m:"".concat(n.art_data.art.artwork_title," was successfully deleted."),hideDelay:3500};a("callDeleteSuccessAlert",e)}),(function(t){console.log(t)}))}},f={namespaced:!0,state:h,mutations:p,actions:b},v=f,_=function(){return{open:!1}},g={setSidebarOpen:function(t){t.open=!0},setSidebarClose:function(t){t.open=!1},toggleSidebar:function(t){t.open?t.open=!1:t.open=!0}},j={},w={namespaced:!0,state:_,mutations:g,actions:j},O=w,k=(a("a9e3"),function(){return{viewer:null,canvas:null,canvas_mask:null,osd:{defaultZoomLevel:0,minZoomLevel:0,maxZoomLevel:10},local_data:{art:null,artist:null,points:null,current_point:null,collections:window.collections,iiif_item:null},toggles:{info_tray:!1,main_menu:!1},discover_mode:!1,loaded:!1}}),y={initCanvas:function(t,e){t.local_data.points=e,t.local_data.points.forEach((function(t){t["x"]=Number(t.point_x),t["id"]=String(t.id),t["y"]=Number(t.point_y),t["placement"]="CENTER",t["checkResize"]=!1})),setTimeout((function(){t.viewer=m()({id:"artmapcanvas",visibilityRatio:1,constrainDuringPan:!0,defaultZoomLevel:t.osd.defaultZoomLevel,minZoomLevel:t.osd.minZoomLevel,maxZoomLevel:t.osd.maxZoomLevel,homeFillsViewer:!1,preserveImageSizeOnResize:!1,animationTime:1.6,zoomInButton:"zoom-in",zoomOutButton:"zoom-out",gestureSettingsMouse:{scrollToZoom:!0},homeButton:"reset",showNavigator:!0,navigatorId:"artmap-viewfinder",springStiffness:6,minPixelRatio:.2,showNavigationControl:!1,tileSources:t.local_data.iiif_item,crossOriginPolicy:"Anonymous",overlays:t.local_data.points}),t.canvas=$("#artmapcanvas").find("canvas");var e=document.createElement("canvas");e.id="canvas-mask",e.width=window.innerWidth,e.height=window.innerHeight;var a=t.canvas[0];a.parentNode.insertBefore(e,a.nextSibling),t.canvas_mask=$("#artmapcanvas").find("#canvas-mask")}),0)},setArtData:function(t,e){t.local_data.art=e},setArtistData:function(t,e){t.local_data.artist=e},setIIIF:function(t,e){t.local_data.iiif_item=e},setDiscoverMode:function(t,e){t.discover_mode=e},toggleDiscoverMode:function(t,e){t.discover_mode?t.discover_mode=!1:t.discover_mode=!0},artmapHasLoaded:function(t,e){t.loaded=!0,e.emitter.emit("artmapHasLoaded")},setCurrentPoint:function(t,e){t.local_data.current_point=e},setInfoTrayClose:function(t){t.toggles.info_tray=!1,t.local_data.current_point=null},setInfoTrayOpen:function(t){t.toggles.info_tray=!0},toggleMainMenu:function(t){t.toggles.main_menu=!t.toggles.main_menu}},E={getIIIFAsset:function(t,e){var a=t.commit;t.state,t.dispatch;return new Promise((function(t,n){o["a"].get("https://dlc.services/iiif-img/3/2/".concat(e,"/info.json")).then((function(e){a("setIIIF",e.data),t(e)}),(function(t){n(t)}))}))},getPoints:function(t){t.commit;return new Promise((function(t,e){o["a"].get("points/?artwork=".concat(window.art_id)).then((function(e){t(e)}),(function(t){e(t)}))}))},getArtData:function(t,e){var a=t.commit;t.dispatch;return new Promise((function(t,e){o["a"].get("art/".concat(window.art_id,"/")).then((function(e){a("setArtData",e.data),t(e)}),(function(t){e(t)}))}))},getArtistData:function(t,e){var a=t.commit;return new Promise((function(t,n){o["a"].get("artists/".concat(e,"/")).then((function(e){a("setArtistData",e.data),t(e)}),(function(t){n(t)}))}))}},N={namespaced:!0,state:k,mutations:y,actions:E},x=N,C=(a("99af"),function(){return{viewer:null,canvas:null,canvas_mask:null,osd:{defaultZoomLevel:0,minZoomLevel:0,maxZoomLevel:10},local_data:{art:null,artist:null,points:null,current_point:null,collections:window.collections,iiif_item:null},toggles:{info_tray:!1,main_menu:!1},loaded:!1}}),V={initCanvas:function(t,e){"".concat(window.art_image,"?d=").concat(Date.now());t.viewer=m()({id:"artmappreviewcanvas",visibilityRatio:1,constrainDuringPan:!0,defaultZoomLevel:t.osd.defaultZoomLevel,minZoomLevel:t.osd.minZoomLevel,maxZoomLevel:t.osd.maxZoomLevel,homeFillsViewer:!1,preserveImageSizeOnResize:!1,animationTime:1.6,zoomInButton:"zoom-in",zoomOutButton:"zoom-out",gestureSettingsMouse:{scrollToZoom:!0},homeButton:"reset",showNavigator:!0,navigatorId:"artmap-viewfinder",springStiffness:6,minPixelRatio:.2,showNavigationControl:!1,tileSources:t.local_data.iiif_item,crossOriginPolicy:"Anonymous",overlays:t.local_data.points}),t.canvas=$("#artmappreviewcanvas").find("canvas");var a=document.createElement("canvas");a.id="canvas-mask",a.width=window.innerWidth,a.height=window.innerHeight;var n=t.canvas[0];n.parentNode.insertBefore(a,n.nextSibling),t.canvas_mask=$("#artmappreviewcanvas").find("#canvas-mask")},setArtData:function(t,e){t.local_data.art=e},setArtistData:function(t,e){t.local_data.artist=e},setPointData:function(t,e){t.local_data.points=e},setIIIF:function(t,e){t.local_data.iiif_item=e},convertAndSetPoints:function(t){t.local_data.points.length>0&&t.local_data.points.forEach((function(t){t["x"]=Number(t.point_x),t["id"]=String(t.id),t["y"]=Number(t.point_y),t["placement"]="CENTER",t["checkResize"]=!1}))},artmapHasLoaded:function(t,e){t.loaded=!0,e.emitter.emit("artmapHasLoaded")},setCurrentPoint:function(t,e){t.local_data.current_point=e},setInfoTrayClose:function(t){t.toggles.info_tray=!1,t.local_data.current_point=null},setInfoTrayOpen:function(t){t.toggles.info_tray=!0},toggleMainMenu:function(t){t.toggles.main_menu=!t.toggles.main_menu}},P={preloadArtCanvas:function(t,e){t.dispatch;var a=t.commit,n=t.state,o=setInterval((function(){if(n.viewer){var t=n.viewer.world.getItemAt(0);if(t)var i=t.getFullyLoaded();!0===i&&(a("artmapHasLoaded",e),clearInterval(o))}}),500)},getIIIFAsset:function(t,e){var a=t.commit;t.state,t.dispatch;return new Promise((function(t,n){o["a"].get("https://dlc.services/iiif-img/3/2/".concat(e,"/info.json")).then((function(e){a("setIIIF",e.data),t(e)}),(function(t){console.log(t),n(t)}))}))},getPoints:function(t){var e=t.commit;return new Promise((function(t,a){o["a"].get("points/?artwork=".concat(window.art_id)).then((function(a){e("setPointData",a.data),e("convertAndSetPoints"),t(a)}),(function(t){console.log(t),a(t)}))}))},getArtData:function(t){var e=t.commit;t.dispatch;return new Promise((function(t,a){o["a"].get("art/".concat(window.art_id,"/")).then((function(a){e("setArtData",a.data),t(a)})).catch((function(t){console.log(t),a(t)}))}))},getArtistData:function(t,e){var a=t.commit;return new Promise((function(t,n){o["a"].get("artists/".concat(e,"/")).then((function(e){a("setArtistData",e.data),t(e)}),(function(t){console.log(t),n(t)}))}))}},S={namespaced:!0,state:C,mutations:V,actions:P},B=S,M=Object(n["a"])({modules:{point:d,art:v,sidebar:O,artmapPreview:B}}),A=Object(n["a"])({modules:{artmap:x,point:d}})},4678:function(t,e,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(t){var e=i(t);return a(e)}function i(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=i,t.exports=o,o.id="4678"},"486e":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("ac1f"),a("5319"),a("a9e3"),a("9129");var n=function(t,e,a){a.valid[t]=!(!e||"default"===e||""===e)}},"4a32":function(t,e,a){"use strict";a("efc8")},"4cb3":function(t,e,a){"use strict";a("5af7")},"4eb9":function(t,e,a){"use strict";a("9b3e")},5081:function(t,e,a){"use strict";a("915d")},"58ae":function(t,e,a){"use strict";a("14a9")},"5af7":function(t,e,a){},6162:function(t,e,a){"use strict";a("d13d")},"62d2":function(t,e,a){"use strict";a("26e8")},"6be7":function(t,e,a){"use strict";a("3bfd")},"6cc7":function(t,e,a){"use strict";a("ad05")},7158:function(t,e,a){},7526:function(t,e,a){t.exports=a.p+"img/publish.svg"},"756d":function(t,e,a){"use strict";a("2781")},"7a17":function(t,e,a){"use strict";a("e6a9")},"7e40":function(t,e,a){"use strict";a("1408")},8468:function(t,e,a){},"8bb8":function(t,e,a){},"8d68":function(t,e,a){"use strict";a("ee70")},"8ef1":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("e8d1"),o=a("e6b9"),i=a("7a23"),c={id:"artmapper-layer"},r={id:"artmapbuild"};function s(t,e,a,n,o,s){var l=Object(i["resolveComponent"])("Navigation"),d=Object(i["resolveComponent"])("SideBar"),u=Object(i["resolveComponent"])("ArtCanvas"),m=Object(i["resolveComponent"])("DeleteModal"),h=Object(i["resolveComponent"])("PublishModal"),p=Object(i["resolveComponent"])("DeleteArtworkModal");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",c,[Object(i["createVNode"])(l),Object(i["createElementVNode"])("div",r,[Object(i["createVNode"])(d),Object(i["createVNode"])(u),Object(i["createVNode"])(m),Object(i["createVNode"])(h),Object(i["createVNode"])(p)])])}var l=a("5530"),d=a("5502"),u=function(t){return Object(i["pushScopeId"])("data-v-e007d438"),t=t(),Object(i["popScopeId"])(),t},m={class:"sidebar_wrap"},h=u((function(){return Object(i["createElementVNode"])("div",{class:"sidebar_header"},[Object(i["createElementVNode"])("p",null,"Your Points")],-1)})),p={class:"art_points"},b=Object(i["createTextVNode"])("Show Artmap Points "),f=u((function(){return Object(i["createElementVNode"])("span",{class:"arrow"},null,-1)})),v=[b,f];function _(t,e,a,n,o,c){var r=Object(i["resolveComponent"])("PointList");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{id:"art_mapper_sidebar",class:Object(i["normalizeClass"])({open:t.open})},[Object(i["createElementVNode"])("div",m,[h,Object(i["createElementVNode"])("div",p,[Object(i["createVNode"])(r)])]),Object(i["createElementVNode"])("span",{class:"sidebar_reveal",onClick:e[0]||(e[0]=function(){return c.toggleTheSidebar&&c.toggleTheSidebar.apply(c,arguments)})},v)],2)}function g(t,e,a,n,o,c){var r=Object(i["resolveComponent"])("PointListItem"),s=Object(i["resolveComponent"])("draggable");return c.local_data_points_all?(Object(i["openBlock"])(),Object(i["createBlock"])(s,{key:0,list:c.local_data_points_all,ghostClass:"sortable-ghost",delay:0,disabled:!1,animation:350,onStart:c.choosing,onEnd:c.choiceMade,"item-key":"id"},{item:Object(i["withCtx"])((function(t){var e=t.element,a=t.index;return[Object(i["createVNode"])(r,{key:e.id,point:e,index:a,class:Object(i["normalizeClass"])({grabbing:o.grabState})},null,8,["point","index","class"])]})),_:1},8,["list","onStart","onEnd"])):Object(i["createCommentVNode"])("",!0)}var j=a("b76a"),w=a.n(j),O={class:"point_ctrl"},k=Object(i["createElementVNode"])("span",{class:"oi oi-pencil"},null,-1),y=Object(i["createTextVNode"])("Edit Details"),E=[k,y],N=Object(i["createElementVNode"])("span",{class:"oi oi-trash"},null,-1),x=Object(i["createTextVNode"])("Delete"),C=[N,x],V={class:"point_title"},P={class:"meta_attr_point_list"},S={class:"meta_attr_point_list"},B=["innerHTML"];function M(t,e,a,n,o,c){return a.point?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:Object(i["normalizeClass"])(["art_point",{selected:t.local_data.points.edit===a.point}]),style:Object(i["normalizeStyle"])("z-index:"+(t.local_data.points.all.length-a.index)+";"),onClick:e[7]||(e[7]=function(t){return c.locateEdit(!1)})},[Object(i["createElementVNode"])("div",O,[Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])(["point_menu_options",{open:o.pointMenu}])},[Object(i["createElementVNode"])("nav",null,[Object(i["createElementVNode"])("ul",null,[Object(i["createElementVNode"])("li",{onClick:[e[0]||(e[0]=Object(i["withModifiers"])((function(){}),["stop"])),e[1]||(e[1]=function(){return c.editThisPoint&&c.editThisPoint.apply(c,arguments)})]},E),Object(i["createElementVNode"])("li",{onClick:[e[2]||(e[2]=Object(i["withModifiers"])((function(){}),["stop"])),e[3]||(e[3]=function(t){return c.callDeleteAlert()})]},C)])])],2),Object(i["createElementVNode"])("span",V,Object(i["toDisplayString"])(a.point.point_title),1),Object(i["createElementVNode"])("i",{class:"material-icons",onClick:[e[4]||(e[4]=Object(i["withModifiers"])((function(){}),["stop"])),e[5]||(e[5]=function(t){return o.pointMenu=!o.pointMenu})]},"")]),Object(i["createElementVNode"])("div",{class:"full_point_detail",onClick:e[6]||(e[6]=Object(i["withModifiers"])((function(){}),["stop"]))},[Object(i["createElementVNode"])("span",P,"Added on: "+Object(i["toDisplayString"])(c.formatDate(a.point.pub_date)),1),Object(i["createElementVNode"])("span",S,"Slug: "+Object(i["toDisplayString"])(a.point.point_slug),1),a.point.point_content?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,class:"full_point_detail_body",innerHTML:c.renderQHtml(a.point.point_content)},null,8,B)):Object(i["createCommentVNode"])("",!0)])],6)):Object(i["createCommentVNode"])("",!0)}a("ac1f"),a("5319"),a("a9e3");var A=a("ff81"),D=a("c1df"),T=a.n(D),I=a("aa78"),L=a.n(I),z=(a("160a"),a("c236"));Object(z["c"])();var H={props:["point","index"],data:function(){return{expanded:!1,pointMenu:!1,showEditPoint:!1,editingPoint:!1,editedPoint:{id:null,point_x:null,point_y:null,point_title:null,point_slug:null,point_content:null,artwork_context:null},rt:{editor:null,options:{modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","image","video"]]},placeholder:"Compose an epic...",theme:"snow"}}}},computed:Object(l["a"])(Object(l["a"])({},Object(d["d"])("art",["viewer"])),Object(d["d"])("point",["modes","captures","local_data"])),watch:{"editedPoint.point_title":function(t){this.editedPoint.point_slug=t?t.replace(/[^A-Z0-9]+/gi,"_").toLowerCase().toLowerCase():""}},methods:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(d["c"])("point",["setPointToBeDeleted","setValidation","setPointEditorAlert","showEditPointModal","closeEditPointModal","setEditingPoint","setEditCaptureThumb","setEditCandidate"])),Object(d["b"])("point",["savePointEdit"])),{},{expandPoint:function(){this.showEditPoint||(this.expanded?this.expanded=!1:this.expanded=!0)},editThisPoint:function(){this.locateEdit(!0),this.emitter.emit("triggerEditPoint")},locateEdit:function(t){var e=this;this.setEditCaptureThumb(!1),this.setEditingPoint(!0),this.setEditCandidate(this.point);var a={x:Number(this.point.point_x),y:Number(this.point.point_y)},n=new L.a.Point(a.x,a.y),o=Number(this.point.zoom_value);this.viewer.viewport.zoomTo(o,t),this.viewer.viewport.panTo(n,t),setTimeout((function(){e.emitter.emit("locateEdit"),e.emitter.emit("closeNewPointGrabber"),e.setEditCaptureThumb(!0)}),1200)},editBtnEvents:function(){},formatDate:function(t){return T()(t).format("MMMM Do YYYY, h:mm:ss a")},renderQHtml:function(t){var e=JSON.parse(t),a=Object(z["a"])(),n=new A["QuillDeltaToHtmlConverter"](e.ops,a),o=n.convert();return Object(z["b"])(o)},callDeleteAlert:function(){this.setPointToBeDeleted(this.point),$("#deletePoint").modal("show")},initRichTextEditor:function(){var t=document.getElementById("point_text_edit-"+this.point.id),e=document.getElementsByClassName("ql-toolbar")[0];t&&t.parentNode.removeChild(t),e&&e.parentNode.removeChild(e);var a=document.createElement("div");a.id="point_text_edit-"+this.point.id;var n=document.getElementById("slug_group-"+this.point.id);n.parentNode.insertBefore(a,n.nextSibling),this.rt.editor=new Quill(a,this.rt.options),this.rt.editor.setContents(JSON.parse(this.point.point_content))}})},Z=(a("07ef"),a("d959")),F=a.n(Z);const R=F()(H,[["render",M]]);var X=R,Y={data:function(){return{dragSortOptions:{delay:0,disabled:!1,animation:350,ghostClass:"sortable-ghost"},grabState:!1}},computed:{local_data_points_all:{get:function(){return this.$store.state.point.local_data.points.all},set:function(t){var e={vm:this,points:t};this.updatePointListOrder(e)}}},methods:Object(l["a"])(Object(l["a"])({},Object(d["b"])("point",["updatePointListOrder"])),{},{choosing:function(){this.grabState=!0},choiceMade:function(){this.grabState=!1}}),mounted:function(){var t=this;this.emitter.on("turnOffDrag",(function(){t.dragSortOptions.disabled=!0})),this.emitter.on("turnOnDrag",(function(){t.dragSortOptions.disabled=!1}))},components:{PointListItem:X,Draggable:w.a}};a("a57e");const U=F()(Y,[["render",g]]);var W=U,G={class:"art_meta"},q={key:0},J={class:"art_title"},Q={class:"meta_attr"},K={class:"meta_attr"};function tt(t,e,a,n,o,c){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",G,[t.art_data.art&&t.art_data.artist?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",q,[Object(i["createElementVNode"])("h1",J,Object(i["toDisplayString"])(t.art_data.art.artwork_title),1),Object(i["createElementVNode"])("p",Q,"@"+Object(i["toDisplayString"])(t.art_data.art.artwork_slug),1),Object(i["createElementVNode"])("p",K,"by "+Object(i["toDisplayString"])(t.art_data.artist.artist_name),1)])):Object(i["createCommentVNode"])("",!0)])}var et={computed:Object(l["a"])({},Object(d["d"])("art",["art_data"]))};a("8d68");const at=F()(et,[["render",tt]]);var nt=at,ot={class:"short_nav"},it=["href"],ct=Object(i["createElementVNode"])("span",{class:"oi oi-home",title:"icon home","aria-hidden":"true"},null,-1),rt=[ct],st={class:"dropdown"},lt=Object(i["createElementVNode"])("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[Object(i["createElementVNode"])("span",{class:"oi oi-person",title:"icon person","aria-hidden":"true"})],-1),dt={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},ut=["href"],mt=["href"];function ht(t,e,a,n,o,c){return Object(i["openBlock"])(),Object(i["createElementBlock"])("nav",ot,[Object(i["createElementVNode"])("ul",null,[Object(i["createElementVNode"])("li",null,[Object(i["createElementVNode"])("a",{href:o.homeUrl},rt,8,it)]),Object(i["createElementVNode"])("li",null,[Object(i["createElementVNode"])("div",st,[lt,Object(i["createElementVNode"])("div",dt,[Object(i["createElementVNode"])("a",{class:"dropdown-item",href:o.profileUrl},"Profile",8,ut),Object(i["createElementVNode"])("a",{class:"dropdown-item",href:o.logoutUrl},"Logout",8,mt)])])])])])}var pt={data:function(){return{homeUrl:window.home_url,profileUrl:window.profile_url,logoutUrl:window.logout_url}}};a("f3b0");const bt=F()(pt,[["render",ht]]);var ft=bt,vt={computed:Object(l["a"])(Object(l["a"])({},Object(d["d"])("sidebar",["open"])),Object(d["d"])("art",["viewer"])),methods:Object(l["a"])(Object(l["a"])({},Object(d["c"])("sidebar",["toggleSidebar","setSidebarOpen"])),{},{toggleTheSidebar:function(){var t=this;this.toggleSidebar(),this.emitter.emit("clearEdit"),setTimeout((function(){t.emitter.emit("sidebarAction"),t.viewer.viewport.goHome(!1)}),400)}}),components:{PointList:W,ArtDetails:nt,Navigation:ft},mounted:function(){var t=this;this.emitter.on("openSidebar",(function(){t.setSidebarOpen()}))}};a("7e40");const _t=F()(vt,[["render",_],["__scopeId","data-v-e007d438"]]);var gt=_t,jt={id:"art_container"},wt={key:0,class:"artmap_builder_alerts alert alert-success"},Ot={key:0,class:"artmap_builder_alerts alert alert-success"},kt={id:"artcanvas"};function yt(t,e,a,n,o,c){var r=Object(i["resolveComponent"])("NewPointButton"),s=Object(i["resolveComponent"])("NewPointImageGrab"),l=Object(i["resolveComponent"])("EditPointImageGrab"),d=Object(i["resolveComponent"])("NewPointModal"),u=Object(i["resolveComponent"])("EditPointModal"),m=Object(i["resolveComponent"])("Loader");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",jt,[Object(i["createVNode"])(r),Object(i["createVNode"])(s),Object(i["createVNode"])(l),Object(i["createVNode"])(d),Object(i["createVNode"])(u),Object(i["createVNode"])(i["Transition"],{name:"alert"},{default:Object(i["withCtx"])((function(){return[t.validation.messages_alert.show?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",wt,Object(i["toDisplayString"])(t.validation.messages_alert.message),1)):Object(i["createCommentVNode"])("",!0)]})),_:1}),Object(i["createVNode"])(i["Transition"],{name:"alert"},{default:Object(i["withCtx"])((function(){return[t.art_validation.messages_alert.show?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ot,Object(i["toDisplayString"])(t.art_validation.messages_alert.message),1)):Object(i["createCommentVNode"])("",!0)]})),_:1}),Object(i["createVNode"])(i["Transition"],{name:"art_loaded"},{default:Object(i["withCtx"])((function(){return[Object(i["withDirectives"])(Object(i["createElementVNode"])("div",kt,null,512),[[i["vShow"],t.loaded]])]})),_:1}),Object(i["createVNode"])(i["Transition"],{name:"loader"},{default:Object(i["withCtx"])((function(){return[t.loaded?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createBlock"])(m,{key:0}))]})),_:1})])}a("d3b7"),a("159b");!function(t,e,a){if(!t.version||t.version.major<1)throw new Error("OpenSeadragonViewerInputHook requires OpenSeadragon version 1.0.0+");t.Viewer.prototype.addViewerInputHook=function(t){return t=t||{},t.viewer=this,new e.ViewerInputHook(t)},e.ViewerInputHook=function(t){var e,n;for(t=t||{},t.hooks=t.hooks||[],this.viewerTrackers={},t.viewer&&(this.viewerTrackers.viewer=t.viewer.innerTracker,this.viewerTrackers.viewer_outer=t.viewer.outerTracker),e=0;e<t.hooks.length;e++){if("string"==typeof t.hooks[e].tracker){if(!t.viewer)throw new Error("A viewer must be specified.");if(n=this.viewerTrackers[t.hooks[e].tracker],n===a)throw new Error("Unknown tracker specified: "+t.hooks[e].tracker)}else n=t.hooks[e].tracker;!function(t,e,a,n){var o=e[a];e[a]=function(e){return t.callHandlers(n,o,e)}}(this,n,t.hooks[e].handler,t.hooks[e].hookHandler)}},e.ViewerInputHook.version={versionStr:"1.1.0",major:1,minor:1,revision:0},e.ViewerInputHook.prototype.callHandlers=function(t,e,a){var n=t(a);return e&&!a.stopHandlers&&(n=e(a)),!a.stopBubbling&&n}}(L.a,window.OpenSeadragonImaging=window.OpenSeadragonImaging||{});var Et=a("1c6e"),Nt={class:"new_point_ctrl"};function xt(t,e,a,n,o,c){var r=Object(i["resolveComponent"])("PlusIcon");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Nt,[Object(i["createElementVNode"])("button",{class:"toggle_editMode btn btn-primary artmap-primary create_new_point",onClick:e[0]||(e[0]=function(){return c.initGrabber&&c.initGrabber.apply(c,arguments)})},[Object(i["createVNode"])(r)])])}var Ct={class:"icon plus"},Vt=Object(i["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"5907 1074 20 20",id:"plus-icon"},[Object(i["createElementVNode"])("g",{id:"Symbol_6_1","data-name":"Symbol 6 – 1",transform:"translate(4075 506)"},[Object(i["createElementVNode"])("rect",{id:"Rectangle_2","data-name":"Rectangle 2",class:"cls-1",width:"20",height:"2.053",rx:"1",transform:"translate(1832 576.974)"}),Object(i["createElementVNode"])("rect",{id:"Rectangle_4","data-name":"Rectangle 4",class:"cls-1",width:"20",height:"2.053",rx:"1",transform:"translate(1843.026 568) rotate(90)"})])],-1),Pt=[Vt];function St(t,e){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ct,Pt)}const Bt={},Mt=F()(Bt,[["render",St]]);var At=Mt,Dt={computed:Object(l["a"])({},Object(d["d"])("art",["viewer"])),methods:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(d["c"])("point",["showNewPoint"])),Object(d["c"])("sidebar",["setSidebarClose"])),{},{initGrabber:function(t,e){this.showNewPoint({vm:this}),this.emitter.emit("clearEdit"),this.emitter.emit("openImageGrabber"),this.setSidebarClose()}}),components:{PlusIcon:At}};a("cb5d");const Tt=F()(Dt,[["render",xt],["__scopeId","data-v-73075978"]]);var It=Tt,Lt=["width","height"],zt={class:"snapshot_take"},Ht={class:"range_slider"};function $t(t,e,a,n,o,c){var r=Object(i["resolveComponent"])("CheckIcon"),s=Object(i["resolveComponent"])("XIcon"),l=Object(i["resolveComponent"])("range-slider"),d=Object(i["resolveComponent"])("vue-draggable-resizable");return Object(i["openBlock"])(),Object(i["createBlock"])(d,{class:Object(i["normalizeClass"])([{on:t.modes.new},"drag_element"]),draggable:o.draggableSwitch,onDragging:c.clearCaptureLens,onDragstop:c.updateTempPosition,w:30,h:30,x:o.x,y:o.y,resizable:!0,parent:!0},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("canvas",{id:"snapshot",width:o.scale_value,height:o.scale_value},null,8,Lt),Object(i["createElementVNode"])("div",{class:"scale_controls",onMouseover:e[3]||(e[3]=function(t){return o.draggableSwitch=!1}),onMouseleave:e[4]||(e[4]=function(t){return o.draggableSwitch=!0})},[Object(i["withDirectives"])(Object(i["createElementVNode"])("div",zt,[Object(i["createElementVNode"])("span",{class:"snapshot_btn yes",onClick:e[0]||(e[0]=function(){return c.capture&&c.capture.apply(c,arguments)})},[Object(i["createVNode"])(r)]),Object(i["createElementVNode"])("span",{class:"snapshot_btn no",onClick:e[1]||(e[1]=function(){return c.handleCloseNewPoint&&c.handleCloseNewPoint.apply(c,arguments)})},[Object(i["createVNode"])(s)])],512),[[i["vShow"],t.modes.new]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",Ht,[Object(i["createVNode"])(l,{scale_min:o.scale_min,scale_max:o.scale_max,scale_value:o.scale_value,onRangeChange:e[2]||(e[2]=function(t){o.scale_value=t})},null,8,["scale_min","scale_max","scale_value"])],512),[[i["vShow"],t.modes.new]])],32)]})),_:1},8,["class","draggable","onDragging","onDragstop","x","y"])}a("b680");var Zt=["onMousedown"];function Ft(t,e,a,n,o,c){return a.resizable?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:Object(i["normalizeClass"])(["vdr",{draggable:a.draggable,resizable:a.resizable,active:t.active}]),onMousedown:e[0]||(e[0]=function(){return c.elmDown&&c.elmDown.apply(c,arguments)}),onDblclick:e[1]||(e[1]=function(){return c.fillParent&&c.fillParent.apply(c,arguments)}),style:Object(i["normalizeStyle"])(c.style)},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(a.handles,(function(e,a){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["handle","handle-"+e]),key:"drag-handle-".concat(a),style:Object(i["normalizeStyle"])({display:t.active?"block":"none"}),onMousedown:Object(i["withModifiers"])((function(t){return c.handleDown(e,t)}),["stop","prevent"])},null,46,Zt)})),128)),Object(i["renderSlot"])(t.$slots,"default",{},void 0,!0)],38)):Object(i["createCommentVNode"])("",!0)}a("4d63"),a("c607"),a("2c3e"),a("25f0"),a("00b4");var Rt={replace:!0,name:"vue-draggable-resizable",props:{draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},w:{type:Number,default:200,validator:function(t){return t>0}},h:{type:Number,default:200,validator:function(t){return t>0}},minw:{type:Number,default:30,validator:function(t){return t>0}},minh:{type:Number,default:30,validator:function(t){return t>0}},x:{type:Number,default:0,validator:function(t){return t>=0}},y:{type:Number,default:0,validator:function(t){return t>=0}},handles:{type:Array,default:function(){return["tl","tm","tr","mr","br","bm","bl","ml"]}},axis:{type:String,default:"both",validator:function(t){return-1!==["x","y","both"].indexOf(t)}},grid:{type:Array,default:function(){return[1,1]}},parent:{type:Boolean,default:!1},maximize:{type:Boolean,default:!1}},created:function(){this.parentX=0,this.parentW=9999,this.parentY=0,this.parentH=9999,this.mouseX=0,this.mouseY=0,this.lastMouseX=0,this.lastMouseY=0,this.mouseOffX=0,this.mouseOffY=0,this.elmX=0,this.elmY=0,this.elmW=0,this.elmH=0},mounted:function(){if(document.documentElement.addEventListener("mousemove",this.handleMove,!0),document.documentElement.addEventListener("mousedown",this.deselect,!0),document.documentElement.addEventListener("mouseup",this.handleUp,!0),this.minw>this.w&&(this.width=this.minw),this.minh>this.h&&(this.height=this.minh),this.parent){var t=parseInt(this.$el.parentNode.clientWidth,10),e=parseInt(this.$el.parentNode.clientHeight,10);this.parentW=t,this.parentH=e,this.w>this.parentW&&(this.width=t),this.h>this.parentH&&(this.height=e),this.x+this.w>this.parentW&&(this.width=t-this.x),this.y+this.h>this.parentH&&(this.height=e-this.y)}this.$emit("resizing",this.left,this.top,this.width,this.height)},beforeDestroy:function(){document.documentElement.removeEventListener("mousemove",this.handleMove,!0),document.documentElement.removeEventListener("mousedown",this.deselect,!0),document.documentElement.removeEventListener("mouseup",this.handleUp,!0)},data:function(){return{top:this.y,left:this.x,width:this.w,height:this.h,resizing:!1,dragging:!1,active:!1,opacity:1,handle:null,zIndex:1e3}},methods:{elmDown:function(t){var e=t.target||t.srcElement;this.$el.contains(e)&&(this.active||(this.zIndex+=1,this.active=!0,this.$emit("activated")),this.elmX=parseInt(this.$el.style.left),this.elmY=parseInt(this.$el.style.top),this.elmW=this.$el.offsetWidth||this.$el.clientWidth,this.elmH=this.$el.offsetHeight||this.$el.clientHeight,this.draggable&&(this.opacity=.6,this.dragging=!0))},deselect:function(t){var e=t.target||t.srcElement,a=new RegExp("handle-([trmbl]{2})","");this.$el.contains(e)||a.test(e.className)||this.active&&(this.active=!1,this.$emit("deactivated"))},handleDown:function(t,e){this.handle=t,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.resizing=!0},fillParent:function(t){var e=this;if(this.parent&&this.resizable&&this.maximize){var a=!1,n=function t(){a||window.requestAnimationFrame(t),"x"===e.axis?e.width===e.parentW&&e.left===e.parentX&&(a=!0):"y"===e.axis?e.height===e.parentH&&e.top===e.parentY&&(a=!0):"both"===e.axis&&e.width===e.parentW&&e.height===e.parentH&&e.top===e.parentY&&e.left===e.parentX&&(a=!0),"x"!==e.axis&&"both"!==e.axis||(e.width<e.parentW&&(e.width++,e.elmW++),e.left>e.parentX&&(e.left--,e.elmX--)),"y"!==e.axis&&"both"!==e.axis||(e.height<e.parentH&&(e.height++,e.elmH++),e.top>e.parentY&&(e.top--,e.elmY--)),e.$emit("resizing",e.left,e.top,e.width,e.height)};window.requestAnimationFrame(n)}},handleMove:function(t){this.mouseX=t.pageX||t.clientX+document.documentElement.scrollLeft,this.mouseY=t.pageY||t.clientY+document.documentElement.scrollTop;var e=this.mouseX-this.lastMouseX+this.mouseOffX,a=this.mouseY-this.lastMouseY+this.mouseOffY;this.mouseOffX=this.mouseOffY=0,this.lastMouseX=this.mouseX,this.lastMouseY=this.mouseY;var n=e,o=a;this.resizing?(this.handle.indexOf("t")>=0&&(this.elmH-o<this.minh?this.mouseOffY=o-(a=this.elmH-this.minh):this.elmY+o<this.parentY&&(this.mouseOffY=o-(a=this.parentY-this.elmY)),this.elmY+=a,this.elmH-=a),this.handle.indexOf("b")>=0&&(this.elmH+o<this.minh?this.mouseOffY=o-(a=this.minh-this.elmH):this.elmY+this.elmH+o>this.parentH&&(this.mouseOffY=o-(a=this.parentH-this.elmY-this.elmH)),this.elmH+=a),this.handle.indexOf("l")>=0&&(this.elmW-n<this.minw?this.mouseOffX=n-(e=this.elmW-this.minw):this.elmX+n<this.parentX&&(this.mouseOffX=n-(e=this.parentX-this.elmX)),this.elmX+=e,this.elmW-=e),this.handle.indexOf("r")>=0&&(this.elmW+n<this.minw?this.mouseOffX=n-(e=this.minw-this.elmW):this.elmX+this.elmW+n>this.parentW&&(this.mouseOffX=n-(e=this.parentW-this.elmX-this.elmW)),this.elmW+=e),this.left=Math.round(this.elmX/this.grid[0])*this.grid[0],this.top=Math.round(this.elmY/this.grid[1])*this.grid[1],this.width=Math.round(this.elmW/this.grid[0])*this.grid[0],this.height=Math.round(this.elmH/this.grid[1])*this.grid[1],this.$emit("resizing",this.left,this.top,this.width,this.height)):this.dragging&&(this.elmX+n<this.parentX?this.mouseOffX=n-(e=this.parentX-this.elmX):this.elmX+this.elmW+n>this.parentW&&(this.mouseOffX=n-(e=this.parentW-this.elmX-this.elmW)),this.elmY+o<this.parentY?this.mouseOffY=o-(a=this.parentY-this.elmY):this.elmY+this.elmH+o>this.parentH&&(this.mouseOffY=o-(a=this.parentH-this.elmY-this.elmH)),this.elmX+=e,this.elmY+=a,"x"!==this.axis&&"both"!==this.axis||(this.left=Math.round(this.elmX/this.grid[0])*this.grid[0]),"y"!==this.axis&&"both"!==this.axis||(this.top=Math.round(this.elmY/this.grid[1])*this.grid[1]),this.$emit("dragging",this.left,this.top))},handleUp:function(t){this.handle=null,this.resizing&&(this.resizing=!1,this.$emit("resizestop",this.left,this.top,this.width,this.height)),this.dragging&&(this.dragging=!1,this.$emit("dragstop",this.left,this.top)),this.opacity=1,this.elmX=this.left,this.elmY=this.top}},computed:{style:function(){return{top:this.top+"px",left:this.left+"px",width:this.width+"px",height:this.height+"px",zIndex:this.zIndex,opacity:this.opacity}}},watch:{x:function(t){this.elmX+t>=this.parentX&&t+this.elmW<=this.parentW&&(this.left=Math.round(t/this.grid[0])*this.grid[0]),this.$emit("resizing",this.left,this.top,this.width,this.height)},y:function(t){this.elmY+t>=this.parentY&&t+this.elmH<=this.parentH&&(this.top=Math.round(t/this.grid[1])*this.grid[1]),this.$emit("resizing",this.left,this.top,this.width,this.height)},w:function(t){t>0&&this.elmX+t<=this.parentW&&(this.width=Math.round(t/this.grid[0])*this.grid[0]),console.log(this.width),this.$emit("resizing",this.left,this.top,this.width,this.height)},h:function(t){t>0&&this.elmY+t<=this.parentH&&(this.height=Math.round(t/this.grid[1])*this.grid[1]),this.$emit("resizing",this.left,this.top,this.width,this.height)}}};a("d7dc");const Xt=F()(Rt,[["render",Ft],["__scopeId","data-v-9fa28ed8"]]);var Yt=Xt,Ut=["min","max","value"];function Wt(t,e,a,n,o,c){var r=Object(i["resolveComponent"])("RangeSliderTicks");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,[Object(i["createElementVNode"])("input",{type:"range",min:a.scale_min,max:a.scale_max,value:a.scale_value,onInput:e[0]||(e[0]=function(){return c.handleRangeChange&&c.handleRangeChange.apply(c,arguments)})},null,40,Ut),Object(i["createVNode"])(r,{class:"range-slider-ticks"})])}var Gt={class:"range-slider-ticks"},qt=Object(i["createStaticVNode"])('<svg width="267" height="21" viewBox="0 0 267 21" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-81f02ace><line x1="0.5" x2="0.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="84.5" x2="84.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="42.5" x2="42.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="126.5" x2="126.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="175.5" x2="175.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="231.5" x2="231.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="21.5" x2="21.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="105.5" x2="105.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="63.5" x2="63.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="147.5" x2="147.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="196.5" x2="196.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="252.5" x2="252.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="7.5" x2="7.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="91.5" x2="91.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="49.5" x2="49.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="133.5" x2="133.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="182.5" x2="182.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="238.5" x2="238.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="28.5" x2="28.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="112.5" x2="112.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="70.5" x2="70.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="154.5" x2="154.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="203.5" x2="203.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="259.5" x2="259.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="14.5" x2="14.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="98.5" x2="98.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="56.5" x2="56.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="140.5" x2="140.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="189.5" x2="189.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="245.5" x2="245.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="35.5" x2="35.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="119.5" x2="119.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="168.5" x2="168.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="224.5" x2="224.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="77.5" x2="77.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="161.5" x2="161.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="217.5" x2="217.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="210.5" x2="210.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="266.5" x2="266.5" y2="21" stroke="white" data-v-81f02ace></line></svg>',1),Jt=[qt];function Qt(t,e){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Gt,Jt)}a("c10b");const Kt={},te=F()(Kt,[["render",Qt],["__scopeId","data-v-81f02ace"]]);var ee=te,ae={props:["scale_min","scale_max","scale_value"],components:{RangeSliderTicks:ee},methods:{handleRangeChange:function(t){this.$emit("rangeChange",t.target.value)}}};a("4cb3");const ne=F()(ae,[["render",Wt],["__scopeId","data-v-6d1ecf06"]]);var oe=ne,ie={class:"icon check"},ce=Object(i["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"7246.655 1026.255 14.22 10.326",id:"check-icon"},[Object(i["createElementVNode"])("g",{id:"Symbol_11_1","data-name":"Symbol 11 – 1",transform:"translate(6112 544)"},[Object(i["createElementVNode"])("path",{id:"Path_25","data-name":"Path 25",class:"cls-1",d:"M87.009,42.823l4.247,4.247,9.265-9.265",transform:"translate(1048 444.803)"})])],-1),re=[ce];function se(t,e){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ie,re)}const le={},de=F()(le,[["render",se]]);var ue=de,me={class:"icon x-icon"},he=Object(i["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"6865.144 1026.26 11.854 11.854",id:"x-icon"},[Object(i["createElementVNode"])("g",{id:"Symbol_9_1","data-name":"Symbol 9 – 1",transform:"translate(6112 544)"},[Object(i["createElementVNode"])("path",{id:"Path_26","data-name":"Path 26",class:"cls-1",d:"M89.62,48.961l10.9-11.155",transform:"translate(664 444.803)"}),Object(i["createElementVNode"])("path",{id:"Path_27","data-name":"Path 27",class:"cls-1",d:"M89.62,48.961l10.9-11.155",transform:"translate(802.454 393.116) rotate(90)"})])],-1),pe=[he];function be(t,e){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",me,pe)}const fe={},ve=F()(fe,[["render",be]]);var _e=ve,ge={data:function(){return{snap_canvas:null,x:0,y:0,scale_value:130,scale_max:240,scale_min:60,draggableSwitch:!0,device_pixel_ratio:1}},computed:Object(l["a"])(Object(l["a"])({},Object(d["d"])("art",["canvas","viewer"])),Object(d["d"])("point",["modes","local_data"])),methods:Object(l["a"])(Object(l["a"])({},Object(d["c"])("point",["setCapturedThumb","closeNewPoint","setNewPointCoords"])),{},{clearCaptureLens:function(){var t=this.snap_canvas.getContext("2d");t.clearRect(0,0,this.snap_canvas.width,this.snap_canvas.height)},capture:function(){var t=this,e=this.snap_canvas.getContext("2d"),a=Number(window.devicePixelRatio),n=this.$el.offsetLeft,o=this.$el.offsetTop,i=(this.snap_canvas.offsetLeft,this.scale_max,this.scale_value,n-this.scale_value/2),c=o-this.scale_value/2,r=new Image;this.clearCaptureLens(),r.onload=function(){e.drawImage(r,i*a,c*a,t.scale_value*a,t.scale_value*a,0,0,t.scale_value,t.scale_value);var n=new Image;n.onload=function(){$("#newArtPoint").modal("show")},n.src=t.snap_canvas.toDataURL("image/jpg");var o={scale_value:t.scale_value,image:n};t.setCapturedThumb(o)},r.src=this.canvas[0].toDataURL("image/jpg"),this.setPointLocation(i,c)},setPointLocation:function(t,e){this.clearTemporaryPin();var a=t+this.scale_value/2,n=e+this.scale_value/2,o=new L.a.Point(a,n),i=this.viewer.viewport.pointFromPixel(o),c=Number(this.viewer.viewport.getZoom(!0)),r=Math.round(100*c)/100,s={x:String(i.x.toFixed(5)),y:String(i.y.toFixed(5)),zoom_value:r};this.setNewPointCoords(s);var l=document.createElement("span");l.id="new-pin",l.className="osdOverlayWrap";var d={element:l,placement:"CENTER",checkResize:!1,location:i};this.viewer.addOverlay(d)},clearTemporaryPin:function(){var t=document.getElementById("new-pin");t&&this.viewer.removeOverlay(t)},setInitialGrabberPosition:function(){var t=document.getElementById("art_container").offsetWidth,e=document.getElementById("art_container").offsetHeight,a=this.$el.offsetWidth,n=this.$el.offsetHeight;this.x=t/2-a/2,this.y=e/2-n/2},updateTempPosition:function(){var t=this.$el.offsetLeft,e=this.$el.offsetTop,a=this.snap_canvas.offsetLeft,n=(this.scale_max-this.scale_value)/2,o=t+a,i=e+n;this.setPointLocation(o,i)},getTempPosition:function(){var t=Number(this.local_data.points.new.point_x),e=Number(this.local_data.points.new.point_y),a=new L.a.Point(t,e),n=this.viewer.viewport.pixelFromPoint(a),o=this.snap_canvas.offsetLeft+this.scale_value/2,i=this.snap_canvas.offsetTop,c=n.x-o,r=n.y-i;this.x=c,this.y=r},handleCloseNewPoint:function(){this.closeNewPoint({vm:this})}}),components:{VueDraggableResizable:Yt,RangeSlider:oe,CheckIcon:ue,XIcon:_e},mounted:function(){var t=this,e=this;this.snap_canvas=document.getElementById("snapshot"),this.setInitialGrabberPosition(),this.emitter.on("openImageGrabber",(function(){t.clearCaptureLens(),t.setInitialGrabberPosition()})),this.emitter.on("sidebarAction",(function(){t.local_data.points.new.point_x&&t.local_data.points.new.point_y})),this.emitter.on("closeNewPointGrabber",(function(){t.closeNewPoint({vm:e})}))}};a("196c");const je=F()(ge,[["render",$t]]);var we=je,Oe=["width","height"],ke={class:"snapshot_take"},ye={class:"range_slider"};function Ee(t,e,a,n,o,c){var r=Object(i["resolveComponent"])("PencilIcon"),s=Object(i["resolveComponent"])("CheckIcon"),l=Object(i["resolveComponent"])("XIcon"),d=Object(i["resolveComponent"])("range-slider"),u=Object(i["resolveComponent"])("vue-draggable-resizable");return Object(i["openBlock"])(),Object(i["createBlock"])(u,{class:Object(i["normalizeClass"])([{on:t.captures.edit},"drag_element"]),draggable:o.draggableSwitch,onDragging:c.clearCaptureLens,w:30,h:30,x:o.x,y:o.y,resizable:!0,parent:!0},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("canvas",{id:"snapshot_edit",width:o.scale_value,height:o.scale_value},null,8,Oe),Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])([{off:o.editing},"snapshot_btn edit_this_point"]),onClick:e[0]||(e[0]=function(t){return c.setLocalEditMode(!0)})},[Object(i["createVNode"])(r)],2),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["scale_controls edit_point",{active:o.editing}]),onMouseover:e[4]||(e[4]=function(t){return o.draggableSwitch=!1}),onMouseleave:e[5]||(e[5]=function(t){return o.draggableSwitch=!0})},[Object(i["createElementVNode"])("div",ke,[Object(i["createElementVNode"])("span",{class:"snapshot_btn yes",onClick:e[1]||(e[1]=function(){return c.capture&&c.capture.apply(c,arguments)})},[Object(i["createVNode"])(s)]),Object(i["createElementVNode"])("span",{class:"snapshot_btn no",onClick:e[2]||(e[2]=function(){return c.cancelEdit&&c.cancelEdit.apply(c,arguments)})},[Object(i["createVNode"])(l)])]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",ye,[Object(i["createVNode"])(d,{scale_min:o.scale_min,scale_max:o.scale_max,scale_value:o.scale_value,onRangeChange:e[3]||(e[3]=function(t){o.scale_value=t})},null,8,["scale_min","scale_max","scale_value"])],512),[[i["vShow"],t.captures.edit]])],34)]})),_:1},8,["class","draggable","onDragging","x","y"])}var Ne={class:"icon pencil"},xe=Object(i["createElementVNode"])("svg",{version:"1.1",id:"pencil-icon","xmlns:cc":"http://creativecommons.org/ns#","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape","xmlns:rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd","xmlns:svg":"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 63 63.3",style:{"enable-background":"new 0 0 63 63.3"},"xml:space":"preserve"},[Object(i["createElementVNode"])("path",{d:"M59.7,3.2C57.6,1.2,54.8,0,51.9,0S46.1,1.2,44,3.2L3.4,43.9C3.2,44.2,3,44.4,3,44.8L0,61.3c-0.1,0.5,0.1,1,0.4,1.3\n      c0.3,0.3,0.7,0.4,1.1,0.4c0.1,0,0.2,0,0.2,0l16.5-3c0.3-0.1,0.6-0.2,0.8-0.4L59.7,19c2.1-2.1,3.3-4.9,3.3-7.8\n      C63,8.2,61.8,5.3,59.7,3.2z M3.3,59.7L5.2,49l8.8,8.8L3.3,59.7z M57.6,16.8L17.4,57c-0.1-0.1-0.2-0.2-0.2-0.3L6.3,45.8\n      c-0.1-0.1-0.2-0.2-0.3-0.2L46.2,5.4C47.7,3.8,49.7,3,51.9,3s4.2,0.8,5.8,2.4C59.2,6.9,60,9,60,11.1S59.2,15.3,57.6,16.8z"})],-1),Ce=[xe];function Ve(t,e){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ne,Ce)}const Pe={},Se=F()(Pe,[["render",Ve]]);var Be=Se,Me={data:function(){return{snap_canvas:null,img:null,editing:!1,scale:1,width:null,height:null,x:0,y:0,source_coords:null,scale_value:130,scale_max:240,scale_min:60,draggableSwitch:!1,canvas_width:100,canvas_height:100,device_pixel_ratio:1}},computed:Object(l["a"])(Object(l["a"])({},Object(d["d"])("art",["canvas","viewer"])),Object(d["d"])("point",["captures","local_data"])),methods:Object(l["a"])(Object(l["a"])({},Object(d["c"])("point",["setCapturedThumb","closeNewPoint","setEditPointCoords","showNewPoint","setEditCaptureThumb"])),{},{clearCapture:function(){this.editing=!1,this.setEditCaptureThumb(!1),this.clearCaptureLens()},clearCaptureLens:function(){var t=this.snap_canvas.getContext("2d");t.clearRect(0,0,this.snap_canvas.width,this.snap_canvas.height)},cancelEdit:function(){this.editing=!1,this.scale_value=this.local_data.points.edit.scale_value,this.setLocalEditMode(!1),this.setInitialGrabberPosition()},setLocalEditMode:function(t){t?(this.editing=!0,this.draggableSwitch=!0):(this.editing=!1,this.draggableSwitch=!1)},capture:function(){var t=this;this.snap_canvas=document.getElementById("snapshot_edit");var e=this.snap_canvas.getContext("2d"),a=Number(window.devicePixelRatio),n=this.$el.offsetLeft,o=this.$el.offsetTop,i=n-this.scale_value/2,c=o-this.scale_value/2,r=new Image;e.clearRect(0,0,this.snap_canvas.width,this.snap_canvas.height),r.onload=function(){e.drawImage(r,i*a,c*a,t.scale_value*a,t.scale_value*a,0,0,t.scale_value,t.scale_value);var n=new Image;n.onload=function(){t.emitter.emit("triggerEditPoint",n)},n.src=t.snap_canvas.toDataURL();var o={size:t.scale_value,image:n};t.setEditCaptureThumb(o)},r.src=this.canvas[0].toDataURL(),this.setPointLocation(i,c)},setPointLocation:function(t,e){this.clearTemporaryPin();var a=t+this.scale_value/2,n=e+this.scale_value/2,o=new L.a.Point(a,n),i=this.viewer.viewport.pointFromPixel(o),c=Number(this.viewer.viewport.getZoom(!0)),r=Math.round(c),s={x:String(i.x.toFixed(5)),y:String(i.y.toFixed(5)),zoom_value:r};this.setEditPointCoords(s);var l=document.createElement("span");l.id="new-pin",l.className="osdOverlayWrap";var d={element:l,placement:"CENTER",checkResize:!1,location:i};this.viewer.addOverlay(d)},clearTemporaryPin:function(){var t=document.getElementById("new-pin");t&&this.viewer.removeOverlay(t)},setEditPointPosition:function(){var t=Number(this.local_data.points.edit.point_x),e=Number(this.local_data.points.edit.point_y),a=new L.a.Point(t,e),n=this.viewer.viewport.pixelFromPoint(a),o=(this.snap_canvas.offsetLeft,this.snap_canvas.offsetTop,n.x),i=n.y;this.x=o,this.y=i},setInitialGrabberPosition:function(){var t=document.getElementById("art_container");if(t){var e=t.offsetWidth,a=t.offsetHeight,n=this.$el.offsetWidth,o=this.$el.offsetHeight;this.x=e/2-n/2,this.y=a/2-o/2}}}),components:{VueDraggableResizable:Yt,RangeSlider:oe,CheckIcon:ue,XIcon:_e,PencilIcon:Be},mounted:function(){var t=this;this.snap_canvas=document.getElementById("snapshot_edit"),this.setInitialGrabberPosition(),this.emitter.on("recaptureFromThumb",(function(){t.capture()})),this.emitter.on("locateEdit",(function(){t.setEditPointPosition(),t.clearCapture(),t.scale_value=t.local_data.points.edit.scale_value})),this.emitter.on("clearEdit",(function(){t.clearCapture()})),window.addEventListener("resize",(function(){t.setInitialGrabberPosition()})),this.emitter.on("sidebarAction",(function(){t.setInitialGrabberPosition()}))}};a("3bb7");const Ae=F()(Me,[["render",Ee]]);var De=Ae,Te={class:"modal fade",id:"newArtPoint",tabindex:"-1",role:"dialog","aria-labelledby":"newArtmap","aria-hidden":"true"},Ie={class:"modal-dialog",role:"document"},Le={class:"modal-content"},ze={class:"modal-body"},He={class:"point_captured"},$e={key:0,class:"point_thumbnail"},Ze=["src"],Fe={key:0,class:"point_editor_messages"},Re={class:"new_point_form"},Xe=Object(i["createElementVNode"])("label",null,"Title",-1),Ye={class:"slug_input_group"},Ue={class:"slug_input_label"},We=Object(i["createElementVNode"])("label",null,"Short Description",-1),Ge=Object(i["createElementVNode"])("div",{id:"new_description_group"},[Object(i["createElementVNode"])("label",null,"Description"),Object(i["createElementVNode"])("span",{class:"location_group",id:"description_rt_pos"})],-1),qe={class:"modal-footer"},Je={class:"form-group"},Qe=Object(i["createElementVNode"])("button",{type:"submit",class:"btn artmap-secondary","data-toggle":"modal","data-target":"#newArtPoint"},[Object(i["createElementVNode"])("span",{class:"glyphicon glyphicon-ok"}),Object(i["createTextVNode"])(" Cancel ")],-1),Ke={key:0};function ta(t,e,a,n,o,c){var r=Object(i["resolveComponent"])("MiniLoader");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Te,[Object(i["createElementVNode"])("div",Ie,[Object(i["createElementVNode"])("div",Le,[Object(i["createElementVNode"])("div",ze,[Object(i["createElementVNode"])("div",He,[t.captures.new?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",$e,[Object(i["createElementVNode"])("img",{src:t.captures.new.image.src},null,8,Ze)])):Object(i["createCommentVNode"])("",!0)]),t.validation.editor_alert.show?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Fe,Object(i["toDisplayString"])(t.validation.editor_alert.message),1)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",Re,[Xe,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"text",placeholder:"Give this point a name...","onUpdate:modelValue":e[0]||(e[0]=function(e){return t.local_data.points.new.point_title=e})},null,512),[[i["vModelText"],t.local_data.points.new.point_title]]),Object(i["createElementVNode"])("span",Ye,[Object(i["createElementVNode"])("span",Ue,"Slug: "+Object(i["toDisplayString"])(t.local_data.points.new.point_slug),1)]),We,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"text",placeholder:"This description will show up in the side bar...","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.local_data.points.new.point_lede=e})},null,512),[[i["vModelText"],t.local_data.points.new.point_lede]]),Ge])]),Object(i["createElementVNode"])("div",qe,[Object(i["createElementVNode"])("div",Je,[Qe,Object(i["createElementVNode"])("button",{class:"save_point btn artmap-primary",onClick:e[2]||(e[2]=function(){return c.attemptSavePoint&&c.attemptSavePoint.apply(c,arguments)})},[t.validation.progress?(Object(i["openBlock"])(),Object(i["createBlock"])(r,{key:1,colorClass:"light",additionalStyles:""})):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ke,"Save"))])])])])])])}a("e9c4"),a("7db0");var ea=a("9339"),aa=a.n(ea),na=a("a421");Object(z["c"])();var oa={data:function(){return{rt:{editor:null,options:{modules:{toolbar:[[{header:[1,2,3,!1]}],["clean","bold","italic","underline","link","image","video"]]},placeholder:"Compose an epic...",theme:"snow"}}}},computed:Object(l["a"])(Object(l["a"])({},Object(d["d"])("point",["modes","local_data","validation","captures"])),Object(d["d"])("art",["viewer"])),watch:{"local_data.points.new.point_title":function(t){this.local_data.points.new.point_slug=t?t.replace(/[^A-Z0-9]+/gi,"_").toLowerCase().toLowerCase():""},"modes.new":function(t){t&&this.initRichText()}},methods:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(d["c"])("point",["toggleShowNewPoint","closeNewPoint","setPointEditorAlert","setNewPointContent","setValidation"])),Object(d["b"])("point",["saveNewPoint"])),{},{attemptSavePoint:function(){var t=JSON.stringify(this.rt.editor.getContents()),e={artwork:window.art_id,content:t};this.setNewPointContent(e),this.setNewPoint()},setNewPoint:function(t){var e,a=null;for(var n in this.local_data.points.new)if("point_lede"!==n){if(null===this.local_data.points.new[n]||""===this.local_data.points.new[n]){this.setValidation(!1),a=n;break}this.setValidation(!0)}if(this.validation.submission)e={show:!1,message:null},this.setPointEditorAlert(e),this.saveNewPoint(this);else{var o=this.validation.messages[a];e={show:!0,message:"Looks like ".concat(o)},this.setPointEditorAlert(e)}},initRichText:function(){var t=document.getElementById("new_point_rich_text"),e=$("#new_description_group").find(".ql-toolbar")[0];t&&t.parentNode.removeChild(t),e&&e.parentNode.removeChild(e);var a=document.createElement("div");a.id="new_point_rich_text";var n=document.getElementById("description_rt_pos");n.parentNode.insertBefore(a,n.nextSibling),this.rt.editor=new aa.a(a,this.rt.options)}}),mounted:function(){var t=this;this.emitter.on("triggerEditPoint",(function(){t.closeNewPoint({vm:t})}))},components:{MiniLoader:na["a"]}};a("58ae");const ia=F()(oa,[["render",ta]]);var ca=ia,ra={class:"modal fade",id:"editArtPoint",tabindex:"-1",role:"dialog","aria-labelledby":"newArtmap","aria-hidden":"true"},sa={class:"modal-dialog",role:"document"},la={class:"modal-content"},da={class:"modal-body"},ua={key:0,class:"point_editor_messages"},ma={class:"art_point new_point"},ha={class:"point_captured"},pa={class:"point_thumbnail"},ba=["src"],fa=Object(i["createElementVNode"])("label",null,"Title",-1),va={class:"slug_input_group"},_a={class:"slug_input_label"},ga=Object(i["createElementVNode"])("label",null,"Short Description",-1),ja=Object(i["createElementVNode"])("div",{id:"edit_desc_group"},[Object(i["createElementVNode"])("label",null,"Description"),Object(i["createElementVNode"])("span",{class:"location_group",id:"edit_description_rt_pos"})],-1),wa={class:"modal-footer"},Oa={class:"form-group"},ka=Object(i["createElementVNode"])("button",{type:"submit",class:"btn artmap-secondary","data-toggle":"modal","data-target":"#editArtPoint"},[Object(i["createElementVNode"])("span",{class:"glyphicon glyphicon-ok"}),Object(i["createTextVNode"])(" Cancel ")],-1),ya={key:0};function Ea(t,e,a,n,o,c){var r=Object(i["resolveComponent"])("MiniLoader");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ra,[Object(i["createElementVNode"])("div",sa,[Object(i["createElementVNode"])("div",la,[Object(i["createElementVNode"])("div",da,[t.validation.editor_alert.show?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ua,Object(i["toDisplayString"])(t.validation.editor_alert.message),1)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",ma,[Object(i["createElementVNode"])("div",ha,[Object(i["createElementVNode"])("span",pa,[Object(i["createElementVNode"])("img",{src:o.editedPoint.point_image},null,8,ba)])]),fa,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"text",placeholder:"Give this point a name...","onUpdate:modelValue":e[0]||(e[0]=function(t){return o.editedPoint.point_title=t})},null,512),[[i["vModelText"],o.editedPoint.point_title]]),Object(i["createElementVNode"])("span",va,[Object(i["createElementVNode"])("span",_a,"Slug: "+Object(i["toDisplayString"])(o.editedPoint.point_slug),1)]),ga,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"text",placeholder:"This description will show up in the side bar...","onUpdate:modelValue":e[1]||(e[1]=function(t){return o.editedPoint.point_lede=t})},null,512),[[i["vModelText"],o.editedPoint.point_lede]]),ja])]),Object(i["createElementVNode"])("div",wa,[Object(i["createElementVNode"])("div",Oa,[ka,Object(i["createElementVNode"])("button",{class:"save_point btn artmap-primary",onClick:e[2]||(e[2]=function(){return c.saveChanges&&c.saveChanges.apply(c,arguments)})},[t.validation.progress?(Object(i["openBlock"])(),Object(i["createBlock"])(r,{key:1,colorClass:"light",additionalStyles:""})):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ya,"Save"))])])])])])])}Object(z["c"])();var Na={data:function(){return{editingPoint:!1,editedPoint:{id:null,point_x:null,point_y:null,point_title:null,point_image:null,point_slug:null,point_content:null,point_lede:null,artwork_context:null,zoom_value:null,scale_value:null},rt:{editor:null,captionEditor:null,options:{modules:{toolbar:[[{header:[1,2,3,!1]}],["clean","bold","italic","underline","link","image","video"]]},placeholder:"Compose an epic...",theme:"snow"}}}},computed:Object(l["a"])(Object(l["a"])({},Object(d["d"])("point",["local_data","validation","modes"])),Object(d["d"])("art",["viewer"])),watch:{"local_data.points.edit.title":function(t){this.local_data.points.edit.point_slug=t?t.replace(/[^A-Z0-9]+/gi,"_").toLowerCase().toLowerCase():""},"editedPoint.point_title":function(t){t&&(this.editedPoint.point_slug=t.replace(/[^A-Z0-9]+/gi,"_").toLowerCase().toLowerCase())}},methods:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(d["c"])("point",["toggleShowNewPoint","closeNewPoint","setPointEditorAlert","setNewPointContent","setValidation"])),Object(d["b"])("point",["savePointEdit"])),{},{resetPoint:function(){},attemptSavePoint:function(){if(this.modes.new)JSON.stringify(this.rt.editor.getContents())},saveChanges:function(t){var e,a=this,n=null,o=JSON.stringify(this.rt.editor.getContents());for(var i in this.editedPoint.point_content=o,this.editedPoint)if("point_lede"!==i){if(null===this.editedPoint[i]||""===this.editedPoint[i]){this.setValidation(!1),n=i;break}this.setValidation(!0)}if(this.validation.submission){e={show:!1,message:null},this.setPointEditorAlert(e);var c={vm:this,pointData:this.editedPoint};this.savePointEdit(c),this.emitter.emit("clearEdit"),setTimeout((function(){a.emitter.emit("sidebarAction"),a.viewer.viewport.goHome(!1)}),400)}else{var r=this.validation.messages[n];e={show:!0,message:"Looks like ".concat(r)},this.setPointEditorAlert(e)}},postSaveCleanup:function(){this.editedPoint={id:null,point_x:null,point_y:null,point_title:null,point_slug:null,point_content:null,point_lede:null,artwork_context:null},this.emitter.emit("clearEdit")},initRichText:function(){var t=document.getElementById("edit_point_rich_text"),e=$("#edit_desc_group").find(".ql-toolbar")[0];t&&t.parentNode.removeChild(t),e&&e.parentNode.removeChild(e);var a=document.createElement("div");a.id="edit_point_rich_text";var n=document.getElementById("edit_description_rt_pos");n.parentNode.insertBefore(a,n.nextSibling),this.rt.editor=new aa.a(a,this.rt.options),this.local_data.points.edit.point_content&&this.rt.editor.setContents(JSON.parse(this.local_data.points.edit.point_content))},assignPointDataToLocalInstance:function(t){this.editedPoint.id=this.local_data.points.edit.id,this.editedPoint.point_x=this.local_data.points.edit.point_x,this.editedPoint.point_y=this.local_data.points.edit.point_y,this.editedPoint.point_title=this.local_data.points.edit.point_title,this.editedPoint.point_slug=this.local_data.points.edit.point_slug,this.editedPoint.point_content=this.local_data.points.edit.point_content,this.editedPoint.point_lede=this.local_data.points.edit.point_lede,this.editedPoint.artwork_context=this.local_data.points.edit.artwork_context,this.editedPoint.zoom_value=this.local_data.points.edit.zoom_value,this.editedPoint.scale_value=this.local_data.points.edit.scale_value,this.editedPoint.point_image=this.local_data.points.edit.point_image}}),mounted:function(){var t=this;this.emitter.on("triggerEditPoint",(function(){t.assignPointDataToLocalInstance(),t.initRichText(),$("#editArtPoint").modal("show")}))},components:{MiniLoader:na["a"]}};a("b9c8");const xa=F()(Na,[["render",Ea]]);var Ca=xa,Va={computed:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(d["d"])("art",["viewer","loaded","imgShell","art_validation"])),Object(d["d"])("point",["local_data","modes","validation"])),Object(d["d"])("sidebar",["open"])),watch:{"local_data.points.all":function(){this.resetOverlays()},"modes.new":function(t){this.viewer.zoomPerClick=t?1:2}},methods:Object(l["a"])(Object(l["a"])(Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(d["c"])("art",["initCanvas"])),Object(d["c"])("point",["setNewPointCoords","setEditingPoint","setEditCaptureThumb"])),Object(d["b"])("point",["getPoints"])),Object(d["b"])("art",["preloadArtCanvas"])),{},{resetZoom:function(){this.viewer.viewport.goHome(!1)},resetOverlays:function(){var t=this;this.viewer.clearOverlays(),this.local_data.points.all&&this.local_data.points.all.forEach((function(e){var a=document.createElement("span");a.id=String(e.id),a.className="osdOverlayWrap";var n={element:a,placement:"CENTER",checkResize:!1,location:new L.a.Point(Number(e.point_x),Number(e.point_y))};t.viewer.addOverlay(n)})),this.emitter.emit("overlayResetOcurred")},revertToNormalViewerMode:function(t){this.setEditingPoint(!1),this.setEditCaptureThumb(!1),this.emitter.emit("clearEdit")},handleEditModeInteraction:function(t){},initCanvasClicks:function(){this.viewer.addViewerInputHook({hooks:[{tracker:"viewer",handler:"dragHandler",hookHandler:this.revertToNormalViewerMode},{tracker:"viewer",handler:"clickHandler",hookHandler:this.handleEditModeInteraction}]})},clearTemporaryPin:function(){var t=document.getElementById("new-pin");t&&this.viewer.removeOverlay(t)}}),mounted:function(){var t=this;this.emitter.on("cancelAnyNewPoint",(function(){t.resetOverlays()})),this.emitter.on("artworkHasLoaded",(function(){t.getPoints(t),setTimeout((function(){t.viewer.preserveImageSizeOnResize=!0}),1e3)}))},components:{Loader:Et["a"],NewPointButton:It,NewPointImageGrab:we,NewPointModal:ca,EditPointModal:Ca,EditPointImageGrab:De}};a("4342");const Pa=F()(Va,[["render",yt]]);var Sa=Pa,Ba={class:"modal fade",id:"deletePoint",tabindex:"-1",role:"dialog","aria-labelledby":"newArtmap","aria-hidden":"true"},Ma={class:"modal-dialog",role:"document"},Aa={class:"modal-content"},Da={class:"modal-header"},Ta={key:0},Ia=Object(i["createTextVNode"])("Are you sure that you want to delete "),La={class:"inline_highlight"},za={class:"modal-body"};function Ha(t,e,a,n,o,c){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ba,[Object(i["createElementVNode"])("div",Ma,[Object(i["createElementVNode"])("div",Aa,[Object(i["createElementVNode"])("div",Da,[t.local_data.points.delete?(Object(i["openBlock"])(),Object(i["createElementBlock"])("h2",Ta,[Ia,Object(i["createElementVNode"])("span",La,Object(i["toDisplayString"])(t.local_data.points.delete.point_title)+"?",1)])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",za,[Object(i["createElementVNode"])("button",{class:"toggle_editMode btn btn-primary artmap-primary",onClick:e[0]||(e[0]=function(){return c.deleteSelectedPoint&&c.deleteSelectedPoint.apply(c,arguments)})},"Delete"),Object(i["createElementVNode"])("button",{class:"toggle_editMode btn btn-primary artmap-primary",onClick:e[1]||(e[1]=function(){return c.hideDeleteAlert&&c.hideDeleteAlert.apply(c,arguments)})},"Cancel")])])])])}var $a={computed:Object(l["a"])(Object(l["a"])({},Object(d["d"])("point",["local_data"])),Object(d["d"])("art",["viewer"])),methods:Object(l["a"])(Object(l["a"])({},Object(d["b"])("point",["deletePoint"])),{},{deleteSelectedPoint:function(){var t={vm:this,id:this.local_data.points.delete.id};this.deletePoint(t),this.emitter.emit("clearEdit")},hideDeleteAlert:function(){$("#deletePoint").modal("hide")}})};const Za=F()($a,[["render",Ha]]);var Fa=Za,Ra={class:"modal fade",id:"deleteArtwork",tabindex:"-1",role:"dialog","aria-labelledby":"newArtmap","aria-hidden":"true"},Xa={class:"modal-dialog",role:"document"},Ya={class:"modal-content"},Ua={key:0,class:"modal-body"},Wa=Object(i["createTextVNode"])("Are you sure that you want to delete "),Ga={class:"inline_highlight"},qa=Object(i["createElementVNode"])("p",null,"You won't be able to recover this artwork after you've deleted it.",-1),Ja={class:"modal-footer"},Qa=Object(i["createElementVNode"])("div",{class:"modal-backdrop fade show"},null,-1);function Ka(t,e,a,n,o,c){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ra,[Object(i["createElementVNode"])("div",Xa,[Object(i["createElementVNode"])("div",Ya,[t.art_data.art?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ua,[Object(i["createElementVNode"])("h1",null,[Wa,Object(i["createElementVNode"])("span",Ga,Object(i["toDisplayString"])(t.art_data.art.artwork_title)+"?",1)]),qa])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",Ja,[Object(i["createElementVNode"])("button",{class:"toggle_editMode btn btn-danger",onClick:e[0]||(e[0]=function(){return c.deleteSelectedArt&&c.deleteSelectedArt.apply(c,arguments)})},"Delete"),Object(i["createElementVNode"])("button",{class:"toggle_editMode btn btn-secondary",onClick:e[1]||(e[1]=function(){return c.hideDeleteAlert&&c.hideDeleteAlert.apply(c,arguments)})},"Cancel")])])]),Qa])}var tn={computed:Object(l["a"])({},Object(d["d"])("art",["art_data"])),methods:Object(l["a"])(Object(l["a"])({},Object(d["b"])("art",["deleteArt"])),{},{deleteSelectedArt:function(){var t={vm:this,id:this.art_data.art.id};this.deleteArt(t)},hideDeleteAlert:function(){$("#deleteArtwork").modal("hide")}})};const en=F()(tn,[["render",Ka]]);var an=en,nn=(a("a4d3"),a("e01a"),a("5377"),function(t){return Object(i["pushScopeId"])("data-v-cf44f7c6"),t=t(),Object(i["popScopeId"])(),t}),on={class:"modal fade",id:"publishModal",tabindex:"-1",role:"dialog","aria-labelledby":"newArtmap","aria-hidden":"true"},cn={class:"modal-dialog",role:"document"},rn={class:"modal-content"},sn={class:"modal-body"},ln={key:0,class:"publish-options-view"},dn=nn((function(){return Object(i["createElementVNode"])("div",{class:"row"},[Object(i["createElementVNode"])("div",{class:"col-sm-12"},[Object(i["createElementVNode"])("h2",{class:"settings-section-title"},"Settings")])],-1)})),un={class:"row artwork-details"},mn={class:"col-sm-12"},hn=nn((function(){return Object(i["createElementVNode"])("label",null,"Artwork Details",-1)})),pn={class:"form-group"},bn=nn((function(){return Object(i["createElementVNode"])("small",{id:"imageHelp",class:"form-text text-muted"},"Title:",-1)})),fn={class:"form-group"},vn=nn((function(){return Object(i["createElementVNode"])("small",{id:"imageHelp",class:"form-text text-muted"},"Image Description:",-1)})),_n={class:"form-group"},gn=nn((function(){return Object(i["createElementVNode"])("small",{id:"imageHelp",class:"form-text text-muted"},"Accession Number:",-1)})),jn={class:"form-group"},wn=nn((function(){return Object(i["createElementVNode"])("small",{id:"imageHelp",class:"form-text text-muted"},"Date Created:",-1)})),On={class:"form-group"},kn=nn((function(){return Object(i["createElementVNode"])("small",{id:"imageHelp",class:"form-text text-muted"},"Medium:",-1)})),yn={class:"form-group"},En=nn((function(){return Object(i["createElementVNode"])("small",{id:"imageHelp",class:"form-text text-muted"},"Dimensions:",-1)})),Nn={class:"form-group"},xn=nn((function(){return Object(i["createElementVNode"])("small",{id:"imageHelp",class:"form-text text-muted"},"Credit:",-1)})),Cn={class:"form-group autocomplete-group"},Vn={style:{display:"none"}},Pn=nn((function(){return Object(i["createElementVNode"])("small",{id:"imageHelp",class:"form-text text-muted"},"Artist:",-1)})),Sn={class:"auto-complete-input"},Bn={key:0,class:"new-obj-indicator"},Mn={key:1,class:"auto-complete-list"},An=["onClick"],Dn={class:"col-sm-12"},Tn={class:"form-group"},In=nn((function(){return Object(i["createElementVNode"])("small",{id:"imageHelp",class:"form-text text-muted"},"Artwork URL:",-1)})),Ln=["value"],zn=Object(i["createTextVNode"])("Copy!"),Hn=[zn],$n={class:"col-sm-12"},Zn={class:"form-group"},Fn=nn((function(){return Object(i["createElementVNode"])("small",{id:"imageHelp",class:"form-text text-muted"},"Artwork DLCS IIIF UUID:",-1)})),Rn=["value"],Xn={class:"row artwork meta-data"},Yn={class:"col-sm-12"},Un=nn((function(){return Object(i["createElementVNode"])("label",null,"Artmap Meta Tags",-1)})),Wn={class:"form-group"},Gn=nn((function(){return Object(i["createElementVNode"])("small",{id:"imageHelp",class:"form-text text-muted"},"Title used in Shared Posts on Facebook & Twitter:",-1)})),qn={class:"col-sm-12"},Jn={class:"form-group"},Qn=nn((function(){return Object(i["createElementVNode"])("small",{id:"imageHelp",class:"form-text text-muted"},"Description used in Shared Posts on Facebook & Twitter:",-1)})),Kn={key:0,class:"modal-footer"},to=["disabled"],eo=["disabled"],ao=nn((function(){return Object(i["createElementVNode"])("div",{class:"modal-backdrop fade show"},null,-1)}));function no(t,e,a,n,o,c){var r=Object(i["resolveDirective"])("clipboard");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",on,[Object(i["createElementVNode"])("div",cn,[Object(i["createElementVNode"])("div",rn,[Object(i["createElementVNode"])("div",sn,[t.art_data.art&&t.art_data.artist?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ln,[dn,Object(i["createElementVNode"])("div",un,[Object(i["createElementVNode"])("div",mn,[hn,Object(i["createElementVNode"])("div",pn,[bn,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{class:"form-control",type:"text",id:"art_title",placeholder:"Title...","onUpdate:modelValue":e[0]||(e[0]=function(t){return c.artwork_title=t})},null,512),[[i["vModelText"],c.artwork_title]])]),Object(i["createElementVNode"])("div",fn,[vn,Object(i["withDirectives"])(Object(i["createElementVNode"])("textarea",{class:"form-control",type:"text",id:"art_description",placeholder:"Image Description...","onUpdate:modelValue":e[1]||(e[1]=function(t){return c.description=t})},null,512),[[i["vModelText"],c.description]])]),Object(i["createElementVNode"])("div",_n,[gn,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{class:"form-control",type:"text",id:"art_accession",placeholder:"Accession Number...","onUpdate:modelValue":e[2]||(e[2]=function(t){return c.accession_number=t})},null,512),[[i["vModelText"],c.accession_number]])]),Object(i["createElementVNode"])("div",jn,[wn,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{class:"form-control",type:"text",id:"art_date",placeholder:"Date...","onUpdate:modelValue":e[3]||(e[3]=function(t){return c.artwork_creation_date=t})},null,512),[[i["vModelText"],c.artwork_creation_date]])]),Object(i["createElementVNode"])("div",On,[kn,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{class:"form-control",type:"text",id:"art_medium",placeholder:"Medium...","onUpdate:modelValue":e[4]||(e[4]=function(t){return c.artwork_medium=t})},null,512),[[i["vModelText"],c.artwork_medium]])]),Object(i["createElementVNode"])("div",yn,[En,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{class:"form-control",type:"text",id:"art_dimensions",placeholder:"Dimensions...","onUpdate:modelValue":e[5]||(e[5]=function(t){return c.artwork_dimensions=t})},null,512),[[i["vModelText"],c.artwork_dimensions]])]),Object(i["createElementVNode"])("div",Nn,[xn,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{class:"form-control",type:"text",id:"art_credit",placeholder:"Credit...","onUpdate:modelValue":e[6]||(e[6]=function(t){return c.artwork_credit=t})},null,512),[[i["vModelText"],c.artwork_credit]])]),Object(i["createElementVNode"])("div",Cn,[Object(i["createElementVNode"])("p",Vn,Object(i["toDisplayString"])(c.artist_name),1),Pn,Object(i["createElementVNode"])("div",Sn,[Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"Search for an existing artist or add a new one",onKeydown:e[7]||(e[7]=function(t){return o.flags.autocomplete_selections.artist=!1}),onClick:e[8]||(e[8]=function(t){return o.flags.autocomplete_selections.artist=!1}),"onUpdate:modelValue":e[9]||(e[9]=function(t){return o.local_input.artist_name=t})},null,544),[[i["vModelText"],o.local_input.artist_name]]),o.new_artist.artist_name?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Bn,"New Artist")):Object(i["createCommentVNode"])("",!0),o.autocompletes.artists?(Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",Mn,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(o.autocompletes.artists,(function(t,e){return Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{key:e,onClick:function(e){return c.autoCompleteSelectArtist("artist",t,"artist_name")}},Object(i["toDisplayString"])(t.artist_name),9,An)})),128))])):Object(i["createCommentVNode"])("",!0)])])]),Object(i["createElementVNode"])("div",Dn,[Object(i["createElementVNode"])("div",Tn,[In,o.dialog?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:"copyable-input",onClick:e[11]||(e[11]=function(t){return c.openUrl(o.dialog.art_url_root+c.artwork_slug+"/")})},[Object(i["createElementVNode"])("input",{class:"form-control",id:"artwork_url_input",value:o.dialog.art_url_root+c.artwork_slug,disabled:"true"},null,8,Ln),Object(i["withDirectives"])(Object(i["createElementVNode"])("button",{class:"btn btn-secondary btn-copy",type:"button",onClick:e[10]||(e[10]=Object(i["withModifiers"])((function(){}),["stop"]))},Hn,512),[[r,o.dialog.art_url_root+c.artwork_slug,"copy"]])])):Object(i["createCommentVNode"])("",!0)])]),Object(i["createElementVNode"])("div",$n,[Object(i["createElementVNode"])("div",Zn,[Fn,o.dialog?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,onClick:e[12]||(e[12]=function(t){return c.openUrl("https://portal.dlc.services/Image.aspx?space=2&image=".concat(c.artwork_iiif_uuid))})},[Object(i["createElementVNode"])("input",{class:"form-control",id:"art_iiif",value:c.artwork_iiif_uuid,disabled:"true"},null,8,Rn)])):Object(i["createCommentVNode"])("",!0)])])]),Object(i["createElementVNode"])("div",Xn,[Object(i["createElementVNode"])("div",Yn,[Un,Object(i["createElementVNode"])("div",Wn,[Gn,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{class:"form-control",type:"text",id:"art_title",placeholder:"Facebook share title...","onUpdate:modelValue":e[13]||(e[13]=function(t){return c.og_title=t})},null,512),[[i["vModelText"],c.og_title]])])]),Object(i["createElementVNode"])("div",qn,[Object(i["createElementVNode"])("div",Jn,[Qn,Object(i["withDirectives"])(Object(i["createElementVNode"])("textarea",{class:"form-control",type:"text",id:"art_title",placeholder:"Facebook share description..","onUpdate:modelValue":e[14]||(e[14]=function(t){return c.og_description=t})},null,512),[[i["vModelText"],c.og_description]])])])])])):Object(i["createCommentVNode"])("",!0)]),t.art_data.art?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Kn,[Object(i["createElementVNode"])("button",{class:"toggle_editMode btn btn-primary artmap-primary",onClick:e[15]||(e[15]=function(t){return c.save(!1)})},"Save"),t.art_data.art.published?(Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:1,class:"toggle_editMode btn btn-warning",onClick:e[17]||(e[17]=function(){return c.unpublish&&c.unpublish.apply(c,arguments)}),disabled:!o.validForm},"Unpublish",8,eo)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:0,class:"toggle_editMode btn btn-success",onClick:e[16]||(e[16]=function(t){return c.save(!0)}),disabled:!o.validForm},"Save & Publish",8,to)),Object(i["createElementVNode"])("button",{class:"toggle_editMode btn btn-secondary",onClick:e[18]||(e[18]=function(){return c.cancelEntry&&c.cancelEntry.apply(c,arguments)})},"Cancel"),Object(i["createElementVNode"])("button",{class:"btn btn-delete-artwork",onClick:e[19]||(e[19]=function(){return c.deleteThisArtwork&&c.deleteThisArtwork.apply(c,arguments)})},"Delete")])):Object(i["createCommentVNode"])("",!0)])]),ao])}a("4de4"),a("b64b"),a("1276");var oo=a("9191"),io=a("486e"),co=a("2ef0"),ro=a.n(co),so={data:function(){return{index:1,dialog:{art_url_root:null,copy_message:"copy the url"},copyData:"this is the thing to copy",options:{artists:null,collections:null},autocompletes:{artists:null,collections:null},flags:{autocomplete_selections:{artist:!1,collection:!1}},new_artist:{artist_name:null},local_input:{artist_name:null,collection_title:null,curatorial_statement:null,external_link:null},new_collection:{collection_title:null,artworks:[]},selected_collection:null,existing_collections:null,local_data:{id:null,artwork_title:null,about:null,accession_number:null,artwork_creation_date:null,artist:null,description:null,credit:null,iiif_uuid:null,dimensions:null,medium:null,image_ref:null,artwork_slug:null,creation_date:null,updated_at:null,curator:null,published:null,pub_date:null,og_title:null,og_description:null},valid:{artwork_title:!1,artwork_creation_date:!1,artist_name:!1},validForm:!1,rt:{editor:null,options:{modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","link"]]},placeholder:"Compose an epic...",theme:"snow"}}}},computed:Object(l["a"])(Object(l["a"])({},Object(d["d"])("art",["art_data","art_data_revertable"])),{},{artwork_title:{get:function(){return this.$store.state.art.art_data.art.artwork_title},set:function(t){this.$store.state.art.art_data.art.artwork_title=t,this.$store.state.art.art_data.art.artwork_slug=t.replace(/[^A-Z0-9]+/gi,"-").toLowerCase().toLowerCase()}},description:{get:function(){return this.$store.state.art.art_data.art.description},set:function(t){this.$store.state.art.art_data.art.description=t}},artwork_credit:{get:function(){return this.$store.state.art.art_data.art.credit},set:function(t){this.$store.state.art.art_data.art.credit=t}},artwork_medium:{get:function(){return this.$store.state.art.art_data.art.medium},set:function(t){this.$store.state.art.art_data.art.medium=t}},artwork_dimensions:{get:function(){return this.$store.state.art.art_data.art.dimensions},set:function(t){this.$store.state.art.art_data.art.dimensions=t}},artwork_iiif_uuid:{get:function(){return this.$store.state.art.art_data.art.iiif_uuid},set:function(t){this.$store.state.art.art_data.art.iiif_uuid=t}},accession_number:{get:function(){return this.$store.state.art.art_data.art.accession_number},set:function(t){this.$store.state.art.art_data.art.accession_number=t}},artwork_creation_date:{get:function(){return this.$store.state.art.art_data.art.artwork_creation_date},set:function(t){this.$store.state.art.art_data.art.artwork_creation_date=t}},artwork_slug:{get:function(){return this.$store.state.art.art_data.art.artwork_title.replace(/[^A-Z0-9]+/gi,"-").toLowerCase().toLowerCase()},set:function(t){this.$store.state.art.art_data.art.artwork_slug=t}},artist_name:{get:function(){this.local_input.artist_name=this.$store.state.art.art_data.artist.artist_name},set:function(t){this.local_input.artist_name=t}},image_ref:{get:function(){return this.$store.state.art.art_data.art.image_ref},set:function(t){this.$store.state.art.art_data.art.image_ref=t}},og_title:{get:function(){return this.$store.state.art.art_data.art.og_title},set:function(t){this.$store.state.art.art_data.art.og_title=t}},og_description:{get:function(){return this.$store.state.art.art_data.art.og_description},set:function(t){this.$store.state.art.art_data.art.og_description=t}}}),watch:{"art_data.art.artwork_title":function(t){Object(io["a"])("artwork_title",t,this),this.submissionCheck()},"art_data.art.artwork_creation_date":function(t){Object(io["a"])("artwork_creation_date",t,this),this.submissionCheck()},"local_input.artist_name":function(t){var e;this.flags.autocomplete_selections.artist?(this.autocompletes.artists=null,this.new_artist.artist_name=null):t?(e=ro.a.filter(this.options.artists,(function(e){return e.artist_name.toLowerCase().indexOf(t.toLowerCase())>-1})),e.length>0?(this.autocompletes.artists=e,1===this.autocompletes.artists.length&&this.autocompletes.artists[0].artist_name===t&&(this.autocompletes.artists=null,this.new_artist.artist_name=null)):(this.autocompletes.artists=null,this.new_artist.artist_name=t)):(this.autocompletes.artists=null,this.new_artist.artist_name=null),Object(io["a"])("artist_name",t,this),this.submissionCheck()},"local_input.collection_title":function(t){var e;this.flags.autocomplete_selections.collection?(this.autocompletes.collections=null,this.new_collection.collection_title=null):t?(e=ro.a.filter(this.options.collections,(function(e){return e.collection_title.toLowerCase().indexOf(t.toLowerCase())>-1})),e.length>0?this.autocompletes.collections=e:(this.autocompletes.collections=null,this.new_collection.collection_title=t)):(this.autocompletes.collections=null,this.new_collection.collection_title=null)}},methods:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(d["c"])("art",["revert","setArtData","setArtDescription","callSuccessAlert","setArtsArtistId","setArtsPublishState","setDeleteCandidate"])),Object(d["b"])("art",["getArtistData"])),{},{openUrl:function(t){window.open(t)},save:function(t){var e=this,a=this;this.new_artist.artist_name||this.new_collection.collection_title?this.new_artist.artist_name&&this.new_collection.collection_title?this.saveNewArtistFirst((function(n){a.art_data.art.artist=n.data.id,a.saveNewCollectionFirst((function(a){e.updateArtwork(!0,a.data.id,t)}))})):this.new_artist.artist_name?this.saveNewArtistFirst((function(n){a.setArtsArtistId(n.data.id),e.updateArtwork(!1,"",t)})):this.new_collection.collection_title&&this.saveNewCollectionFirst((function(e){a.updateArtwork(!0,e.data.id,t)})):this.updateArtwork(!1,"",t)},submissionCheck:function(){var t=0,e=Object.keys(this.valid).length;for(var a in this.valid)this.valid[a]&&t++;this.validForm=t===e},handleCollectionInputKeyDown:function(){this.flags.autocomplete_selections.collection=!1,this.selected_collection=null},autoCompleteSelectCollection:function(t,e){this.flags.autocomplete_selections.collection=!0,this.selected_collection=t.id,this.local_input[e]=t[e]},autoCompleteSelectArtist:function(t,e,a){this.flags.autocomplete_selections.artist=!0,this.art_data.art[t]=e.id,this.local_input[a]=e[a]},handlerL:function(){this.showTips=!1},handleSelection:function(t){this.index=t},saveNewArtistFirst:function(t){oo["a"].post("artists/",this.new_artist,{headers:{"X-CSRFToken":window.csrf}}).then((function(e){t(e)}),(function(t){console.log(t)}))},saveNewCollectionFirst:function(t){this.new_collection["curator"]=Number(window.user_id),this.new_collection["curator_id"]=Number(window.user_id),this.new_collection["collection_slug"]=this.new_collection.collection_title.replace(/[^A-Z0-9]+/gi,"-").toLowerCase().toLowerCase(),this.new_collection["curatorial_statement"]=this.local_input.curatorial_statement,this.new_collection["external_link"]=this.local_input.external_link,oo["a"].post("artcollections/",this.new_collection,{headers:{"X-CSRFToken":window.csrf}}).then((function(e){t(e)}),(function(t){console.log(t)}))},addArtToCollection:function(t,e){var a,n=this;oo["a"].get("artcollections/".concat(t,"/"),{headers:{"X-CSRFToken":window.csrf}}).then((function(o){a=o.data,a.artworks.push(e.id),oo["a"].put("artcollections/".concat(t,"/"),a,{headers:{"X-CSRFToken":window.csrf}}).then((function(t){n.handleUpdateSuccess(e)}),(function(t){console.log(t)}))}),(function(t){console.log(t)}))},unpublish:function(){var t=this;this.setArtsPublishState(!1),oo["a"].put("art/".concat(window.art_id,"/"),this.art_data.art,{headers:{"X-CSRFToken":window.csrf}}).then((function(e){t.handleUpdateSuccess(e.data)}),(function(t){console.log(t)}))},updateArtwork:function(t,e,a){var n=this,o=this;console.log(this.art_data.art),a&&this.setArtsPublishState(a),oo["a"].put("art/".concat(window.art_id,"/"),this.art_data.art,{headers:{"X-CSRFToken":window.csrf}}).then((function(a){t?n.addArtToCollection(e,a.data):n.selected_collection?n.addArtToCollection(o.selected_collection,a.data):n.handleUpdateSuccess(a.data)}),(function(t){console.log(t)}))},handleUpdateSuccess:function(t){this.setArtData(t);var e="/art/".concat(t.artwork_slug);history.replaceState({},null,e);var a={m:"".concat(t.artwork_title," was successfully updated."),hideDelay:3500};this.callSuccessAlert(a),this.getArtistData(t.artist),this.getThisArtworksCollections(),$("#publishModal").modal("hide")},deleteThisArtwork:function(){$("#deleteArtwork").modal("show")},cancelEntry:function(){$("#publishModal").modal("hide"),this.revert()},getArtists:function(){var t=this;oo["a"].get("artists/").then((function(e){t.options.artists=e.data}),(function(t){console.log(t)}))},getCollections:function(){var t=this;oo["a"].get("artcollections/").then((function(e){t.options.collections=e.data}),(function(t){console.log(t)}))},getThisArtworksCollections:function(){var t=this;oo["a"].get("artcollections/?artwork=".concat(window.art_id)).then((function(e){t.existing_collections=e.data,t.local_input.collection_title=null,t.new_collection.collection_title=null,t.selected_collection=null}),(function(t){console.log(t)}))},removeFromCollection:function(t){var e=this;oo["a"].get("artcollections/".concat(t,"/")).then((function(a){var n=a.data,o=a.data.artworks,i=o.filter((function(t){return t!==window.art_id}));n.artworks=i,oo["a"].put("artcollections/".concat(t,"/"),n,{headers:{"X-CSRFToken":window.csrf}}).then((function(t){e.getThisArtworksCollections()}),(function(t){console.log(t)}))}),(function(t){console.log(t)}))}}),updated:function(){this.submissionCheck()},mounted:function(){this.dialog.art_url_root=String(oo["a"].defaults.baseURL).split("api")[0]+"gallery/",this.getArtists(),this.getCollections(),this.getThisArtworksCollections()}};a("cf29");const lo=F()(so,[["render",no],["__scopeId","data-v-cf44f7c6"]]);var uo=lo,mo=function(t){return Object(i["pushScopeId"])("data-v-8240ebc0"),t=t(),Object(i["popScopeId"])(),t},ho={id:"artmapper-navigation"},po={class:"main-nav-items"},bo=mo((function(){return Object(i["createElementVNode"])("i",{class:"material-icons"},"",-1)})),fo=[bo],vo={key:0,class:"art_title_item"},_o={key:0,class:"artwork_title"},go={key:1,class:"artwork_title"},jo={key:2,class:"artist_name"},wo={key:1,class:"art_title_item"},Oo={class:"artwork_title"},ko={key:0,class:"utility-nav-items"},yo={key:0,class:"published_state"},Eo=mo((function(){return Object(i["createElementVNode"])("span",{class:"badge badge-published"},"Published",-1)})),No=[Eo],xo={key:1,class:"published_state"},Co=mo((function(){return Object(i["createElementVNode"])("span",{class:"badge badge-unpublished"},"Unpublished",-1)})),Vo=[Co],Po=mo((function(){return Object(i["createElementVNode"])("i",{class:"fa fa-sliders","aria-hidden":"true"},null,-1)})),So=[Po];function Bo(t,e,a,n,o,c){var r=Object(i["resolveComponent"])("MiniLoader"),s=Object(i["resolveComponent"])("Preview");return Object(i["openBlock"])(),Object(i["createElementBlock"])("nav",ho,[Object(i["createElementVNode"])("ul",po,[Object(i["createElementVNode"])("li",{class:"backBtn",onClick:e[0]||(e[0]=function(){return c.goBack&&c.goBack.apply(c,arguments)})},fo),t.art_data.art&&t.art_data.artist?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",vo,[t.art_data.art.artwork_title?(Object(i["openBlock"])(),Object(i["createElementBlock"])("h1",_o,Object(i["toDisplayString"])(t.art_data.art.artwork_title),1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("h1",go,"...")),t.art_data.artist?(Object(i["openBlock"])(),Object(i["createElementBlock"])("h3",jo,Object(i["toDisplayString"])(t.art_data.artist.artist_name),1)):Object(i["createCommentVNode"])("",!0)])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",wo,[Object(i["createElementVNode"])("h1",Oo,[Object(i["createVNode"])(r)])]))]),t.art_data.art?(Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",ko,[t.art_data.art.published?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",yo,No)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",xo,Vo)),Object(i["createElementVNode"])("li",{onClick:e[1]||(e[1]=function(){return c.preview&&c.preview.apply(c,arguments)})},[Object(i["createVNode"])(s)]),Object(i["createElementVNode"])("li",{onClick:e[2]||(e[2]=function(){return c.settings&&c.settings.apply(c,arguments)})},So)])):Object(i["createCommentVNode"])("",!0)])}var Mo={title:"Click to Preview",class:"icon preview"},Ao=Object(i["createStaticVNode"])('<svg id="preview-icon" xmlns="http://www.w3.org/2000/svg" viewBox="5664 577.505 47.842 25.99"><g id="Symbol_4_1" data-name="Symbol 4 – 1" transform="translate(4075 544)"><g id="Path_12" data-name="Path 12" class="cls-1" transform="translate(1589 33.505)"><path class="cls-3" d="M23.911,0C37.117,0,48.369,13.688,47.822,13s-10.705,13-23.911,13S-.065,13,0,13,10.705,0,23.911,0Z"></path><path class="cls-4" d="M 23.91109466552734 23.99031448364258 C 27.85291481018066 23.99031448364258 32.00706481933594 22.60873603820801 36.25813293457031 19.88395500183105 C 39.88109588623047 17.56177520751953 42.78660583496094 14.77086544036865 44.5225944519043 13.10334491729736 C 44.64138031005859 12.98924446105957 44.75457763671875 12.88051128387451 44.86300277709961 12.7767505645752 C 43.5113639831543 11.41405582427979 41.46485900878906 9.521152496337891 38.92094421386719 7.689895153045654 C 36.57654571533203 6.002255439758301 34.2236328125 4.666425228118896 31.92757415771484 3.719505310058594 C 29.16097450256348 2.578525304794312 26.46383476257324 2.00000524520874 23.91109466552734 2.00000524520874 C 21.32608413696289 2.00000524520874 18.62769508361816 2.559905290603638 15.89088439941406 3.664145231246948 C 13.61526393890381 4.582315444946289 11.29912376403809 5.880325317382812 9.006824493408203 7.522135257720947 C 6.810440063476562 9.095248222351074 4.610257148742676 11.01439666748047 2.692478179931641 13.02137470245361 C 3.849779844284058 14.24428462982178 5.897483825683594 16.23858261108398 8.625324249267578 18.22599601745605 C 10.96356391906738 19.92955589294434 13.33132457733154 21.28008460998535 15.66284465789795 22.24007606506348 C 18.48348426818848 23.40144538879395 21.25859451293945 23.99031448364258 23.91109466552734 23.99031448364258 M 23.91109466552734 25.99031448364258 C 10.70537376403809 25.99031448364258 -0.06496581435203552 13.00460529327393 1.418762167304521e-05 12.99515533447266 C 0.06498418748378754 12.98570537567139 10.70537376403809 5.334472461981932e-06 23.91109466552734 5.334472461981932e-06 C 36.36078262329102 5.334472461981932e-06 47.07411956787109 12.16586971282959 47.80192565917969 12.97813320159912 C 47.79130935668945 12.97250175476074 47.77866363525391 12.96969509124756 47.76420211791992 12.96969509124756 C 46.77252960205078 12.96969509124756 36.79119491577148 25.99031448364258 23.91109466552734 25.99031448364258 Z M 47.84125137329102 13.02061557769775 C 47.84025573730469 13.02061557769775 47.82704162597656 13.0061616897583 47.80192565917969 12.97813320159912 C 47.80971908569336 12.98226547241211 47.81647872924805 12.98792171478271 47.82218551635742 12.99515533447266 C 47.83569717407227 13.01228809356689 47.84200668334961 13.02061557769775 47.84125137329102 13.02061557769775 Z"></path></g><g id="Ellipse_30" data-name="Ellipse 30" class="cls-2" transform="translate(1604 38)"><circle class="cls-3" cx="8.5" cy="8.5" r="8.5"></circle><circle class="cls-5" cx="8.5" cy="8.5" r="7.5"></circle></g></g></svg>',1),Do=[Ao];function To(t,e){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Mo,Do)}const Io={},Lo=F()(Io,[["render",To]]);var zo=Lo,Ho=["innerHTML"];function $o(t,e,a,n,o,c){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"icon publish",innerHTML:o.PublishIcon},null,8,Ho)}var Zo=a("7526"),Fo=a.n(Zo),Ro={data:function(){return{PublishIcon:Fo.a}}};const Xo=F()(Ro,[["render",$o]]);var Yo=Xo,Uo={data:function(){return{preview_url:window.preview_url?window.preview_url:null}},computed:Object(l["a"])({},Object(d["d"])("art",["art_data"])),methods:Object(l["a"])(Object(l["a"])({},Object(d["c"])("art",["setArtmapPreviewState"])),{},{goBack:function(){window.location.href="/"},preview:function(){window.location.href=this.preview_url},settings:function(){$("#publishModal").modal("show")}}),components:{Preview:zo,Publish:Yo,MiniLoader:na["a"]}};a("ae90");const Wo=F()(Uo,[["render",Bo],["__scopeId","data-v-8240ebc0"]]);var Go=Wo,qo={data:function(){return{state:null}},name:"artmapper",computed:Object(l["a"])({},Object(d["d"])("art",["preview_state","viewer"])),methods:Object(l["a"])(Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(d["b"])("art",["getArtData","getArtistData","getIIIFAsset"])),Object(d["c"])("art",["initCanvas","artmapHasLoaded"])),Object(d["b"])("point",["getPoints"])),{},{preloadArtCanvas:function(){var t=this,e=setInterval((function(){if(t.viewer){var a=t.viewer.world.getItemAt(0);if(a){var n=a.getFullyLoaded();n&&(t.artmapHasLoaded(t),clearInterval(e))}}}),500)},createArtmap:function(){var t=this;this.getArtData(this).then((function(e){t.getArtistData(e.data.artist),t.getIIIFAsset(e.data.iiif_uuid).then((function(e){t.getPoints().then((function(e){t.initCanvas()})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))}}),created:function(){this.preloadArtCanvas(),this.createArtmap(null)},components:{ArtCanvas:Sa,SideBar:gt,DeleteModal:Fa,DeleteArtworkModal:an,Navigation:Go,PublishModal:uo}};a("5081");const Jo=F()(qo,[["render",s]]);var Qo=Jo,Ko=a("4360");Object(n["a"])(Qo,Ko["b"],o["a"],"#editor")},"915d":function(t,e,a){},9191:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var n=a("bc3a"),o=a.n(n),i="http://127.0.0.1:8000/";i="https://artnav.terraamericanart.org/";var c=o.a.create({baseURL:"".concat(i,"api/")})},"9b3e":function(t,e,a){},a421:function(t,e,a){"use strict";var n=a("7a23"),o={class:"mini-loader_wrap"};function i(t,e,a,i,c,r){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["sp-3balls",a.colorClass]),style:Object(n["normalizeStyle"])(a.additionalStyles)},null,6)])}var c={props:["colorClass","additionalStyles"]},r=(a("4eb9"),a("d959")),s=a.n(r);const l=s()(c,[["render",i]]);e["a"]=l},a57e:function(t,e,a){"use strict";a("136d")},ad05:function(t,e,a){},ae90:function(t,e,a){"use strict";a("ff40")},b12b:function(t,e,a){"use strict";a("7158")},b9c8:function(t,e,a){"use strict";a("c438")},ba36:function(t,e,a){},bf64:function(t,e,a){},c10b:function(t,e,a){"use strict";a("f235")},c236:function(t,e,a){"use strict";a.d(e,"c",(function(){return p})),a.d(e,"b",(function(){return b})),a.d(e,"a",(function(){return f}));var n=a("d4ec"),o=a("bee2"),i=a("45eb"),c=a("7e84"),r=a("262e"),s=a("2caf"),l=(a("ac1f"),a("00b4"),a("498a"),a("466d"),a("5319"),a("99af"),a("9339")),d=a.n(l),u=!1;function m(t){if(!t)return null;if(/^[a-zA-Z0-9_-]{11}$/.test(t.trim()))return t.trim();for(var e=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/,/youtube\.com\/watch\?.*v=([a-zA-Z0-9_-]{11})/],a=0,n=e;a<n.length;a++){var o=n[a],i=t.match(o);if(i&&i[1])return i[1]}return null}var h=function(t){Object(r["a"])(a,t);var e=Object(s["a"])(a);function a(){return Object(n["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,null,[{key:"create",value:function(t){var e=Object(i["a"])(Object(c["a"])(a),"create",this).call(this,t),n=m(t);if(n){var o="https://www.youtube.com/embed/".concat(n);e.setAttribute("src",o),e.setAttribute("frameborder","0"),e.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"),e.setAttribute("allowfullscreen","true"),e.setAttribute("referrerpolicy","strict-origin-when-cross-origin"),e.setAttribute("width","560"),e.setAttribute("height","315"),e.setAttribute("style","aspect-ratio: 16 / 9; width: 100%; height: auto;"),e.setAttribute("class","ql-video")}return e}},{key:"value",value:function(t){return t.getAttribute("src")}}]),a}(d.a.import("formats/video"));function p(){if(!u)try{d.a.register(h,!0),u=!0}catch(t){console.warn("Failed to register custom video handler:",t)}}function b(t){if(!t||"string"!==typeof t)return t;var e=/<iframe([^>]*src=["'][^"']*youtube\.com\/embed\/[^"']*["'][^>]*)(\/?)>/gi;return t.replace(e,(function(t,e,a){if(/referrerpolicy\s*=/i.test(e))return t;var n=a?" />":">";return"<iframe".concat(e,' referrerpolicy="strict-origin-when-cross-origin"').concat(n)}))}function f(){return{video:function(t){var e=m(t.insert.video);if(e){var a="https://www.youtube.com/embed/".concat(e);return'<iframe src="'.concat(a,'" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="true" referrerpolicy="strict-origin-when-cross-origin" width="560" height="315" style="aspect-ratio: 16 / 9; width: 100%; height: auto;" class="ql-video"></iframe>')}return'<iframe src="'.concat(t.insert.video,'" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="true" referrerpolicy="strict-origin-when-cross-origin" width="560" height="315" style="aspect-ratio: 16 / 9; width: 100%; height: auto;" class="ql-video"></iframe>')}}}},c438:function(t,e,a){},cb5d:function(t,e,a){"use strict";a("8468")},cf29:function(t,e,a){"use strict";a("0898")},d13d:function(t,e,a){},d7dc:function(t,e,a){"use strict";a("8bb8")},e682:function(t,e,a){},e6a9:function(t,e,a){},e6b9:function(t,e,a){"use strict";var n=a("6c02"),o=a("f498"),i=[{path:"/:pointSlug",name:"point",component:o["a"]},{path:"/",name:"base",component:o["a"]}],c=Object(n["a"])({history:Object(n["b"])(),routes:i});e["a"]=c},e8d1:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var n=a("5530"),o=a("7a23"),i=a("1344"),c=a("6676"),r=function(t,e,a,r){var s=Object(i["a"])(),l=document.querySelector(r),d=Object(o["createApp"])(t,Object(n["a"])({},l.dataset));return d.config.globalProperties.emitter=s,e&&d.use(e),a&&d.use(a),d.use(c["a"],{autoSetContainer:!0,appendToBody:!0}),d.mount(r),d}},ee70:function(t,e,a){},efc8:function(t,e,a){},f235:function(t,e,a){},f363:function(t,e,a){},f3b0:function(t,e,a){"use strict";a("206a")},f498:function(t,e,a){"use strict";var n=a("7a23"),o={id:"artmap_container"},i=Object(n["createElementVNode"])("i",{class:"material-icons"},"",-1),c=Object(n["createTextVNode"])(" End Preview"),r=[i,c];function s(t,e,a,i,c,s){var l=this,d=Object(n["resolveComponent"])("Point"),u=Object(n["resolveComponent"])("Loader"),m=Object(n["resolveComponent"])("PointTray"),h=Object(n["resolveComponent"])("InfoTray"),p=Object(n["resolveComponent"])("MapCtrl"),b=Object(n["resolveComponent"])("MainMenuBtn"),f=Object(n["resolveComponent"])("DiscoverBtn"),v=Object(n["resolveComponent"])("TerraLogo"),_=Object(n["resolveComponent"])("MainMenu");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,[c.editor_url?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",{key:0,class:"end_preview_btn",onClick:e[0]||(e[0]=function(){return s.endPreview&&s.endPreview.apply(s,arguments)})},r)):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(n["Transition"],{name:"art_loaded"},{default:Object(n["withCtx"])((function(){return[t.local_data.points?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:0,id:"artmapcanvas",class:Object(n["normalizeClass"])({menuOpen:l.toggles.main_menu})},[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(t.local_data.points,(function(t){return Object(n["openBlock"])(),Object(n["createBlock"])(d,{key:"map_item"+t.id,id:t.id,point:t},null,8,["id","point"])})),128))],2)),[[n["vShow"],t.loaded]]):Object(n["createCommentVNode"])("",!0)]})),_:1}),Object(n["createVNode"])(n["Transition"],{name:"loader"},{default:Object(n["withCtx"])((function(){return[t.loaded?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])(u,{key:0}))]})),_:1}),Object(n["createVNode"])(m),Object(n["createVNode"])(h),Object(n["createVNode"])(p),Object(n["createVNode"])(b),Object(n["createVNode"])(f),t.loaded?(Object(n["openBlock"])(),Object(n["createBlock"])(v,{key:1})):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(_)])}var l=a("5530"),d=(a("4de4"),a("d3b7"),a("a9e3"),a("159b"),a("aa78")),u=a.n(d),m=a("5502"),h=a("1c6e"),p=["id"],b=Object(n["createElementVNode"])("svg",{class:"point_el",width:"34",height:"34"},[Object(n["createElementVNode"])("circle",{cx:"16",cy:"16",r:"15",transform:"",class:"outer"})],-1),f=[b];function v(t,e,a,o,i,c){return Object(n["openBlock"])(),Object(n["createElementBlock"])("span",{class:Object(n["normalizeClass"])(["artmap_point",[{active:t.local_data.current_point===a.point},{ready:!t.discover_mode}]]),id:a.point.id,onClick:e[0]||(e[0]=function(t){return c.handlePointClick(a.point.point_slug)})},f,10,p)}var _={props:["point"],computed:Object(l["a"])({},Object(m["d"])("artmap",["viewer","local_data","discover_mode"])),methods:Object(l["a"])(Object(l["a"])({},Object(m["c"])("artmap",["setInfoTrayClose","setInfoTrayOpen"])),{},{handlePointClick:function(t){this.local_data.current_point===this.point?(this.setInfoTrayClose(),this.$router.push({path:"/"})):this.$router.push(t)}})},g=(a("2df1"),a("d959")),j=a.n(g);const w=j()(_,[["render",v]]);var O=w,k={id:"point_tray"},y={key:0,class:"point-tray-intro"},E={class:"artist-name"},N={class:"creation-date"},x=Object(n["createTextVNode"])("Explore the Artwork "),C=Object(n["createElementVNode"])("div",{id:"viewfinder-wrap"},[Object(n["createElementVNode"])("div",{id:"artmap-viewfinder"})],-1);function V(t,e,a,o,i,c){var r=Object(n["resolveComponent"])("TrayPoint"),s=Object(n["resolveComponent"])("DoubleArrow");return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:Object(n["normalizeClass"])(["point_tray_wrap",{open:i.open}])},[Object(n["createElementVNode"])("div",k,[t.local_data.artist&&t.local_data.art?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",y,[Object(n["createElementVNode"])("h1",null,Object(n["toDisplayString"])(t.local_data.art.artwork_title),1),Object(n["createElementVNode"])("p",E,"By "+Object(n["toDisplayString"])(t.local_data.artist.artist_name),1),Object(n["createElementVNode"])("p",N,"Created in "+Object(n["toDisplayString"])(t.local_data.art.artwork_creation_date),1)])):Object(n["createCommentVNode"])("",!0),t.local_data.points?(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],{key:1},Object(n["renderList"])(t.local_data.points,(function(t){return Object(n["openBlock"])(),Object(n["createBlock"])(r,{key:"tray_item_"+t.id,point:t},null,8,["point"])})),128)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("span",{class:Object(n["normalizeClass"])(["sidebar_reveal",{open:i.open}]),onClick:e[0]||(e[0]=function(t){return i.open=!i.open})},[x,Object(n["createVNode"])(s,{class:"point_tray_reveal_btn"})],2),C],2)),[[n["vShow"],t.local_data.points&&t.local_data.points.length>0&&!t.discover_mode]])}var P=["id"],S={class:"row"},B={class:"col-sm-3"},M={class:"col-sm-9 tray_point_text"};function A(t,e,a,o,i,c){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:Object(n["normalizeClass"])(["tray_item",{active:t.local_data.current_point===a.point}]),id:a.point.id,onClick:e[0]||(e[0]=function(){return c.goTo&&c.goTo.apply(c,arguments)})},[Object(n["createElementVNode"])("div",S,[Object(n["createElementVNode"])("div",B,[a.point.point_image?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:0,class:"point_thumb",style:Object(n["normalizeStyle"])("background-image:url("+a.point.point_image+");")},null,4)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",M,[Object(n["createElementVNode"])("h2",null,Object(n["toDisplayString"])(a.point.point_title),1),Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(a.point.point_lede),1)])])],10,P)}a("cb29");var D=a("ff81"),T={props:["point"],computed:Object(l["a"])({},Object(m["d"])("artmap",["viewer","canvas","canvas_mask","local_data"])),methods:{goTo:function(){this.$router.push({path:"/".concat(this.point.point_slug)})},renderQHtml:function(t){var e=JSON.parse(t),a={},n=new D["QuillDeltaToHtmlConverter"](e.ops,a);return n.convert()},clearCanvas:function(){var t=this.canvas_mask[0].getContext("2d");t.clearRect(0,0,this.canvas_mask[0].width,this.canvas_mask[0].height)},locatePoint:function(){var t=new u.a.Point(this.point.x,this.point.y);this.viewer.viewport.panTo(t,!1)},returnToOriginalPosition:function(){if(this.local_data.current_point){var t=new u.a.Point(this.local_data.current_point.x,this.local_data.current_point.y),e=Number(this.local_data.current_point.zoom_value);this.viewer.viewport.zoomTo(e,!1),this.viewer.viewport.panTo(t,!1)}else this.viewer.viewport.goHome(!1)},locateMouse:function(t){if(this.clearCanvas(),!this.$route.params.artmap){var e=new u.a.Point(this.point.x,this.point.y),a=this.viewer.viewport.viewportToWindowCoordinates(e),n=this.canvas_mask[0].getContext("2d");n.beginPath(),n.moveTo(t.pageX,t.pageY),n.lineTo(a.x,a.y),n.stroke(),n.strokeStyle="#FFFFFF",n.arc(a.x,a.y,2,0,2*Math.PI),n.fillStyle="#FFFFFF",n.fill()}}}};a("6162");const I=j()(T,[["render",A]]);var L=I,z={class:"icon double-arrow-icon"},H=Object(n["createStaticVNode"])('<svg id="double-arrow-icon" xmlns="http://www.w3.org/2000/svg" viewBox="6131.196 1174.569 11.718 8.607"><g id="Symbol_8_1" data-name="Symbol 8 – 1" transform="translate(6112 567)"><g id="Group_5" data-name="Group 5" transform="translate(1043 -1217) rotate(90)"><path id="Path_17" data-name="Path 17" class="cls-1" d="M3699.276,1010.359l3.6-3.6,3.6,3.6" transform="translate(-1874 12.737)"></path><path id="Path_20" data-name="Path 20" class="cls-1" d="M3699.276,1010.359l3.6-3.6,3.6,3.6" transform="translate(-1874 6.737)"></path></g></g></svg>',1),$=[H];function Z(t,e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",z,$)}const F={},R=j()(F,[["render",Z]]);var X=R,Y={data:function(){return{open:!1}},computed:Object(l["a"])({},Object(m["d"])("artmap",["local_data","discover_mode"])),components:{TrayPoint:L,DoubleArrow:X}};a("7a17");const U=j()(Y,[["render",V]]);var W=U,G={key:0,id:"artmap_info_tray"},q={class:"info_tray_header row"},J={class:"controls col-sm-2"},Q=Object(n["createElementVNode"])("i",{class:"gmi-x material-icons"},"",-1),K=[Q],tt={class:"next-prev"},et={class:"info-title col-sm-10"},at={class:"info-tray-body row justify-content-end"},nt={class:"body-content-wrap col-sm-10"},ot=["innerHTML"];function it(t,e,a,o,i,c){return Object(n["openBlock"])(),Object(n["createBlock"])(n["Transition"],{name:"info-tray"},{default:Object(n["withCtx"])((function(){return[t.local_data.current_point&&t.toggles.info_tray?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",G,[Object(n["createElementVNode"])("div",q,[Object(n["createElementVNode"])("div",J,[Object(n["createElementVNode"])("div",{class:"close-tray",onClick:e[0]||(e[0]=function(){return c.closeAndLeave&&c.closeAndLeave.apply(c,arguments)})},K),Object(n["createElementVNode"])("div",tt,[c.prev?(Object(n["openBlock"])(),Object(n["createElementBlock"])("i",{key:0,class:"fa fa-angle-left",onClick:e[1]||(e[1]=function(t){return c.cycle("prev")})})):Object(n["createCommentVNode"])("",!0),c.next?(Object(n["openBlock"])(),Object(n["createElementBlock"])("i",{key:1,class:"fa fa-angle-right",onClick:e[2]||(e[2]=function(t){return c.cycle("next")})})):Object(n["createCommentVNode"])("",!0)])]),Object(n["createElementVNode"])("div",et,[Object(n["createElementVNode"])("h1",null,Object(n["toDisplayString"])(t.local_data.current_point.point_title),1)])]),Object(n["createElementVNode"])("div",at,[Object(n["createElementVNode"])("div",nt,[Object(n["createElementVNode"])("p",{innerHTML:c.renderQHtml(t.local_data.current_point.point_content)},null,8,ot)])])])):Object(n["createCommentVNode"])("",!0)]})),_:1})}var ct=a("c236"),rt={data:function(){return{currentPos:null}},computed:Object(l["a"])(Object(l["a"])({},Object(m["d"])("artmap",["local_data","toggles","viewer","point_cursor"])),{},{next:function(){if(this.local_data.current_point)return this.setCurrentPointIndex(),this.currentPos!==this.local_data.points.length-1},prev:function(){if(this.local_data.current_point)return this.setCurrentPointIndex(),0!==this.currentPos}}),methods:Object(l["a"])(Object(l["a"])({},Object(m["c"])("artmap",["setInfoTrayClose","setInfoTrayOpen"])),{},{renderQHtml:function(t){var e=JSON.parse(t),a=Object(ct["a"])(),n=new D["QuillDeltaToHtmlConverter"](e.ops,a),o=n.convert();return Object(ct["b"])(o)},closeAndLeave:function(){this.setInfoTrayClose(),this.$router.push({path:"/"})},setCurrentPointIndex:function(){var t=this,e=this.local_data.current_point.id;this.local_data.points.forEach((function(a,n){a.id===e&&(t.currentPos=n)}))},cycle:function(t){"prev"===t&&this.currentPos>0&&(this.currentPos-=1),"next"===t&&this.currentPos<this.local_data.points.length-1&&(this.currentPos+=1),this.$router.push({path:"/".concat(this.local_data.points[this.currentPos].point_slug)})}})};a("6cc7");const st=j()(rt,[["render",it]]);var lt=st,dt={class:"map-ctrls"},ut=Object(n["createElementVNode"])("i",{class:"material-icons"},"",-1),mt=[ut],ht={class:"zooms"},pt=Object(n["createElementVNode"])("i",{class:"material-icons"},"",-1),bt=[pt],ft=Object(n["createElementVNode"])("i",{class:"material-icons"},"",-1),vt=[ft];function _t(t,e,a,o,i,c){return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",dt,[Object(n["createElementVNode"])("span",{onClick:e[0]||(e[0]=function(e){return t.viewer.viewport.goHome(!1)}),class:"reset-btn",id:"reset"},mt),Object(n["createElementVNode"])("span",ht,[Object(n["createElementVNode"])("span",{onClick:e[1]||(e[1]=function(t){return c.zoom(!0)}),class:"zoom-btn",id:"zoom-in"},bt),Object(n["createElementVNode"])("span",{onClick:e[2]||(e[2]=function(t){return c.zoom(!1)}),class:"zoom-btn",id:"zoom-out"},vt)])],512)),[[n["vShow"],!t.discover_mode]])}var gt={computed:Object(l["a"])({},Object(m["d"])("artmap",["viewer","discover_mode","osd"])),methods:{zoom:function(t){var e=Math.round(this.viewer.viewport.getZoom(!0));t?(e<this.osd.maxZoomLevel&&(e+=1),this.viewer.viewport.zoomTo(e,!1)):e>=3?(e-=1,this.viewer.viewport.zoomTo(e,!1)):e>=2&&this.viewer.viewport.goHome(!1)}}};a("b12b");const jt=j()(gt,[["render",_t]]);var wt=jt,Ot=(a("a4d3"),a("e01a"),{key:0,class:"artmap-menu"}),kt={class:"artmap-menu-wrap"},yt={key:0,class:"art_meta_info"},Et={class:"italic_title"},Nt=Object(n["createElementVNode"])("br",null,null,-1),xt={class:"catalog_caption"},Ct=Object(n["createElementVNode"])("br",null,null,-1),Vt={class:"artist_name"},Pt=Object(n["createElementVNode"])("br",null,null,-1),St={key:0,class:"about_artwork"},Bt={key:1,class:"collection_list"},Mt=Object(n["createElementVNode"])("div",{class:"row no-gutters"},[Object(n["createElementVNode"])("p",{class:"related-section-label"}," View More:")],-1),At={class:"row related_collection no-gutters"},Dt=["onClick"],Tt={class:"collection_artwork_title"};function It(t,e,a,o,i,c){return Object(n["openBlock"])(),Object(n["createBlock"])(n["Transition"],{name:"main-menu"},{default:Object(n["withCtx"])((function(){return[t.toggles.main_menu?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Ot,[Object(n["createElementVNode"])("div",kt,[t.local_data.art&&t.local_data.artist?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",yt,[Object(n["createElementVNode"])("h1",null,[Object(n["createElementVNode"])("span",Et,Object(n["toDisplayString"])(t.local_data.art.artwork_title)+",",1),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(t.local_data.art.artwork_creation_date),1),Nt]),Object(n["createElementVNode"])("p",xt,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(t.local_data.art.medium)+" "+Object(n["toDisplayString"])(t.local_data.art.dimensions),1),Ct,Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(t.local_data.art.credit)+", "+Object(n["toDisplayString"])(t.local_data.art.accession_number),1)]),Object(n["createElementVNode"])("p",Vt,"by "+Object(n["toDisplayString"])(t.local_data.artist.artist_name),1),Pt,t.local_data.art.description?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",St," Image Description: "+Object(n["toDisplayString"])(t.local_data.art.description),1)):Object(n["createCommentVNode"])("",!0)])):Object(n["createCommentVNode"])("",!0),i.published_artworks?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Bt,[Mt,Object(n["createElementVNode"])("div",At,[i.all_artwork?(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],{key:0},Object(n["renderList"])(i.published_artworks,(function(t,e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"col-sm-3 related-artwork",key:e,onClick:function(e){return c.goToArtmap(t.artwork_slug)}},[Object(n["createElementVNode"])("div",{class:"artwork_img",style:Object(n["normalizeStyle"])("background-image:url("+t.thumbnail+");")},null,4),Object(n["createElementVNode"])("h1",Tt,Object(n["toDisplayString"])(t.artwork_title),1),Object(n["createElementVNode"])("p",null,"by "+Object(n["toDisplayString"])(t.artist.artist_name),1)],8,Dt)})),128)):Object(n["createCommentVNode"])("",!0)])])):Object(n["createCommentVNode"])("",!0)])])):Object(n["createCommentVNode"])("",!0)]})),_:1})}a("99af"),a("fb6a"),a("4e82");var Lt=a("9191"),zt={data:function(){return{open:!1,all_artwork:null,all_artwork_backup:null,published_artworks:null}},computed:Object(l["a"])({},Object(m["d"])("artmap",["toggles","local_data"])),methods:{renderQHtml:function(t){var e=JSON.parse(t),a={},n=new D["QuillDeltaToHtmlConverter"](e.ops,a);return n.convert()},goToArtmap:function(t){window.location.href="/gallery/".concat(t)},getCatalogData:function(){var t=this,e=[];if(this.all_artwork.forEach((function(t){e.push(t)})),e.forEach((function(t,e){Lt["a"].get("https://dlc.services/iiif-img/3/2/".concat(t.iiif_uuid,"/info.json")).then((function(e){t["iiif"]=e.data,t["thumbnail"]="https://dlc.services/thumbs/3/2/".concat(t.iiif_uuid,"/full/").concat(e.data.sizes[1].width,",").concat(e.data.sizes[1].height,"/0/default.jpg")}),(function(e){console.log(e),t["api_error"]=e}))})),e.length)var a=setInterval((function(){var n=0,o=e.length;e.forEach((function(i){(i.iiif||i.api_error)&&n++,n===o&&(clearInterval(a),t.all_artwork=e,t.all_artwork_backup=e,t.loading=!1)}))}),50);else this.loading=!1},getAllArtwork:function(){var t=this;this.loading=!0,Lt["a"].get("all-artwork/").then((function(e){var a=3;t.all_artwork=e.data,t.published_artworks=t.all_artwork.filter((function(t){return!0===t.published})),t.published_artworks=t.published_artworks.sort((function(){return Math.random()-Math.random()})).slice(0,a),t.getCatalogData()}),(function(t){console.log(t)}))}},mounted:function(){this.getAllArtwork()}};a("4a32");const Ht=j()(zt,[["render",It]]);var $t=Ht,Zt={class:"info-menu"},Ft={class:"material-icons"};function Rt(t,e,a,o,i,c){return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("span",{class:Object(n["normalizeClass"])(["main-menu-trigger",{active:t.toggles.main_menu}]),onClick:e[0]||(e[0]=function(){return t.toggleMainMenu&&t.toggleMainMenu.apply(t,arguments)})},[Object(n["withDirectives"])(Object(n["createElementVNode"])("i",Zt,"i",512),[[n["vShow"],!t.toggles.main_menu]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("i",Ft,"",512),[[n["vShow"],t.toggles.main_menu]])],2)),[[n["vShow"],t.loaded]])}var Xt={computed:Object(l["a"])({},Object(m["d"])("artmap",["toggles","discover_mode","loaded"])),methods:Object(l["a"])({},Object(m["c"])("artmap",["toggleMainMenu"]))};a("62d2");const Yt=j()(Xt,[["render",Rt]]);var Ut=Yt,Wt={key:0},Gt={key:1};function qt(t,e,a,o,i,c){return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{class:Object(n["normalizeClass"])(["btn btn-primary btn-discover btn-lg",{exit_ready:t.discover_mode}]),onClick:e[0]||(e[0]=function(){return t.toggleDiscoverMode&&t.toggleDiscoverMode.apply(t,arguments)})},[t.discover_mode?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",Gt,"Show Navigation")):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",Wt,"Hide Navigation"))],2)),[[n["vShow"],t.loaded]])}var Jt={computed:Object(l["a"])({},Object(m["d"])("artmap",["discover_mode","loaded"])),methods:Object(l["a"])({},Object(m["c"])("artmap",["toggleDiscoverMode"]))};a("756d");const Qt=j()(Jt,[["render",qt]]);var Kt=Qt,te={class:"icon terra-logo"},ee=Object(n["createStaticVNode"])('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 312 35"><title>Terra Foundation for American Art</title><path class="cls-1" d="M55.18,30.02c-9.19,0-14.86-3.05-15.65-8.37h32.67v-2.29c-.83-7.34-8.26-12.28-18.5-12.28-10.98,0-18.66,5.46-18.66,13.27,0,8.52,7.32,13.6,19.58,13.6,6.78,0,13-1.52,17.51-4.29l.16-.1.15-4.48-.57.39c-4.36,2.97-10.13,4.55-16.7,4.55h0ZM53.77,10.93c7.36,0,12.72,2.94,13.83,7.52h-27.97c1.02-4.58,6.51-7.52,14.14-7.52Z"></path><path class="cls-1" d="M30.96,12.9l.11-3.63H12.92V.89h-4.3v8.37H.15L0,12.89h8.61v9.95c0,7.14,3.8,10.92,10.98,10.92,2.93,0,8.51-.78,11.2-2.46l.16-.1.06-4.12-.55.37c-2.22,1.5-7.16,2.54-10.2,2.54h-.35c-4.77-.11-6.99-2.55-6.99-7.65v-9.44h18.04,0Z"></path><path class="cls-1" d="M115.13,11.05c-2.67,1.21-5.06,2.93-7.11,5.13-2.05,2.19-3.65,4.73-4.77,7.56-1.16,2.93-1.75,6.03-1.75,9.23,0,.27,0,.53.02.79h4.27c0-.26-.02-.53-.02-.79,0-2.64.48-5.2,1.44-7.61.92-2.32,2.23-4.41,3.9-6.2,1.66-1.78,3.6-3.17,5.75-4.15,2.22-1,4.58-1.51,7.01-1.51,1.16,0,2.3.12,3.41.35v-4.4c-1.12-.18-2.26-.28-3.41-.28-3.04,0-5.97.63-8.75,1.89h0Z"></path><path class="cls-1" d="M102.95,9.26h-25.81v24.42h4.31V13.38h21.5v-4.11Z"></path><path class="cls-1" d="M147.72,7.3h-.35c-5.77.06-11.19,1.21-15.3,3.27l-.18.09-.2,4.43.55-.32c4.11-2.36,9.4-3.66,14.9-3.66s12.38,1.44,12.57,8.26c-3.88-1.87-8.76-2.9-13.79-2.9-9.73,0-15.54,3.32-15.54,8.88s5.43,8.78,14.17,8.78c5.48,0,10.83-1.45,15.16-4.1v3.58h4.35v-14.05c0-8.14-5.5-12.27-16.35-12.27h0ZM159.71,26.55c-3.7,2.51-9,4-14.23,4h0c-6.43,0-10.42-2.05-10.42-5.36s4.29-5.41,11.46-5.41c5.01,0,9.69,1,13.2,2.81v3.95h0Z"></path><path class="cls-1" d="M191.84,14.1v-5.92h6.14v-1.88h-6.14v-3.52h6.32V.93h-8.36v13.17h2.04Z"></path><path class="cls-1" d="M208.47,9.39c0-3.14-1.57-4.87-4.41-4.87s-4.41,1.73-4.41,4.87,1.57,4.89,4.41,4.89,4.41-1.78,4.41-4.89ZM201.6,9.39c0-2,.87-3.11,2.46-3.11s2.46,1.1,2.46,3.11-.87,3.13-2.46,3.13-2.46-1.11-2.46-3.13Z"></path><path class="cls-1" d="M218.7,14.09V4.71h-1.98v5.09c0,1.95-.66,2.74-2.27,2.74s-2.25-.79-2.25-2.74v-5.09h-1.98v5.28c0,2.97,1.12,4.3,3.64,4.3.66,0,1.33-.12,1.98-.36h.03s.69-1.44.69-1.44h.28v1.61h1.86Z"></path><path class="cls-1" d="M229.54,14.1v-5.28c0-2.97-1.14-4.3-3.69-4.3-.71,0-1.37.12-1.95.36h-.03s-.67,1.43-.67,1.43h-.28v-1.61h-1.85v9.38h1.98v-5.09c0-1.93.68-2.75,2.27-2.75s2.25.8,2.25,2.75v5.09h1.98,0Z"></path><path class="cls-1" d="M240.1,14.09V.92h-1.98v4.42c-.67-.56-1.51-.82-2.61-.82-2.67,0-4.21,1.78-4.21,4.87s1.54,4.89,4.22,4.89h0c.67,0,1.21-.1,1.73-.32h.03s.69-1.47.69-1.47h.28v1.61h1.85,0ZM238.19,9.39c0,2.23-.73,3.18-2.46,3.18-1.58,0-2.48-1.16-2.48-3.18s.88-3.11,2.48-3.11,2.46,1.1,2.46,3.11Z"></path><path class="cls-1" d="M251.3,14.1v-1.76h-.85c-.18,0-.24-.06-.24-.23v-3.45c0-2.63-1.49-4.13-4.1-4.13s-4.12,1.36-4.24,3.74v.09h1.9v-.08c.09-1.38.8-2.02,2.25-2.02s2.21.73,2.21,2.06c0,.16-.06.23-.23.25l-2.95.31c-1.98.21-2.87,1.02-2.87,2.63,0,1.74,1.2,2.78,3.21,2.78.75,0,1.38-.13,1.95-.38h.03s.72-1.52.72-1.52h.28c.06,1.15.65,1.72,1.8,1.72h1.14,0ZM248.24,9.61v.2c0,1.89-.79,2.77-2.5,2.77-1.05,0-1.65-.46-1.65-1.26s.48-1.22,1.67-1.37l2.48-.34h0Z"></path><path class="cls-1" d="M253.29,10.61c0,2.25,1.23,3.49,3.46,3.49h1.55v-1.76h-1.38c-1.12,0-1.65-.55-1.65-1.71v-4.16h3.03v-1.76h-3.03v-2.67h-1.98v2.67h-1.69v1.76h1.69v4.14h0Z"></path><path class="cls-1" d="M262.29,2.29c0-.89-.53-1.42-1.42-1.42s-1.44.53-1.44,1.42.55,1.42,1.44,1.42,1.42-.53,1.42-1.42Z"></path><path class="cls-1" d="M261.85,4.71h-1.98v9.38h1.98V4.71Z"></path><path class="cls-1" d="M268.11,4.52c-2.84,0-4.41,1.73-4.41,4.87s1.57,4.89,4.41,4.89,4.41-1.78,4.41-4.89-1.57-4.87-4.41-4.87ZM270.57,9.39c0,2.02-.87,3.13-2.46,3.13s-2.46-1.11-2.46-3.13.87-3.11,2.46-3.11,2.46,1.1,2.46,3.11Z"></path><path class="cls-1" d="M276.35,9.01c0-1.93.68-2.75,2.27-2.75s2.25.8,2.25,2.75v5.09h1.98v-5.28c0-2.97-1.14-4.3-3.69-4.3-.71,0-1.37.12-1.95.36h-.03s-.67,1.43-.67,1.43h-.28v-1.61h-1.85v9.38h1.98v-5.09h0Z"></path><path class="cls-1" d="M289.89,14.09h1.98v-7.62h3.3v-1.76h-3.3v-.39c0-1.11.5-1.62,1.57-1.62h1.73V.92h-1.82c-2.23,0-3.46,1.24-3.46,3.49v.3h-1.61v.08h-.09v1.68h1.69v7.62h0Z"></path><path class="cls-1" d="M300.34,4.52c-2.84,0-4.41,1.73-4.41,4.87s1.57,4.89,4.41,4.89,4.41-1.78,4.41-4.89-1.57-4.87-4.41-4.87ZM302.8,9.39c0,2.02-.87,3.13-2.46,3.13s-2.46-1.11-2.46-3.13.87-3.11,2.46-3.11,2.46,1.1,2.46,3.11Z"></path><path class="cls-1" d="M311.94,4.67c-.25-.07-.54-.1-.93-.1-.51,0-1.09.1-1.54.27h-.03s-.7,1.51-.7,1.51h-.28v-1.64h-1.85v9.38h1.98v-5.35c0-1.61.5-2.18,1.92-2.18h1.51v-1.88l-.07-.02Z"></path><path class="cls-1" d="M195.64,20.46h-2.13l-4.67,13.05-.04.12h2.08l1.15-3.32h5.06l1.15,3.32h2.11l-4.69-13.11-.02-.06ZM194.41,22.71h.29l.37,1.86,1.38,3.94h-3.8l1.38-3.96.37-1.85h0Z"></path><path class="cls-1" d="M212.74,24.06c-.64,0-1.27.12-1.91.36h-.03s-.73,1.55-.73,1.55h-.27c-.51-1.28-1.54-1.9-3.16-1.9-.54,0-1.19.13-1.78.36h-.03s-.67,1.44-.67,1.44h-.28v-1.61h-1.85v9.38h1.98v-5.09c0-1.9.64-2.75,2.08-2.75s2.06.85,2.06,2.75v5.09h1.98v-5.09c0-1.93.62-2.75,2.08-2.75s2.09.82,2.09,2.75v5.09h1.98v-5.28c0-2.97-1.09-4.3-3.53-4.3h0Z"></path><path class="cls-1" d="M224.82,30.19c-.17,1.3-.9,1.9-2.28,1.9-1.65,0-2.53-.97-2.6-2.89h6.04c.38,0,.58-.21.58-.63,0-2.83-1.56-4.51-4.17-4.51-2.82,0-4.37,1.73-4.37,4.87s1.6,4.89,4.51,4.89c2.49,0,4.02-1.31,4.21-3.61v-.1s-1.91,0-1.91,0v.07h-.01ZM224.35,28.01l-4.35.07c.22-1.48,1.07-2.3,2.4-2.3s2.19.82,2.19,2c0,.16-.06.22-.24.22Z"></path><path class="cls-1" d="M232.93,24.12c-.52,0-1.09.1-1.54.27h-.03s-.7,1.51-.7,1.51h-.28v-1.64h-1.85v9.38h1.98v-5.35c0-1.59.52-2.18,1.92-2.18h1.51v-1.88l-.07-.02c-.25-.07-.54-.1-.93-.1h0Z"></path><path class="cls-1" d="M237.55,24.25h-1.98v9.38h1.98v-9.38Z"></path><path class="cls-1" d="M236.57,20.41c-.9,0-1.44.53-1.44,1.42s.55,1.42,1.44,1.42,1.42-.53,1.42-1.42-.53-1.42-1.42-1.42Z"></path><path class="cls-1" d="M246.22,29.74c-.19,1.52-1.03,2.32-2.41,2.32-1.59,0-2.46-1.11-2.46-3.13s.87-3.11,2.46-3.11c1.35,0,2.13.82,2.22,2.3v.08h1.94v-.09c-.1-2.58-1.61-4.06-4.17-4.06h-.09c-2.79.04-4.32,1.77-4.32,4.88s1.57,4.89,4.41,4.89c2.59,0,4.13-1.44,4.35-4.07v-.1s-1.93,0-1.93,0v.07s0,0,0,0Z"></path><path class="cls-1" d="M257.71,31.64v-3.45c0-2.63-1.49-4.13-4.1-4.13s-4.12,1.36-4.24,3.74v.09h1.9v-.08c.09-1.38.81-2.02,2.25-2.02s2.21.73,2.21,2.06c0,.16-.06.23-.24.25l-2.95.32c-1.98.21-2.87,1.02-2.87,2.63,0,1.74,1.2,2.78,3.21,2.78.74,0,1.38-.12,1.95-.38h.03s.72-1.52.72-1.52h.28c.06,1.15.65,1.71,1.8,1.71h1.14v-1.76h-.86c-.18,0-.24-.06-.24-.23h0ZM255.73,29.14v.2c0,1.89-.79,2.77-2.5,2.77-1.05,0-1.65-.46-1.65-1.26s.48-1.22,1.67-1.37l2.48-.34h0Z"></path><path class="cls-1" d="M264.86,24.07c-.71,0-1.36.12-1.95.36h-.03s-.67,1.43-.67,1.43h-.28v-1.61h-1.85v9.38h1.98v-5.09c0-1.93.68-2.75,2.27-2.75s2.25.8,2.25,2.75v5.09h1.98v-5.28c0-2.97-1.14-4.3-3.69-4.3h0Z"></path><path class="cls-1" d="M281.05,20.46h-2.13l-4.67,13.05-.04.12h2.08l1.15-3.32h5.06l1.15,3.32h2.11l-4.69-13.11-.02-.06h0ZM279.82,22.71h.29l.37,1.86,1.38,3.94h-3.8l1.38-3.96.37-1.85h0Z"></path><path class="cls-1" d="M291.84,24.12c-.51,0-1.08.1-1.54.27h-.03s-.7,1.51-.7,1.51h-.28v-1.64h-1.85v9.38h1.98v-5.35c0-1.59.52-2.18,1.92-2.18h1.51v-1.88l-.06-.02c-.26-.07-.54-.1-.93-.1h0Z"></path><path class="cls-1" d="M297.14,21.57h-1.98v2.67h-1.69v1.76h1.69v4.14c0,2.25,1.23,3.49,3.46,3.49h1.55v-1.76h-1.38c-1.12,0-1.65-.55-1.65-1.71v-4.16h3.03v-1.76h-3.03v-2.67h0Z"></path></svg>',1),ae=[ee];function ne(t,e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",te,ae)}a("3532");const oe={},ie=j()(oe,[["render",ne]]);var ce=ie,re={computed:Object(l["a"])({},Object(m["d"])("artmap",["viewer","local_data","toggles","discover_mode","loaded"])),data:function(){return{editor_url:window.artmap_builder_url?window.artmap_builder_url:null}},watch:{$route:function(t){this.loaded&&(t.params.pointSlug?this.getArtPointOr404(t.params.pointSlug):this.viewer.viewport.goHome(!1))}},methods:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(m["c"])("artmap",["initCanvas","convertAndSetPoints","setCurrentPoint","setInfoTrayOpen","setInfoTrayClose","toggleMainMenu","toggleDiscoverMode","artmapHasLoaded"])),Object(m["b"])("artmap",["getPoints","getArtData","getArtistData","getIIIFAsset"])),{},{endPreview:function(){window.location.href=this.editor_url},getArtPointOr404:function(t){var e=this.local_data.points.filter((function(e){return e.point_slug===String(t)}));e.length>0?(this.discover_mode||this.toggleDiscoverMode(),this.setCurrentPoint(e[0]),this.goTo(e[0]),this.setInfoTrayOpen()):this.setInfoTrayClose()},goHome:function(){this.viewer.viewport.goHome(!1)},goTo:function(t){var e={x:Number(t.point_x),y:Number(t.point_y)},a=new u.a.Point(e.x,e.y),n=Number(t.zoom_value);this.viewer.viewport.zoomTo(n,!1),this.viewer.viewport.panTo(a,!1)},setOverlays:function(){var t=this;this.viewer.clearOverlays(),this.local_data.points.all&&this.local_data.points.all.forEach((function(e){var a=document.createElement("div");a.id=String(e.id),a.className="artmap_point";var n={element:a,placement:"CENTER",checkResize:!1,location:new u.a.Point(Number(e.point_x),Number(e.point_y))};t.viewer.addOverlay(n)}))},createArtmap:function(){var t=this;this.getArtData(this).then((function(e){t.getArtistData(e.data.artist),t.getIIIFAsset(e.data.iiif_uuid).then((function(e){t.getPoints().then((function(e){t.initCanvas(e.data)})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))},preloadArtCanvas:function(){var t=this,e=setInterval((function(){if(t.viewer){var a=t.viewer.world.getItemAt(0);if(a){var n=a.getFullyLoaded();n&&(t.artmapHasLoaded(t),t.$route.params.pointSlug?t.getArtPointOr404(t.$route.params.pointSlug):t.viewer.viewport.goHome(!1),clearInterval(e))}}}),500)}}),created:function(){this.preloadArtCanvas(),this.createArtmap(null)},components:{Loader:h["a"],Point:O,PointTray:W,InfoTray:lt,MapCtrl:wt,MainMenu:$t,MainMenuBtn:Ut,DiscoverBtn:Kt,TerraLogo:ce}};a("6be7");const se=j()(re,[["render",s]]);e["a"]=se},ff40:function(t,e,a){}});