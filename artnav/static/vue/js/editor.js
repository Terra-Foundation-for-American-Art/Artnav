(function(e){function t(t){for(var a,c,l=t[0],r=t[1],s=t[2],u=0,m=[];u<l.length;u++)c=l[u],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&m.push(o[c][0]),o[c]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,l=1;l<n.length;l++){var r=n[l];0!==o[r]&&(a=!1)}a&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},o={editor:0},i=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var d=r;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("8ef1")},"0219":function(e,t){var n=function(e,t){var n=new Image;console.log("setting image to handle CORS issue here: ====>"),n.crossOrigin=null,n.onload=function(){var e,n=document.createElement("CANVAS"),a=n.getContext("2d");n.height=this.height,n.width=this.width,a.drawImage(this,0,0),e=n.toDataURL(),t(e),n=null},n.src=e};e.exports={convertImgToDataURLviaCanvas:n}},"027a":function(e,t,n){},"067f":function(e,t,n){"use strict";n("2152")},"0b20":function(e,t,n){},"0d01":function(e,t,n){},"0e81a":function(e,t,n){"use strict";n("86b4")},"10e2":function(e,t,n){"use strict";n("9408")},"15fd":function(e,t,n){},"160a":function(e,t,n){e.exports=n.p+"img/pencil.svg"},"1c6e":function(e,t,n){"use strict";var a=n("7a23"),o={class:"loader_wrap"},i=Object(a["createElementVNode"])("div",{class:"location_indicator"},null,-1),c=[i];function l(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",o,c)}n("7be1");var r=n("6b0d"),s=n.n(r);const d={},u=s()(d,[["render",l]]);t["a"]=u},2152:function(e,t,n){},4151:function(e,t,n){"use strict";n("c86c")},"428f0":function(e,t,n){"use strict";n("9fbf")},4360:function(e,t,n){"use strict";n.d(t,"b",(function(){return D})),n.d(t,"a",(function(){return T}));var a=n("5502"),o=(n("d3b7"),n("159b"),n("4de4"),n("9191")),i=n("0219"),c=function(){return{captures:{new:null,edit:null},modes:{editing:!1,new:!1},modals:{edit:!1},local_data:{points:{new:{point_x:null,point_y:null,point_title:null,point_image:"",point_slug:null,point_content:null,point_lede:null,artwork_context:null,zoom_value:null,scale_value:null},edit:null,all:null,delete:null}},validation:{messages:{id:"you need to add a point to the artwork by clicking on the image.",point_x:"you need to add a point to the artwork by clicking on the image.",point_y:"you need to add a point to the artwork by clicking on the image.",point_title:"you need to give this point a title.",point_slug:"you need to give this point a title.",point_content:"you need to add a description to this point.",artwork_context:"there is a problem with the current piece of art. Try reloading the page."},submission:!1,messages_alert:{show:!1,message:""},editor_alert:{show:!1,message:""},progress:!1}}},l={setPoints:function(e,t){t.forEach((function(e){Object(i["convertImgToDataURLviaCanvas"])(e.point_image,(function(t){e.point_image=t}))})),e.local_data.points.all=t},setCapturedThumb:function(e,t){e.captures.new=t,e.local_data.points.new.point_image=String(t.image.src),e.local_data.points.new.scale_value=t.scale_value},setEditCandidate:function(e,t){e.local_data.points.edit=t},setEditCaptureThumb:function(e,t){e.captures.edit=t,t.image&&(e.local_data.points.edit.point_image=t.image.src),t.size&&(e.local_data.points.edit.scale_value=t.size)},setNewPointCoords:function(e,t){e.local_data.points.new.point_x=t.x,e.local_data.points.new.point_y=t.y,e.local_data.points.new.zoom_value=t.zoom_value},setEditPointCoords:function(e,t){e.local_data.points.edit.point_x=t.x,e.local_data.points.edit.point_y=t.y,e.local_data.points.edit.zoom_value=t.zoom_value},setNewPointContent:function(e,t){e.local_data.points.new.artwork_context=t.artwork,e.local_data.points.new.point_content=t.content},setEditingPoint:function(e,t){e.modes.editing=t},toggleShowNewPoint:function(e){e.modes.new?(e.modes.new=!1,this.emitter.emit("cancelAnyNewPoint")):(e.modes.new=!0,this.emitter.emit("showAddNewPoint"))},showEditPointModal:function(e){e.modals.edit=!0,$("#editArtPoint").modal("show")},closeEditPointModal:function(e){e.modals.edit=!1,$("#editArtPoint").modal("show")},closeNewPoint:function(e,t){e.modes.new=!1,e.captures.new=null,t.vm.emitter.emit("cancelAnyNewPoint")},showNewPoint:function(e,t){e.modes.new=!0,t.vm.emitter.emit("showAddNewPoint")},setPointEditorAlert:function(e,t){e.validation.editor_alert=t},setValidation:function(e,t){e.validation.submission=t},resetNewPointData:function(e){e.local_data.points.new={point_x:null,point_y:null,point_title:null,point_image:"",point_slug:null,point_content:null,point_lede:null,artwork_context:null,zoom_value:null,scale_value:null}},addNewPointToList:function(e,t){e.local_data.points.all&&e.local_data.points.all.length?(console.log("local points exist"),Object(i["convertImgToDataURLviaCanvas"])(t.point.point_image,(function(n){t.point.point_image=n,e.local_data.points.all.push(t.point),t.cb()}))):(console.log("no local points yet"),Object(i["convertImgToDataURLviaCanvas"])(t.point.point_image,(function(n){t.point.point_image=n,e.local_data.points.all=[],e.local_data.points.all.push(t.point),t.cb()})))},removePointFromList:function(e,t){var n=e.local_data.points.all.filter((function(e){return e.id!==t}));e.local_data.points.all=n},setPointToBeDeleted:function(e,t){e.local_data.points.delete=t},callSuccessAlert:function(e,t){var n={show:!0,message:t.m};e.validation.messages_alert=n,setTimeout((function(){e.validation.messages_alert.show=!1,e.validation.messages_alert.message=""}),t.hideDelay)},updatePointOrder:function(e,t){e.local_data.points.all=t},setSavingMode:function(e,t){setTimeout((function(){e.validation.progress=t.show}),t.padding)}},r={getPoints:function(e,t){var n=e.commit;console.log("get points"),o["b"].get("points/?artwork=".concat(window.art_id)).then((function(e){console.log(e),n("setPoints",e.data)}),(function(e){console.log(e)}))},saveNewPoint:function(e,t){var n=e.commit,a=e.dispatch,i=e.state;n("setSavingMode",{show:!0,padding:0}),console.log(i.local_data.points.new),o["b"].post("points/",i.local_data.points.new,{headers:{"X-CSRFToken":window.csrf}}).then((function(e){$("#newArtPoint").modal("hide"),t.rt.editor.setContents([]),n("addNewPointToList",{cb:function(){t.emitter.emit("openSidebar"),console.log(i.local_data.points.all),a("updateCustomIndexes",{vm:t,points:i.local_data.points.all}),n("closeNewPoint",{vm:t}),n("resetNewPointData");var o={m:"".concat(e.data.point_title," was successfully Added."),hideDelay:3500};n("callSuccessAlert",o),n("setSavingMode",{show:!1,padding:500})},point:e.data})}),(function(e){console.log(e),n("setSavingMode",{show:!1,padding:0})}))},savePointEdit:function(e,t){var n=e.commit,a=e.dispatch;n("setSavingMode",{show:!0,padding:0}),o["b"].put("points/".concat(t.pointData.id,"/"),t.pointData,{headers:{"X-CSRFToken":window.csrf}}).then((function(e){t.vm.postSaveCleanup(),a("getPoints",t.vm),$("#editArtPoint").modal("hide");var o={m:"".concat(e.data.point_title," was successfully updated."),hideDelay:3500};n("callSuccessAlert",o),n("setSavingMode",{show:!1,padding:500})}),(function(e){console.log(e),n("setSavingMode",{show:!1,padding:0})}))},deletePoint:function(e,t){var n=e.commit,a=e.state;n("setSavingMode",{show:!0,padding:0}),o["b"].delete("points/".concat(a.local_data.points.delete.id,"/"),{headers:{"X-CSRFToken":window.csrf}}).then((function(e){n("removePointFromList",a.local_data.points.delete.id),$("#deletePoint").modal("hide");var t={m:"".concat(a.local_data.points.delete.point_title," was successfully removed."),hideDelay:3500};n("callSuccessAlert",t),n("setSavingMode",{show:!1,padding:500})}),(function(e){console.log(e),n("setSavingMode",{show:!1,padding:0})}))},updatePointListOrder:function(e,t){var n=e.commit,a=e.dispatch;n("updatePointOrder",t.points),a("updateCustomIndexes",t)},updateCustomIndexes:function(e,t){var n=e.commit;e.state;n("setSavingMode",{show:!0,padding:0}),t.points.forEach((function(e,t){e.custom_order_index=t,o["b"].patch("points/".concat(e.id,"/"),e,{headers:{"X-CSRFToken":window.csrf}}).then((function(e){n("setSavingMode",{show:!1,padding:500})}),(function(e){console.log(e),n("setSavingMode",{show:!1,padding:0})}))}))}},s={namespaced:!0,state:c,mutations:l,actions:r},d=s,u=(n("7db0"),n("aa78")),m=n.n(u),p=function(){return{viewer:null,canvas:null,container_width:null,osd:{defaultZoomLevel:0,minZoomLevel:0,maxZoomLevel:10},art_data_revertable:{art:null,artist:null,collections:null},art_data:{art:null,artist:null,collections:null,catalog_item:null,iiif_item:null},loaded:!1,art_validation:{messages_alert:{show:!1,message:""}}}},h={initCanvas:function(e){setTimeout((function(){e.viewer=m()({id:"artcanvas",visibilityRatio:1,constrainDuringPan:!0,defaultZoomLevel:e.osd.defaultZoomLevel,minZoomLevel:e.osd.minZoomLevel,maxZoomLevel:e.osd.maxZoomLevel,homeFillsViewer:!1,preserveImageSizeOnResize:!1,animationTime:1.6,gestureSettingsMouse:{scrollToZoom:!0},homeButton:"reset",springStiffness:6,minPixelRatio:.2,showNavigationControl:!1,tileSources:e.art_data.iiif_item,crossOriginPolicy:"Anonymous"}),e.canvas=$("#artcanvas").find("canvas")}),0)},setContainerWidth:function(e){document.getElementById("art_container")},setCanvas:function(e){e.canvas=$("#artcanvas").find("canvas")},setArtData:function(e,t){e.art_data.art=t;var n=Object.assign({},e.art_data.art);e.art_data_revertable.art=n},setArtDescription:function(e,t){console.log(t),e.art_data.art.about=t},setArtsArtistId:function(e,t){e.art_data.art.artist=t},setArtsPublishState:function(e,t){e.art_data.art.published=t},revert:function(e){var t=Object.assign({},e.art_data_revertable.art),n=Object.assign({},e.art_data_revertable.artist);e.art_data.art=t,e.art_data.artist=n},setArtistData:function(e,t){e.art_data.artist=t;var n=Object.assign({},e.art_data.artist);e.art_data_revertable.artist=n},setCatalogData:function(e,t){e.art_data.catalog_item=t},setIIIF:function(e,t){e.art_data.iiif_item=t},artmapHasLoaded:function(e,t){e.loaded=!0,t.emitter.emit("artmapHasLoaded")},callDeleteSuccessAlert:function(e,t){var n={show:!0,message:t.m};e.art_validation.messages_alert=n,setTimeout((function(){e.art_validation.messages_alert.show=!1,e.art_validation.messages_alert.message="",window.location.href="/"}),t.hideDelay)},callSuccessAlert:function(e,t){var n={show:!0,message:t.m};e.art_validation.messages_alert=n,setTimeout((function(){e.art_validation.messages_alert.show=!1,e.art_validation.messages_alert.message=""}),t.hideDelay)}},b={getIIIFAsset:function(e,t){var n=e.commit;e.state,e.dispatch;return new Promise((function(e,a){o["b"].get("https://dlc.services/iiif-img/3/2/".concat(t,"/info.json")).then((function(t){n("setIIIF",t.data),e(t)}),(function(e){a(e)}))}))},getArtData:function(e,t){var n=e.commit;e.dispatch;return new Promise((function(e,t){o["b"].get("art/".concat(window.art_id,"/")).then((function(t){n("setArtData",t.data),e(t)}),(function(e){t(e)}))}))},getArtistData:function(e,t){var n=e.commit;return new Promise((function(e,a){o["b"].get("artists/".concat(t,"/")).then((function(t){n("setArtistData",t.data),e(t)}),(function(e){a(e)}))}))},deleteArt:function(e,t){var n=e.commit,a=e.state;o["b"].delete("art/".concat(t.id),{headers:{"X-CSRFToken":window.csrf}}).then((function(e){$("#publishModal").modal("hide"),$("#deleteArtwork").modal("hide");var t={m:"".concat(a.art_data.art.artwork_title," was successfully deleted."),hideDelay:3500};n("callDeleteSuccessAlert",t)}),(function(e){console.log(e)}))}},f={namespaced:!0,state:p,mutations:h,actions:b},v=f,_=function(){return{open:!1}},g={setSidebarOpen:function(e){e.open=!0},setSidebarClose:function(e){e.open=!1},toggleSidebar:function(e){e.open?e.open=!1:e.open=!0}},j={},O={namespaced:!0,state:_,mutations:g,actions:j},w=O,k=(n("a9e3"),n("99af"),function(){return{viewer:null,canvas:null,canvas_mask:null,osd:{defaultZoomLevel:0,minZoomLevel:0,maxZoomLevel:10},local_data:{art:null,artist:null,points:null,current_point:null,collections:window.collections,catalog_item:null,iiif_item:null},toggles:{info_tray:!1,main_menu:!1},discover_mode:!1,loaded:!1}}),y={initCanvas:function(e,t){e.local_data.points=t,e.local_data.points.forEach((function(e){e["x"]=Number(e.point_x),e["id"]=String(e.id),e["y"]=Number(e.point_y),e["placement"]="CENTER",e["checkResize"]=!1})),setTimeout((function(){e.viewer=m()({id:"artmapcanvas",visibilityRatio:1,constrainDuringPan:!0,defaultZoomLevel:e.osd.defaultZoomLevel,minZoomLevel:e.osd.minZoomLevel,maxZoomLevel:e.osd.maxZoomLevel,homeFillsViewer:!1,preserveImageSizeOnResize:!1,animationTime:1.6,zoomInButton:"zoom-in",zoomOutButton:"zoom-out",gestureSettingsMouse:{scrollToZoom:!0},homeButton:"reset",showNavigator:!0,navigatorId:"artmap-viewfinder",springStiffness:6,minPixelRatio:.2,showNavigationControl:!1,tileSources:e.local_data.iiif_item,crossOriginPolicy:"Anonymous",overlays:e.local_data.points}),e.canvas=$("#artmapcanvas").find("canvas");var t=document.createElement("canvas");t.id="canvas-mask",t.width=window.innerWidth,t.height=window.innerHeight;var n=e.canvas[0];n.parentNode.insertBefore(t,n.nextSibling),e.canvas_mask=$("#artmapcanvas").find("#canvas-mask")}),0)},setArtData:function(e,t){e.local_data.art=t},setArtistData:function(e,t){e.local_data.artist=t},setCatalogData:function(e,t){e.local_data.catalog_item=t},setIIIF:function(e,t){e.local_data.iiif_item=t},setDiscoverMode:function(e,t){e.discover_mode=t},toggleDiscoverMode:function(e,t){e.discover_mode?e.discover_mode=!1:e.discover_mode=!0},artmapHasLoaded:function(e,t){e.loaded=!0,t.emitter.emit("artmapHasLoaded")},setCurrentPoint:function(e,t){e.local_data.current_point=t},setInfoTrayClose:function(e){e.toggles.info_tray=!1,e.local_data.current_point=null},setInfoTrayOpen:function(e){e.toggles.info_tray=!0},toggleMainMenu:function(e){e.toggles.main_menu=!e.toggles.main_menu}},E={getIIIFAsset:function(e,t){var n=e.commit;e.state,e.dispatch;return new Promise((function(e,a){o["b"].get("https://dlc.services/iiif-img/3/2/".concat(t,"/info.json")).then((function(t){n("setIIIF",t.data),e(t)}),(function(e){a(e)}))}))},getCatalogData:function(e,t){var n=e.commit;e.dispatch;return new Promise((function(e,a){o["b"].get("".concat(o["a"]).concat(t,"/")).then((function(t){console.log(t.data),n("setCatalogData",t.data),e(t)}),(function(e){a(e)}))}))},getPoints:function(e){e.commit;return new Promise((function(e,t){o["b"].get("points/?artwork=".concat(window.art_id)).then((function(t){e(t)}),(function(e){t(e)}))}))},getArtData:function(e,t){var n=e.commit;e.dispatch;return console.log(window.art_id),new Promise((function(e,t){o["b"].get("art/".concat(window.art_id,"/")).then((function(t){n("setArtData",t.data),e(t)}),(function(e){t(e)}))}))},getArtistData:function(e,t){var n=e.commit;return new Promise((function(e,a){o["b"].get("artists/".concat(t,"/")).then((function(t){n("setArtistData",t.data),e(t)}),(function(e){a(e)}))}))}},N={namespaced:!0,state:k,mutations:y,actions:E},x=N,V=function(){return{viewer:null,canvas:null,canvas_mask:null,osd:{defaultZoomLevel:0,minZoomLevel:0,maxZoomLevel:10},local_data:{art:null,artist:null,points:null,current_point:null,collections:window.collections,catalog_item:null,iiif_item:null},toggles:{info_tray:!1,main_menu:!1},loaded:!1}},C={initCanvas:function(e,t){"".concat(window.art_image,"?d=").concat(Date.now());console.log(window.art_image),e.viewer=m()({id:"artmappreviewcanvas",visibilityRatio:1,constrainDuringPan:!0,defaultZoomLevel:e.osd.defaultZoomLevel,minZoomLevel:e.osd.minZoomLevel,maxZoomLevel:e.osd.maxZoomLevel,homeFillsViewer:!1,preserveImageSizeOnResize:!1,animationTime:1.6,zoomInButton:"zoom-in",zoomOutButton:"zoom-out",gestureSettingsMouse:{scrollToZoom:!0},homeButton:"reset",showNavigator:!0,navigatorId:"artmap-viewfinder",springStiffness:6,minPixelRatio:.2,showNavigationControl:!1,tileSources:e.local_data.iiif_item,crossOriginPolicy:"Anonymous",overlays:e.local_data.points}),e.canvas=$("#artmappreviewcanvas").find("canvas");var n=document.createElement("canvas");n.id="canvas-mask",n.width=window.innerWidth,n.height=window.innerHeight;var a=e.canvas[0];a.parentNode.insertBefore(n,a.nextSibling),e.canvas_mask=$("#artmappreviewcanvas").find("#canvas-mask")},setArtData:function(e,t){e.local_data.art=t},setArtistData:function(e,t){e.local_data.artist=t},setPointData:function(e,t){e.local_data.points=t},setCatalogData:function(e,t){e.local_data.catalog_item=t},setIIIF:function(e,t){e.local_data.iiif_item=t},convertAndSetPoints:function(e){e.local_data.points.length>0&&e.local_data.points.forEach((function(e){e["x"]=Number(e.point_x),e["id"]=String(e.id),e["y"]=Number(e.point_y),e["placement"]="CENTER",e["checkResize"]=!1}))},artmapHasLoaded:function(e,t){e.loaded=!0,t.emitter.emit("artmapHasLoaded")},setCurrentPoint:function(e,t){e.local_data.current_point=t},setInfoTrayClose:function(e){e.toggles.info_tray=!1,e.local_data.current_point=null},setInfoTrayOpen:function(e){e.toggles.info_tray=!0},toggleMainMenu:function(e){e.toggles.main_menu=!e.toggles.main_menu}},P={preloadArtCanvas:function(e,t){e.dispatch;var n=e.commit,a=e.state,o=setInterval((function(){if(a.viewer){var e=a.viewer.world.getItemAt(0);if(e)var i=e.getFullyLoaded();!0===i&&(n("artmapHasLoaded",t),clearInterval(o))}}),500)},getIIIFAsset:function(e,t){var n=e.commit;e.state,e.dispatch;return new Promise((function(e,a){o["b"].get("https://dlc.services/iiif-img/3/2/".concat(t,"/info.json")).then((function(t){n("setIIIF",t.data),e(t)}),(function(e){console.log(e),a(e)}))}))},getPoints:function(e){var t=e.commit;return new Promise((function(e,n){o["b"].get("points/?artwork=".concat(window.art_id)).then((function(n){t("setPointData",n.data),t("convertAndSetPoints"),e(n)}),(function(e){console.log(e),n(e)}))}))},getArtData:function(e){var t=e.commit;e.dispatch;return new Promise((function(e,n){o["b"].get("art/".concat(window.art_id,"/")).then((function(n){t("setArtData",n.data),e(n)})).catch((function(e){console.log(e),n(e)}))}))},getArtistData:function(e,t){var n=e.commit;return new Promise((function(e,a){o["b"].get("artists/".concat(t,"/")).then((function(t){n("setArtistData",t.data),e(t)}),(function(e){console.log(e),a(e)}))}))}},B={namespaced:!0,state:V,mutations:C,actions:P},S=B,D=Object(a["a"])({modules:{point:d,art:v,sidebar:w,artmapPreview:S}}),T=Object(a["a"])({modules:{artmap:x,point:d}})},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=i,e.exports=o,o.id="4678"},"486e":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("ac1f"),n("5319"),n("a9e3"),n("9129");var a=function(e,t,n){n.valid[e]=!(!t||"default"===t||""===t)}},"4b99":function(e,t,n){},"4eb9":function(e,t,n){"use strict";n("635e")},5347:function(e,t,n){},"54c6":function(e,t,n){},5911:function(e,t,n){"use strict";n("5347")},"635e":function(e,t,n){},7526:function(e,t,n){e.exports=n.p+"img/publish.svg"},"7be1":function(e,t,n){"use strict";n("8104")},"7d3e":function(e,t,n){"use strict";n("e5f3")},8006:function(e,t,n){"use strict";n("82d0")},8104:function(e,t,n){},"82c6":function(e,t,n){"use strict";n("dfc1")},"82d0":function(e,t,n){},"86b4":function(e,t,n){},"883c":function(e,t,n){"use strict";n("a605")},"8ef1":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("e8d1"),o=n("e6b9"),i=n("7a23"),c={id:"artmapper-layer"},l={id:"artmapbuild"};function r(e,t,n,a,o,r){var s=Object(i["resolveComponent"])("Navigation"),d=Object(i["resolveComponent"])("SideBar"),u=Object(i["resolveComponent"])("ArtCanvas"),m=Object(i["resolveComponent"])("DeleteModal"),p=Object(i["resolveComponent"])("PublishModal"),h=Object(i["resolveComponent"])("DeleteArtworkModal");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",c,[Object(i["createVNode"])(s),Object(i["createElementVNode"])("div",l,[Object(i["createVNode"])(d),Object(i["createVNode"])(u),Object(i["createVNode"])(m),Object(i["createVNode"])(p),Object(i["createVNode"])(h)])])}var s=n("5530"),d=n("5502"),u=function(e){return Object(i["pushScopeId"])("data-v-71acb900"),e=e(),Object(i["popScopeId"])(),e},m={class:"sidebar_wrap"},p=u((function(){return Object(i["createElementVNode"])("div",{class:"sidebar_header"},[Object(i["createElementVNode"])("p",null,"Your Points")],-1)})),h={class:"art_points"},b=Object(i["createTextVNode"])("Show Artmap Points "),f=u((function(){return Object(i["createElementVNode"])("span",{class:"arrow"},null,-1)})),v=[b,f];function _(e,t,n,a,o,c){var l=Object(i["resolveComponent"])("PointList");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{id:"art_mapper_sidebar",class:Object(i["normalizeClass"])({open:e.open})},[Object(i["createElementVNode"])("div",m,[p,Object(i["createElementVNode"])("div",h,[Object(i["createVNode"])(l)])]),Object(i["createElementVNode"])("span",{class:"sidebar_reveal",onClick:t[0]||(t[0]=function(){return c.toggleTheSidebar&&c.toggleTheSidebar.apply(c,arguments)})},v)],2)}function g(e,t,n,a,o,c){var l=Object(i["resolveComponent"])("PointListItem"),r=Object(i["resolveComponent"])("draggable");return c.local_data_points_all?(Object(i["openBlock"])(),Object(i["createBlock"])(r,{key:0,list:c.local_data_points_all,ghostClass:"sortable-ghost",delay:0,disabled:!1,animation:350,onStart:c.choosing,onEnd:c.choiceMade,"item-key":"id"},{item:Object(i["withCtx"])((function(e){var t=e.element,n=e.index;return[Object(i["createVNode"])(l,{key:t.id,point:t,index:n,class:Object(i["normalizeClass"])({grabbing:o.grabState})},null,8,["point","index","class"])]})),_:1},8,["list","onStart","onEnd"])):Object(i["createCommentVNode"])("",!0)}var j=n("b76a"),O=n.n(j),w={class:"point_ctrl"},k=Object(i["createElementVNode"])("span",{class:"oi oi-pencil"},null,-1),y=Object(i["createTextVNode"])("Edit Details"),E=[k,y],N=Object(i["createElementVNode"])("span",{class:"oi oi-trash"},null,-1),x=Object(i["createTextVNode"])("Delete"),V=[N,x],C={class:"point_title"},P={class:"meta_attr_point_list"},B={class:"meta_attr_point_list"},S=["innerHTML"];function D(e,t,n,a,o,c){return n.point?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:Object(i["normalizeClass"])(["art_point",{selected:e.local_data.points.edit===n.point}]),style:Object(i["normalizeStyle"])("z-index:"+(e.local_data.points.all.length-n.index)+";"),onClick:t[7]||(t[7]=function(e){return c.locateEdit(!1)})},[Object(i["createElementVNode"])("div",w,[Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])(["point_menu_options",{open:o.pointMenu}])},[Object(i["createElementVNode"])("nav",null,[Object(i["createElementVNode"])("ul",null,[Object(i["createElementVNode"])("li",{onClick:[t[0]||(t[0]=Object(i["withModifiers"])((function(){}),["stop"])),t[1]||(t[1]=function(){return c.editThisPoint&&c.editThisPoint.apply(c,arguments)})]},E),Object(i["createElementVNode"])("li",{onClick:[t[2]||(t[2]=Object(i["withModifiers"])((function(){}),["stop"])),t[3]||(t[3]=function(e){return c.callDeleteAlert()})]},V)])])],2),Object(i["createElementVNode"])("span",C,Object(i["toDisplayString"])(n.point.point_title),1),Object(i["createElementVNode"])("i",{class:"material-icons",onClick:[t[4]||(t[4]=Object(i["withModifiers"])((function(){}),["stop"])),t[5]||(t[5]=function(e){return o.pointMenu=!o.pointMenu})]},"")]),Object(i["createElementVNode"])("div",{class:"full_point_detail",onClick:t[6]||(t[6]=Object(i["withModifiers"])((function(){}),["stop"]))},[Object(i["createElementVNode"])("span",P,"Added on: "+Object(i["toDisplayString"])(c.formatDate(n.point.pub_date)),1),Object(i["createElementVNode"])("span",B,"Slug: "+Object(i["toDisplayString"])(n.point.point_slug),1),n.point.point_content?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,class:"full_point_detail_body",innerHTML:c.renderQHtml(n.point.point_content)},null,8,S)):Object(i["createCommentVNode"])("",!0)])],6)):Object(i["createCommentVNode"])("",!0)}n("ac1f"),n("5319"),n("a9e3");var T=n("ff81"),A=n("c1df"),M=n.n(A),I=n("aa78"),L=n.n(I),H=(n("160a"),{props:["point","index"],data:function(){return{expanded:!1,pointMenu:!1,showEditPoint:!1,editingPoint:!1,editedPoint:{id:null,point_x:null,point_y:null,point_title:null,point_slug:null,point_content:null,artwork_context:null},rt:{editor:null,options:{modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","image","video"]]},placeholder:"Compose an epic...",theme:"snow"}}}},computed:Object(s["a"])(Object(s["a"])({},Object(d["d"])("art",["viewer"])),Object(d["d"])("point",["modes","captures","local_data"])),watch:{"editedPoint.point_title":function(e){this.editedPoint.point_slug=e?e.replace(/[^A-Z0-9]+/gi,"_").toLowerCase().toLowerCase():""}},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(d["c"])("point",["setPointToBeDeleted","setValidation","setPointEditorAlert","showEditPointModal","closeEditPointModal","setEditingPoint","setEditCaptureThumb","setEditCandidate"])),Object(d["b"])("point",["savePointEdit"])),{},{expandPoint:function(){this.showEditPoint||(this.expanded?this.expanded=!1:this.expanded=!0)},editThisPoint:function(){this.locateEdit(!0),this.emitter.emit("triggerEditPoint"),console.log("click")},locateEdit:function(e){var t=this;this.setEditCaptureThumb(!1),this.setEditingPoint(!0),this.setEditCandidate(this.point);var n={x:Number(this.point.point_x),y:Number(this.point.point_y)},a=new L.a.Point(n.x,n.y),o=Number(this.point.zoom_value);this.viewer.viewport.zoomTo(o,e),this.viewer.viewport.panTo(a,e),setTimeout((function(){t.emitter.emit("locateEdit"),t.emitter.emit("closeNewPointGrabber"),t.setEditCaptureThumb(!0),console.log(t.captures.edit)}),1200)},editBtnEvents:function(){},formatDate:function(e){return M()(e).format("MMMM Do YYYY, h:mm:ss a")},renderQHtml:function(e){var t=JSON.parse(e),n={},a=new T["QuillDeltaToHtmlConverter"](t.ops,n);return a.convert()},callDeleteAlert:function(){this.setPointToBeDeleted(this.point),$("#deletePoint").modal("show")},initRichTextEditor:function(){var e=document.getElementById("point_text_edit-"+this.point.id),t=document.getElementsByClassName("ql-toolbar")[0];e&&e.parentNode.removeChild(e),t&&t.parentNode.removeChild(t);var n=document.createElement("div");n.id="point_text_edit-"+this.point.id;var a=document.getElementById("slug_group-"+this.point.id);a.parentNode.insertBefore(n,a.nextSibling),this.rt.editor=new Quill(n,this.rt.options),this.rt.editor.setContents(JSON.parse(this.point.point_content))}}),mounted:function(){}}),z=(n("067f"),n("6b0d")),F=n.n(z);const R=F()(H,[["render",D]]);var Z=R,X={data:function(){return{dragSortOptions:{delay:0,disabled:!1,animation:350,ghostClass:"sortable-ghost"},grabState:!1}},computed:{local_data_points_all:{get:function(){return this.$store.state.point.local_data.points.all},set:function(e){var t={vm:this,points:e};this.updatePointListOrder(t)}}},methods:Object(s["a"])(Object(s["a"])({},Object(d["b"])("point",["updatePointListOrder"])),{},{choosing:function(){console.log("choosing!"),this.grabState=!0},choiceMade:function(){console.log("choice completed"),this.grabState=!1}}),mounted:function(){var e=this;this.emitter.on("turnOffDrag",(function(){e.dragSortOptions.disabled=!0,console.log("focus!")})),this.emitter.on("turnOnDrag",(function(){e.dragSortOptions.disabled=!1}))},components:{PointListItem:Z,Draggable:O.a}};n("c010");const Y=F()(X,[["render",g]]);var U=Y,W={class:"art_meta"},G={key:0},J={class:"art_title"},Q={class:"meta_attr"},q={class:"meta_attr"},K={key:1},ee=Object(i["createTextVNode"])(" included in ");function te(e,t,n,a,o,c){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",W,[e.art_data.art&&e.art_data.artist?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",G,[Object(i["createElementVNode"])("h1",J,Object(i["toDisplayString"])(e.art_data.art.artwork_title),1),Object(i["createElementVNode"])("p",Q,"@"+Object(i["toDisplayString"])(e.art_data.art.artwork_slug),1),Object(i["createElementVNode"])("p",q,"by "+Object(i["toDisplayString"])(e.art_data.artist.artist_name),1)])):Object(i["createCommentVNode"])("",!0),e.art_data.collections?(Object(i["openBlock"])(),Object(i["createElementBlock"])("p",K,[ee,(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.art_data.collections,(function(e){return Object(i["openBlock"])(),Object(i["createElementBlock"])("span",null,Object(i["toDisplayString"])(e.collection_title),1)})),256))])):Object(i["createCommentVNode"])("",!0)])}var ne={computed:Object(s["a"])({},Object(d["d"])("art",["art_data"]))};n("10e2");const ae=F()(ne,[["render",te]]);var oe=ae,ie={class:"short_nav"},ce=["href"],le=Object(i["createElementVNode"])("span",{class:"oi oi-home",title:"icon home","aria-hidden":"true"},null,-1),re=[le],se={class:"dropdown"},de=Object(i["createElementVNode"])("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[Object(i["createElementVNode"])("span",{class:"oi oi-person",title:"icon person","aria-hidden":"true"})],-1),ue={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},me=["href"],pe=["href"];function he(e,t,n,a,o,c){return Object(i["openBlock"])(),Object(i["createElementBlock"])("nav",ie,[Object(i["createElementVNode"])("ul",null,[Object(i["createElementVNode"])("li",null,[Object(i["createElementVNode"])("a",{href:o.homeUrl},re,8,ce)]),Object(i["createElementVNode"])("li",null,[Object(i["createElementVNode"])("div",se,[de,Object(i["createElementVNode"])("div",ue,[Object(i["createElementVNode"])("a",{class:"dropdown-item",href:o.profileUrl},"Profile",8,me),Object(i["createElementVNode"])("a",{class:"dropdown-item",href:o.logoutUrl},"Logout",8,pe)])])])])])}var be={data:function(){return{homeUrl:window.home_url,profileUrl:window.profile_url,logoutUrl:window.logout_url}}};n("f3b0");const fe=F()(be,[["render",he]]);var ve=fe,_e={computed:Object(s["a"])(Object(s["a"])({},Object(d["d"])("sidebar",["open"])),Object(d["d"])("art",["viewer"])),methods:Object(s["a"])(Object(s["a"])({},Object(d["c"])("sidebar",["toggleSidebar","setSidebarOpen"])),{},{toggleTheSidebar:function(){var e=this;this.toggleSidebar(),this.emitter.emit("clearEdit"),setTimeout((function(){e.emitter.emit("sidebarAction"),e.viewer.viewport.goHome(!1)}),400)}}),components:{PointList:U,ArtDetails:oe,Navigation:ve},mounted:function(){var e=this;this.emitter.on("openSidebar",(function(){e.setSidebarOpen()}))}};n("d5ae");const ge=F()(_e,[["render",_],["__scopeId","data-v-71acb900"]]);var je=ge,Oe={id:"art_container"},we={key:0,class:"artmap_builder_alerts alert alert-success"},ke={key:0,class:"artmap_builder_alerts alert alert-success"},ye={id:"artcanvas"};function Ee(e,t,n,a,o,c){var l=Object(i["resolveComponent"])("NewPointButton"),r=Object(i["resolveComponent"])("NewPointImageGrab"),s=Object(i["resolveComponent"])("EditPointImageGrab"),d=Object(i["resolveComponent"])("NewPointModal"),u=Object(i["resolveComponent"])("EditPointModal"),m=Object(i["resolveComponent"])("Loader");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Oe,[Object(i["createVNode"])(l),Object(i["createVNode"])(r),Object(i["createVNode"])(s),Object(i["createVNode"])(d),Object(i["createVNode"])(u),Object(i["createVNode"])(i["Transition"],{name:"alert"},{default:Object(i["withCtx"])((function(){return[e.validation.messages_alert.show?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",we,Object(i["toDisplayString"])(e.validation.messages_alert.message),1)):Object(i["createCommentVNode"])("",!0)]})),_:1}),Object(i["createVNode"])(i["Transition"],{name:"alert"},{default:Object(i["withCtx"])((function(){return[e.art_validation.messages_alert.show?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ke,Object(i["toDisplayString"])(e.art_validation.messages_alert.message),1)):Object(i["createCommentVNode"])("",!0)]})),_:1}),Object(i["createVNode"])(i["Transition"],{name:"art_loaded"},{default:Object(i["withCtx"])((function(){return[Object(i["withDirectives"])(Object(i["createElementVNode"])("div",ye,null,512),[[i["vShow"],e.loaded]])]})),_:1}),Object(i["createVNode"])(i["Transition"],{name:"loader"},{default:Object(i["withCtx"])((function(){return[e.loaded?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createBlock"])(m,{key:0}))]})),_:1})])}n("d3b7"),n("159b");!function(e,t,n){if(!e.version||e.version.major<1)throw new Error("OpenSeadragonViewerInputHook requires OpenSeadragon version 1.0.0+");e.Viewer.prototype.addViewerInputHook=function(e){return e=e||{},e.viewer=this,new t.ViewerInputHook(e)},t.ViewerInputHook=function(e){var t,a;for(e=e||{},e.hooks=e.hooks||[],this.viewerTrackers={},e.viewer&&(this.viewerTrackers.viewer=e.viewer.innerTracker,this.viewerTrackers.viewer_outer=e.viewer.outerTracker),t=0;t<e.hooks.length;t++){if("string"==typeof e.hooks[t].tracker){if(!e.viewer)throw new Error("A viewer must be specified.");if(a=this.viewerTrackers[e.hooks[t].tracker],a===n)throw new Error("Unknown tracker specified: "+e.hooks[t].tracker)}else a=e.hooks[t].tracker;!function(e,t,n,a){var o=t[n];t[n]=function(t){return e.callHandlers(a,o,t)}}(this,a,e.hooks[t].handler,e.hooks[t].hookHandler)}},t.ViewerInputHook.version={versionStr:"1.1.0",major:1,minor:1,revision:0},t.ViewerInputHook.prototype.callHandlers=function(e,t,n){var a=e(n);return t&&!n.stopHandlers&&(a=t(n)),!n.stopBubbling&&a}}(L.a,window.OpenSeadragonImaging=window.OpenSeadragonImaging||{});var Ne=n("1c6e"),xe={class:"new_point_ctrl"};function Ve(e,t,n,a,o,c){var l=Object(i["resolveComponent"])("PlusIcon");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",xe,[Object(i["createElementVNode"])("button",{class:"toggle_editMode btn btn-primary artmap-primary create_new_point",onClick:t[0]||(t[0]=function(){return c.initGrabber&&c.initGrabber.apply(c,arguments)})},[Object(i["createVNode"])(l)])])}var Ce={class:"icon plus"},Pe=Object(i["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"5907 1074 20 20",id:"plus-icon"},[Object(i["createElementVNode"])("g",{id:"Symbol_6_1","data-name":"Symbol 6 – 1",transform:"translate(4075 506)"},[Object(i["createElementVNode"])("rect",{id:"Rectangle_2","data-name":"Rectangle 2",class:"cls-1",width:"20",height:"2.053",rx:"1",transform:"translate(1832 576.974)"}),Object(i["createElementVNode"])("rect",{id:"Rectangle_4","data-name":"Rectangle 4",class:"cls-1",width:"20",height:"2.053",rx:"1",transform:"translate(1843.026 568) rotate(90)"})])],-1),Be=[Pe];function Se(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ce,Be)}const De={},Te=F()(De,[["render",Se]]);var Ae=Te,Me={computed:Object(s["a"])({},Object(d["d"])("art",["viewer"])),methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(d["c"])("point",["showNewPoint"])),Object(d["c"])("sidebar",["setSidebarClose"])),{},{initGrabber:function(e,t){this.showNewPoint({vm:this}),this.emitter.emit("clearEdit"),this.emitter.emit("openImageGrabber"),this.setSidebarClose()}}),components:{PlusIcon:Ae}};n("428f0");const Ie=F()(Me,[["render",Ve],["__scopeId","data-v-25003368"]]);var Le=Ie,He=["width","height"],ze={class:"snapshot_take"},$e={class:"range_slider"};function Fe(e,t,n,a,o,c){var l=Object(i["resolveComponent"])("CheckIcon"),r=Object(i["resolveComponent"])("XIcon"),s=Object(i["resolveComponent"])("range-slider"),d=Object(i["resolveComponent"])("vue-draggable-resizable");return Object(i["openBlock"])(),Object(i["createBlock"])(d,{class:Object(i["normalizeClass"])([{on:e.modes.new},"drag_element"]),draggable:o.draggableSwitch,onDragging:c.clearCaptureLens,onDragstop:c.updateTempPosition,w:30,h:30,x:o.x,y:o.y,resizable:!0,parent:!0},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("canvas",{id:"snapshot",width:o.scale_value,height:o.scale_value},null,8,He),Object(i["createElementVNode"])("div",{class:"scale_controls",onMouseover:t[3]||(t[3]=function(e){return o.draggableSwitch=!1}),onMouseleave:t[4]||(t[4]=function(e){return o.draggableSwitch=!0})},[Object(i["withDirectives"])(Object(i["createElementVNode"])("div",ze,[Object(i["createElementVNode"])("span",{class:"snapshot_btn yes",onClick:t[0]||(t[0]=function(){return c.capture&&c.capture.apply(c,arguments)})},[Object(i["createVNode"])(l)]),Object(i["createElementVNode"])("span",{class:"snapshot_btn no",onClick:t[1]||(t[1]=function(){return c.handleCloseNewPoint&&c.handleCloseNewPoint.apply(c,arguments)})},[Object(i["createVNode"])(r)])],512),[[i["vShow"],e.modes.new]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",$e,[Object(i["createVNode"])(s,{scale_min:o.scale_min,scale_max:o.scale_max,scale_value:o.scale_value,onRangeChange:t[2]||(t[2]=function(e){o.scale_value=e})},null,8,["scale_min","scale_max","scale_value"])],512),[[i["vShow"],e.modes.new]])],32)]})),_:1},8,["class","draggable","onDragging","onDragstop","x","y"])}n("b680");var Re=["onMousedown"];function Ze(e,t,n,a,o,c){return n.resizable?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:Object(i["normalizeClass"])(["vdr",{draggable:n.draggable,resizable:n.resizable,active:e.active}]),onMousedown:t[0]||(t[0]=function(){return c.elmDown&&c.elmDown.apply(c,arguments)}),onDblclick:t[1]||(t[1]=function(){return c.fillParent&&c.fillParent.apply(c,arguments)}),style:Object(i["normalizeStyle"])(c.style)},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(n.handles,(function(t,n){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(["handle","handle-"+t]),key:"drag-handle-".concat(n),style:Object(i["normalizeStyle"])({display:e.active?"block":"none"}),onMousedown:Object(i["withModifiers"])((function(e){return c.handleDown(t,e)}),["stop","prevent"])},null,46,Re)})),128)),Object(i["renderSlot"])(e.$slots,"default",{},void 0,!0)],38)):Object(i["createCommentVNode"])("",!0)}n("4d63"),n("c607"),n("2c3e"),n("25f0"),n("00b4");var Xe={replace:!0,name:"vue-draggable-resizable",props:{draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},w:{type:Number,default:200,validator:function(e){return e>0}},h:{type:Number,default:200,validator:function(e){return e>0}},minw:{type:Number,default:30,validator:function(e){return e>0}},minh:{type:Number,default:30,validator:function(e){return e>0}},x:{type:Number,default:0,validator:function(e){return e>=0}},y:{type:Number,default:0,validator:function(e){return e>=0}},handles:{type:Array,default:function(){return["tl","tm","tr","mr","br","bm","bl","ml"]}},axis:{type:String,default:"both",validator:function(e){return-1!==["x","y","both"].indexOf(e)}},grid:{type:Array,default:function(){return[1,1]}},parent:{type:Boolean,default:!1},maximize:{type:Boolean,default:!1}},created:function(){this.parentX=0,this.parentW=9999,this.parentY=0,this.parentH=9999,this.mouseX=0,this.mouseY=0,this.lastMouseX=0,this.lastMouseY=0,this.mouseOffX=0,this.mouseOffY=0,this.elmX=0,this.elmY=0,this.elmW=0,this.elmH=0},mounted:function(){if(document.documentElement.addEventListener("mousemove",this.handleMove,!0),document.documentElement.addEventListener("mousedown",this.deselect,!0),document.documentElement.addEventListener("mouseup",this.handleUp,!0),this.minw>this.w&&(this.width=this.minw),this.minh>this.h&&(this.height=this.minh),this.parent){var e=parseInt(this.$el.parentNode.clientWidth,10),t=parseInt(this.$el.parentNode.clientHeight,10);this.parentW=e,this.parentH=t,this.w>this.parentW&&(this.width=e),this.h>this.parentH&&(this.height=t),this.x+this.w>this.parentW&&(this.width=e-this.x),this.y+this.h>this.parentH&&(this.height=t-this.y)}this.$emit("resizing",this.left,this.top,this.width,this.height)},beforeDestroy:function(){document.documentElement.removeEventListener("mousemove",this.handleMove,!0),document.documentElement.removeEventListener("mousedown",this.deselect,!0),document.documentElement.removeEventListener("mouseup",this.handleUp,!0)},data:function(){return{top:this.y,left:this.x,width:this.w,height:this.h,resizing:!1,dragging:!1,active:!1,opacity:1,handle:null,zIndex:1e3}},methods:{elmDown:function(e){var t=e.target||e.srcElement;this.$el.contains(t)&&(this.active||(this.zIndex+=1,this.active=!0,this.$emit("activated")),this.elmX=parseInt(this.$el.style.left),this.elmY=parseInt(this.$el.style.top),this.elmW=this.$el.offsetWidth||this.$el.clientWidth,this.elmH=this.$el.offsetHeight||this.$el.clientHeight,this.draggable&&(this.opacity=.6,this.dragging=!0))},deselect:function(e){var t=e.target||e.srcElement,n=new RegExp("handle-([trmbl]{2})","");this.$el.contains(t)||n.test(t.className)||this.active&&(this.active=!1,this.$emit("deactivated"))},handleDown:function(e,t){this.handle=e,t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.resizing=!0},fillParent:function(e){var t=this;if(this.parent&&this.resizable&&this.maximize){var n=!1,a=function e(){n||window.requestAnimationFrame(e),"x"===t.axis?t.width===t.parentW&&t.left===t.parentX&&(n=!0):"y"===t.axis?t.height===t.parentH&&t.top===t.parentY&&(n=!0):"both"===t.axis&&t.width===t.parentW&&t.height===t.parentH&&t.top===t.parentY&&t.left===t.parentX&&(n=!0),"x"!==t.axis&&"both"!==t.axis||(t.width<t.parentW&&(t.width++,t.elmW++),t.left>t.parentX&&(t.left--,t.elmX--)),"y"!==t.axis&&"both"!==t.axis||(t.height<t.parentH&&(t.height++,t.elmH++),t.top>t.parentY&&(t.top--,t.elmY--)),t.$emit("resizing",t.left,t.top,t.width,t.height)};window.requestAnimationFrame(a)}},handleMove:function(e){this.mouseX=e.pageX||e.clientX+document.documentElement.scrollLeft,this.mouseY=e.pageY||e.clientY+document.documentElement.scrollTop;var t=this.mouseX-this.lastMouseX+this.mouseOffX,n=this.mouseY-this.lastMouseY+this.mouseOffY;this.mouseOffX=this.mouseOffY=0,this.lastMouseX=this.mouseX,this.lastMouseY=this.mouseY;var a=t,o=n;this.resizing?(this.handle.indexOf("t")>=0&&(this.elmH-o<this.minh?this.mouseOffY=o-(n=this.elmH-this.minh):this.elmY+o<this.parentY&&(this.mouseOffY=o-(n=this.parentY-this.elmY)),this.elmY+=n,this.elmH-=n),this.handle.indexOf("b")>=0&&(this.elmH+o<this.minh?this.mouseOffY=o-(n=this.minh-this.elmH):this.elmY+this.elmH+o>this.parentH&&(this.mouseOffY=o-(n=this.parentH-this.elmY-this.elmH)),this.elmH+=n),this.handle.indexOf("l")>=0&&(this.elmW-a<this.minw?this.mouseOffX=a-(t=this.elmW-this.minw):this.elmX+a<this.parentX&&(this.mouseOffX=a-(t=this.parentX-this.elmX)),this.elmX+=t,this.elmW-=t),this.handle.indexOf("r")>=0&&(this.elmW+a<this.minw?this.mouseOffX=a-(t=this.minw-this.elmW):this.elmX+this.elmW+a>this.parentW&&(this.mouseOffX=a-(t=this.parentW-this.elmX-this.elmW)),this.elmW+=t),this.left=Math.round(this.elmX/this.grid[0])*this.grid[0],this.top=Math.round(this.elmY/this.grid[1])*this.grid[1],this.width=Math.round(this.elmW/this.grid[0])*this.grid[0],this.height=Math.round(this.elmH/this.grid[1])*this.grid[1],this.$emit("resizing",this.left,this.top,this.width,this.height)):this.dragging&&(this.elmX+a<this.parentX?this.mouseOffX=a-(t=this.parentX-this.elmX):this.elmX+this.elmW+a>this.parentW&&(this.mouseOffX=a-(t=this.parentW-this.elmX-this.elmW)),this.elmY+o<this.parentY?this.mouseOffY=o-(n=this.parentY-this.elmY):this.elmY+this.elmH+o>this.parentH&&(this.mouseOffY=o-(n=this.parentH-this.elmY-this.elmH)),this.elmX+=t,this.elmY+=n,"x"!==this.axis&&"both"!==this.axis||(this.left=Math.round(this.elmX/this.grid[0])*this.grid[0]),"y"!==this.axis&&"both"!==this.axis||(this.top=Math.round(this.elmY/this.grid[1])*this.grid[1]),this.$emit("dragging",this.left,this.top))},handleUp:function(e){this.handle=null,this.resizing&&(this.resizing=!1,this.$emit("resizestop",this.left,this.top,this.width,this.height)),this.dragging&&(this.dragging=!1,this.$emit("dragstop",this.left,this.top)),this.opacity=1,this.elmX=this.left,this.elmY=this.top}},computed:{style:function(){return{top:this.top+"px",left:this.left+"px",width:this.width+"px",height:this.height+"px",zIndex:this.zIndex,opacity:this.opacity}}},watch:{x:function(e){this.elmX+e>=this.parentX&&e+this.elmW<=this.parentW&&(this.left=Math.round(e/this.grid[0])*this.grid[0]),this.$emit("resizing",this.left,this.top,this.width,this.height)},y:function(e){this.elmY+e>=this.parentY&&e+this.elmH<=this.parentH&&(this.top=Math.round(e/this.grid[1])*this.grid[1]),this.$emit("resizing",this.left,this.top,this.width,this.height)},w:function(e){e>0&&this.elmX+e<=this.parentW&&(this.width=Math.round(e/this.grid[0])*this.grid[0]),console.log(this.width),this.$emit("resizing",this.left,this.top,this.width,this.height)},h:function(e){e>0&&this.elmY+e<=this.parentH&&(this.height=Math.round(e/this.grid[1])*this.grid[1]),this.$emit("resizing",this.left,this.top,this.width,this.height)}}};n("d7dc");const Ye=F()(Xe,[["render",Ze],["__scopeId","data-v-9fa28ed8"]]);var Ue=Ye,We=["min","max","value"];function Ge(e,t,n,a,o,c){var l=Object(i["resolveComponent"])("RangeSliderTicks");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,[Object(i["createElementVNode"])("input",{type:"range",min:n.scale_min,max:n.scale_max,value:n.scale_value,onInput:t[0]||(t[0]=function(){return c.handleRangeChange&&c.handleRangeChange.apply(c,arguments)})},null,40,We),Object(i["createVNode"])(l,{class:"range-slider-ticks"})])}var Je={class:"range-slider-ticks"},Qe=Object(i["createStaticVNode"])('<svg width="267" height="21" viewBox="0 0 267 21" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-81f02ace><line x1="0.5" x2="0.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="84.5" x2="84.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="42.5" x2="42.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="126.5" x2="126.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="175.5" x2="175.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="231.5" x2="231.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="21.5" x2="21.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="105.5" x2="105.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="63.5" x2="63.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="147.5" x2="147.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="196.5" x2="196.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="252.5" x2="252.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="7.5" x2="7.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="91.5" x2="91.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="49.5" x2="49.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="133.5" x2="133.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="182.5" x2="182.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="238.5" x2="238.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="28.5" x2="28.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="112.5" x2="112.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="70.5" x2="70.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="154.5" x2="154.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="203.5" x2="203.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="259.5" x2="259.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="14.5" x2="14.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="98.5" x2="98.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="56.5" x2="56.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="140.5" x2="140.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="189.5" x2="189.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="245.5" x2="245.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="35.5" x2="35.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="119.5" x2="119.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="168.5" x2="168.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="224.5" x2="224.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="77.5" x2="77.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="161.5" x2="161.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="217.5" x2="217.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="210.5" x2="210.5" y2="21" stroke="white" data-v-81f02ace></line><line x1="266.5" x2="266.5" y2="21" stroke="white" data-v-81f02ace></line></svg>',1),qe=[Qe];function Ke(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Je,qe)}n("c10b");const et={},tt=F()(et,[["render",Ke],["__scopeId","data-v-81f02ace"]]);var nt=tt,at={props:["scale_min","scale_max","scale_value"],components:{RangeSliderTicks:nt},methods:{handleRangeChange:function(e){console.log(e.target.value),this.$emit("rangeChange",e.target.value)}}};n("f328");const ot=F()(at,[["render",Ge],["__scopeId","data-v-5e9d5c31"]]);var it=ot,ct={class:"icon check"},lt=Object(i["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"7246.655 1026.255 14.22 10.326",id:"check-icon"},[Object(i["createElementVNode"])("g",{id:"Symbol_11_1","data-name":"Symbol 11 – 1",transform:"translate(6112 544)"},[Object(i["createElementVNode"])("path",{id:"Path_25","data-name":"Path 25",class:"cls-1",d:"M87.009,42.823l4.247,4.247,9.265-9.265",transform:"translate(1048 444.803)"})])],-1),rt=[lt];function st(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ct,rt)}const dt={},ut=F()(dt,[["render",st]]);var mt=ut,pt={class:"icon x-icon"},ht=Object(i["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"6865.144 1026.26 11.854 11.854",id:"x-icon"},[Object(i["createElementVNode"])("g",{id:"Symbol_9_1","data-name":"Symbol 9 – 1",transform:"translate(6112 544)"},[Object(i["createElementVNode"])("path",{id:"Path_26","data-name":"Path 26",class:"cls-1",d:"M89.62,48.961l10.9-11.155",transform:"translate(664 444.803)"}),Object(i["createElementVNode"])("path",{id:"Path_27","data-name":"Path 27",class:"cls-1",d:"M89.62,48.961l10.9-11.155",transform:"translate(802.454 393.116) rotate(90)"})])],-1),bt=[ht];function ft(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",pt,bt)}const vt={},_t=F()(vt,[["render",ft]]);var gt=_t,jt={data:function(){return{snap_canvas:null,x:0,y:0,scale_value:130,scale_max:240,scale_min:60,draggableSwitch:!0,device_pixel_ratio:1}},computed:Object(s["a"])(Object(s["a"])({},Object(d["d"])("art",["canvas","viewer"])),Object(d["d"])("point",["modes","local_data"])),methods:Object(s["a"])(Object(s["a"])({},Object(d["c"])("point",["setCapturedThumb","closeNewPoint","setNewPointCoords"])),{},{clearCaptureLens:function(){var e=this.snap_canvas.getContext("2d");e.clearRect(0,0,this.snap_canvas.width,this.snap_canvas.height)},capture:function(){var e=this,t=this.snap_canvas.getContext("2d"),n=Number(window.devicePixelRatio),a=this.$el.offsetLeft,o=this.$el.offsetTop,i=(this.snap_canvas.offsetLeft,this.scale_max,this.scale_value,a-this.scale_value/2),c=o-this.scale_value/2;console.log("new x:"+i),console.log("new y:"+c);var l=new Image;this.clearCaptureLens(),l.onload=function(){t.drawImage(l,i*n,c*n,e.scale_value*n,e.scale_value*n,0,0,e.scale_value,e.scale_value);var a=new Image;a.onload=function(){$("#newArtPoint").modal("show")},a.src=e.snap_canvas.toDataURL("image/jpg");var o={scale_value:e.scale_value,image:a};e.setCapturedThumb(o)},l.src=this.canvas[0].toDataURL("image/jpg"),this.setPointLocation(i,c)},setPointLocation:function(e,t){this.clearTemporaryPin();var n=e+this.scale_value/2,a=t+this.scale_value/2,o=new L.a.Point(n,a),i=this.viewer.viewport.pointFromPixel(o),c=Number(this.viewer.viewport.getZoom(!0)),l=Math.round(100*c)/100,r={x:String(i.x.toFixed(5)),y:String(i.y.toFixed(5)),zoom_value:l};this.setNewPointCoords(r);var s=document.createElement("span");s.id="new-pin",s.className="osdOverlayWrap";var d={element:s,placement:"CENTER",checkResize:!1,location:i};this.viewer.addOverlay(d)},clearTemporaryPin:function(){var e=document.getElementById("new-pin");e&&this.viewer.removeOverlay(e)},setInitialGrabberPosition:function(){var e=document.getElementById("art_container").offsetWidth,t=document.getElementById("art_container").offsetHeight,n=this.$el.offsetWidth,a=this.$el.offsetHeight;this.x=e/2-n/2,this.y=t/2-a/2},updateTempPosition:function(){var e=this.$el.offsetLeft,t=this.$el.offsetTop,n=this.snap_canvas.offsetLeft,a=(this.scale_max-this.scale_value)/2,o=e+n,i=t+a;this.setPointLocation(o,i)},getTempPosition:function(){var e=Number(this.local_data.points.new.point_x),t=Number(this.local_data.points.new.point_y),n=new L.a.Point(e,t),a=this.viewer.viewport.pixelFromPoint(n),o=this.snap_canvas.offsetLeft+this.scale_value/2,i=this.snap_canvas.offsetTop,c=a.x-o,l=a.y-i;this.x=c,this.y=l},handleCloseNewPoint:function(){this.closeNewPoint({vm:this})}}),components:{VueDraggableResizable:Ue,RangeSlider:it,CheckIcon:mt,XIcon:gt},mounted:function(){var e=this,t=this;this.snap_canvas=document.getElementById("snapshot"),this.setInitialGrabberPosition(),this.emitter.on("openImageGrabber",(function(){e.clearCaptureLens(),e.setInitialGrabberPosition()})),this.emitter.on("sidebarAction",(function(){e.local_data.points.new.point_x&&e.local_data.points.new.point_y})),this.emitter.on("closeNewPointGrabber",(function(){console.log("close grabber"),console.log(t),e.closeNewPoint({vm:t})}))}};n("a759");const Ot=F()(jt,[["render",Fe]]);var wt=Ot,kt=["width","height"],yt={class:"snapshot_take"},Et={class:"range_slider"};function Nt(e,t,n,a,o,c){var l=Object(i["resolveComponent"])("PencilIcon"),r=Object(i["resolveComponent"])("CheckIcon"),s=Object(i["resolveComponent"])("XIcon"),d=Object(i["resolveComponent"])("range-slider"),u=Object(i["resolveComponent"])("vue-draggable-resizable");return Object(i["openBlock"])(),Object(i["createBlock"])(u,{class:Object(i["normalizeClass"])([{on:e.captures.edit},"drag_element"]),draggable:o.draggableSwitch,onDragging:c.clearCaptureLens,w:30,h:30,x:o.x,y:o.y,resizable:!0,parent:!0},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("canvas",{id:"snapshot_edit",width:o.scale_value,height:o.scale_value},null,8,kt),Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])([{off:o.editing},"snapshot_btn edit_this_point"]),onClick:t[0]||(t[0]=function(e){return c.setLocalEditMode(!0)})},[Object(i["createVNode"])(l)],2),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["scale_controls edit_point",{active:o.editing}]),onMouseover:t[4]||(t[4]=function(e){return o.draggableSwitch=!1}),onMouseleave:t[5]||(t[5]=function(e){return o.draggableSwitch=!0})},[Object(i["createElementVNode"])("div",yt,[Object(i["createElementVNode"])("span",{class:"snapshot_btn yes",onClick:t[1]||(t[1]=function(){return c.capture&&c.capture.apply(c,arguments)})},[Object(i["createVNode"])(r)]),Object(i["createElementVNode"])("span",{class:"snapshot_btn no",onClick:t[2]||(t[2]=function(){return c.cancelEdit&&c.cancelEdit.apply(c,arguments)})},[Object(i["createVNode"])(s)])]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",Et,[Object(i["createVNode"])(d,{scale_min:o.scale_min,scale_max:o.scale_max,scale_value:o.scale_value,onRangeChange:t[3]||(t[3]=function(e){o.scale_value=e})},null,8,["scale_min","scale_max","scale_value"])],512),[[i["vShow"],e.captures.edit]])],34)]})),_:1},8,["class","draggable","onDragging","x","y"])}var xt={class:"icon pencil"},Vt=Object(i["createElementVNode"])("svg",{version:"1.1",id:"pencil-icon","xmlns:cc":"http://creativecommons.org/ns#","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape","xmlns:rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd","xmlns:svg":"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 63 63.3",style:{"enable-background":"new 0 0 63 63.3"},"xml:space":"preserve"},[Object(i["createElementVNode"])("path",{d:"M59.7,3.2C57.6,1.2,54.8,0,51.9,0S46.1,1.2,44,3.2L3.4,43.9C3.2,44.2,3,44.4,3,44.8L0,61.3c-0.1,0.5,0.1,1,0.4,1.3\n      c0.3,0.3,0.7,0.4,1.1,0.4c0.1,0,0.2,0,0.2,0l16.5-3c0.3-0.1,0.6-0.2,0.8-0.4L59.7,19c2.1-2.1,3.3-4.9,3.3-7.8\n      C63,8.2,61.8,5.3,59.7,3.2z M3.3,59.7L5.2,49l8.8,8.8L3.3,59.7z M57.6,16.8L17.4,57c-0.1-0.1-0.2-0.2-0.2-0.3L6.3,45.8\n      c-0.1-0.1-0.2-0.2-0.3-0.2L46.2,5.4C47.7,3.8,49.7,3,51.9,3s4.2,0.8,5.8,2.4C59.2,6.9,60,9,60,11.1S59.2,15.3,57.6,16.8z"})],-1),Ct=[Vt];function Pt(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",xt,Ct)}const Bt={},St=F()(Bt,[["render",Pt]]);var Dt=St,Tt={data:function(){return{snap_canvas:null,img:null,editing:!1,scale:1,width:null,height:null,x:0,y:0,source_coords:null,scale_value:130,scale_max:240,scale_min:60,draggableSwitch:!1,canvas_width:100,canvas_height:100,device_pixel_ratio:1}},computed:Object(s["a"])(Object(s["a"])({},Object(d["d"])("art",["canvas","viewer"])),Object(d["d"])("point",["captures","local_data"])),methods:Object(s["a"])(Object(s["a"])({},Object(d["c"])("point",["setCapturedThumb","closeNewPoint","setEditPointCoords","showNewPoint","setEditCaptureThumb"])),{},{clearCapture:function(){this.editing=!1,this.setEditCaptureThumb(!1),this.clearCaptureLens()},clearCaptureLens:function(){var e=this.snap_canvas.getContext("2d");e.clearRect(0,0,this.snap_canvas.width,this.snap_canvas.height)},cancelEdit:function(){this.editing=!1,this.scale_value=this.local_data.points.edit.scale_value,this.setLocalEditMode(!1),this.setInitialGrabberPosition()},setLocalEditMode:function(e){e?(this.editing=!0,this.draggableSwitch=!0):(this.editing=!1,this.draggableSwitch=!1)},capture:function(){var e=this;this.snap_canvas=document.getElementById("snapshot_edit");var t=this.snap_canvas.getContext("2d"),n=Number(window.devicePixelRatio),a=this.$el.offsetLeft,o=this.$el.offsetTop,i=a-this.scale_value/2,c=o-this.scale_value/2,l=new Image;t.clearRect(0,0,this.snap_canvas.width,this.snap_canvas.height),l.onload=function(){t.drawImage(l,i*n,c*n,e.scale_value*n,e.scale_value*n,0,0,e.scale_value,e.scale_value);var a=new Image;a.onload=function(){e.emitter.emit("triggerEditPoint",a)},a.src=e.snap_canvas.toDataURL();var o={size:e.scale_value,image:a};e.setEditCaptureThumb(o)},l.src=this.canvas[0].toDataURL(),this.setPointLocation(i,c)},setPointLocation:function(e,t){this.clearTemporaryPin();var n=e+this.scale_value/2,a=t+this.scale_value/2,o=new L.a.Point(n,a),i=this.viewer.viewport.pointFromPixel(o),c=Number(this.viewer.viewport.getZoom(!0)),l=Math.round(c),r={x:String(i.x.toFixed(5)),y:String(i.y.toFixed(5)),zoom_value:l};this.setEditPointCoords(r);var s=document.createElement("span");s.id="new-pin",s.className="osdOverlayWrap";var d={element:s,placement:"CENTER",checkResize:!1,location:i};this.viewer.addOverlay(d)},clearTemporaryPin:function(){var e=document.getElementById("new-pin");e&&this.viewer.removeOverlay(e)},setEditPointPosition:function(){var e=Number(this.local_data.points.edit.point_x),t=Number(this.local_data.points.edit.point_y),n=new L.a.Point(e,t),a=this.viewer.viewport.pixelFromPoint(n),o=(this.snap_canvas.offsetLeft,this.snap_canvas.offsetTop,a.x),i=a.y;this.x=o,this.y=i,console.log("x:"+o)},setInitialGrabberPosition:function(){var e=document.getElementById("art_container");if(e){var t=e.offsetWidth,n=e.offsetHeight,a=this.$el.offsetWidth,o=this.$el.offsetHeight;this.x=t/2-a/2,this.y=n/2-o/2}}}),components:{VueDraggableResizable:Ue,RangeSlider:it,CheckIcon:mt,XIcon:gt,PencilIcon:Dt},mounted:function(){var e=this;this.snap_canvas=document.getElementById("snapshot_edit"),console.log(this.snap_canvas),this.setInitialGrabberPosition(),this.emitter.on("recaptureFromThumb",(function(){e.capture()})),this.emitter.on("locateEdit",(function(){e.setEditPointPosition(),e.clearCapture(),e.scale_value=e.local_data.points.edit.scale_value})),this.emitter.on("clearEdit",(function(){e.clearCapture()})),window.addEventListener("resize",(function(){e.setInitialGrabberPosition()})),this.emitter.on("sidebarAction",(function(){e.setInitialGrabberPosition()}))}};n("883c");const At=F()(Tt,[["render",Nt]]);var Mt=At,It={class:"modal fade",id:"newArtPoint",tabindex:"-1",role:"dialog","aria-labelledby":"newArtmap","aria-hidden":"true"},Lt={class:"modal-dialog",role:"document"},Ht={class:"modal-content"},zt={class:"modal-body"},$t={class:"point_captured"},Ft={key:0,class:"point_thumbnail"},Rt=["src"],Zt={key:0,class:"point_editor_messages"},Xt={class:"new_point_form"},Yt=Object(i["createElementVNode"])("label",null,"Title",-1),Ut={class:"slug_input_group"},Wt={class:"slug_input_label"},Gt=Object(i["createElementVNode"])("label",null,"Short Description",-1),Jt=Object(i["createElementVNode"])("div",{id:"new_description_group"},[Object(i["createElementVNode"])("label",null,"Description"),Object(i["createElementVNode"])("span",{class:"location_group",id:"description_rt_pos"})],-1),Qt={class:"modal-footer"},qt={class:"form-group"},Kt=Object(i["createElementVNode"])("button",{type:"submit",class:"btn artmap-secondary","data-toggle":"modal","data-target":"#newArtPoint"},[Object(i["createElementVNode"])("span",{class:"glyphicon glyphicon-ok"}),Object(i["createTextVNode"])(" Cancel ")],-1),en={key:0};function tn(e,t,n,a,o,c){var l=Object(i["resolveComponent"])("MiniLoader");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",It,[Object(i["createElementVNode"])("div",Lt,[Object(i["createElementVNode"])("div",Ht,[Object(i["createElementVNode"])("div",zt,[Object(i["createElementVNode"])("div",$t,[e.captures.new?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ft,[Object(i["createElementVNode"])("img",{src:e.captures.new.image.src},null,8,Rt)])):Object(i["createCommentVNode"])("",!0)]),e.validation.editor_alert.show?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Zt,Object(i["toDisplayString"])(e.validation.editor_alert.message),1)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",Xt,[Yt,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"text",placeholder:"Give this point a name...","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.local_data.points.new.point_title=t})},null,512),[[i["vModelText"],e.local_data.points.new.point_title]]),Object(i["createElementVNode"])("span",Ut,[Object(i["createElementVNode"])("span",Wt,"Slug: "+Object(i["toDisplayString"])(e.local_data.points.new.point_slug),1)]),Gt,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"text",placeholder:"This description will show up in the side bar...","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.local_data.points.new.point_lede=t})},null,512),[[i["vModelText"],e.local_data.points.new.point_lede]]),Jt])]),Object(i["createElementVNode"])("div",Qt,[Object(i["createElementVNode"])("div",qt,[Kt,Object(i["createElementVNode"])("button",{class:"save_point btn artmap-primary",onClick:t[2]||(t[2]=function(){return c.attemptSavePoint&&c.attemptSavePoint.apply(c,arguments)})},[e.validation.progress?(Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:1,colorClass:"light",additionalStyles:""})):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",en,"Save"))])])])])])])}n("e9c4"),n("7db0");var nn=n("9339"),an=n.n(nn),on=n("a421"),cn={data:function(){return{rt:{editor:null,options:{modules:{toolbar:[[{header:[1,2,3,!1]}],["clean","bold","italic","underline","link","image","video"]]},placeholder:"Compose an epic...",theme:"snow"}}}},computed:Object(s["a"])(Object(s["a"])({},Object(d["d"])("point",["modes","local_data","validation","captures"])),Object(d["d"])("art",["viewer"])),watch:{"local_data.points.new.point_title":function(e){this.local_data.points.new.point_slug=e?e.replace(/[^A-Z0-9]+/gi,"_").toLowerCase().toLowerCase():""},"modes.new":function(e){e&&this.initRichText()}},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(d["c"])("point",["toggleShowNewPoint","closeNewPoint","setPointEditorAlert","setNewPointContent","setValidation"])),Object(d["b"])("point",["saveNewPoint"])),{},{attemptSavePoint:function(){var e=JSON.stringify(this.rt.editor.getContents()),t={artwork:window.art_id,content:e};this.setNewPointContent(t),this.setNewPoint()},setNewPoint:function(e){var t,n=null;for(var a in this.local_data.points.new){if(null===this.local_data.points.new[a]||""===this.local_data.points.new[a]){this.setValidation(!1),n=a;break}this.setValidation(!0)}if(this.validation.submission)t={show:!1,message:null},this.setPointEditorAlert(t),this.saveNewPoint(this);else{var o=this.validation.messages[n];t={show:!0,message:"Looks like ".concat(o)},this.setPointEditorAlert(t)}},initRichText:function(){var e=document.getElementById("new_point_rich_text"),t=$("#new_description_group").find(".ql-toolbar")[0];e&&e.parentNode.removeChild(e),t&&t.parentNode.removeChild(t);var n=document.createElement("div");n.id="new_point_rich_text";var a=document.getElementById("description_rt_pos");a.parentNode.insertBefore(n,a.nextSibling),this.rt.editor=new an.a(n,this.rt.options)}}),mounted:function(){var e=this;this.emitter.on("triggerEditPoint",(function(){e.closeNewPoint({vm:e})}))},components:{MiniLoader:on["a"]}};n("98b7");const ln=F()(cn,[["render",tn]]);var rn=ln,sn={class:"modal fade",id:"editArtPoint",tabindex:"-1",role:"dialog","aria-labelledby":"newArtmap","aria-hidden":"true"},dn={class:"modal-dialog",role:"document"},un={class:"modal-content"},mn={class:"modal-body"},pn={key:0,class:"point_editor_messages"},hn={class:"art_point new_point"},bn={class:"point_captured"},fn={class:"point_thumbnail"},vn=["src"],_n=Object(i["createElementVNode"])("label",null,"Title",-1),gn={class:"slug_input_group"},jn={class:"slug_input_label"},On=Object(i["createElementVNode"])("label",null,"Short Description",-1),wn=Object(i["createElementVNode"])("div",{id:"edit_desc_group"},[Object(i["createElementVNode"])("label",null,"Description"),Object(i["createElementVNode"])("span",{class:"location_group",id:"edit_description_rt_pos"})],-1),kn={class:"modal-footer"},yn={class:"form-group"},En=Object(i["createElementVNode"])("button",{type:"submit",class:"btn artmap-secondary","data-toggle":"modal","data-target":"#editArtPoint"},[Object(i["createElementVNode"])("span",{class:"glyphicon glyphicon-ok"}),Object(i["createTextVNode"])(" Cancel ")],-1),Nn={key:0};function xn(e,t,n,a,o,c){var l=Object(i["resolveComponent"])("MiniLoader");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",sn,[Object(i["createElementVNode"])("div",dn,[Object(i["createElementVNode"])("div",un,[Object(i["createElementVNode"])("div",mn,[e.validation.editor_alert.show?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",pn,Object(i["toDisplayString"])(e.validation.editor_alert.message),1)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",hn,[Object(i["createElementVNode"])("div",bn,[Object(i["createElementVNode"])("span",fn,[Object(i["createElementVNode"])("img",{src:o.editedPoint.point_image},null,8,vn)])]),_n,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"text",placeholder:"Give this point a name...","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.editedPoint.point_title=e})},null,512),[[i["vModelText"],o.editedPoint.point_title]]),Object(i["createElementVNode"])("span",gn,[Object(i["createElementVNode"])("span",jn,"Slug: "+Object(i["toDisplayString"])(o.editedPoint.point_slug),1)]),On,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"text",placeholder:"This description will show up in the side bar...","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.editedPoint.point_lede=e})},null,512),[[i["vModelText"],o.editedPoint.point_lede]]),wn])]),Object(i["createElementVNode"])("div",kn,[Object(i["createElementVNode"])("div",yn,[En,Object(i["createElementVNode"])("button",{class:"save_point btn artmap-primary",onClick:t[2]||(t[2]=function(){return c.saveChanges&&c.saveChanges.apply(c,arguments)})},[e.validation.progress?(Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:1,colorClass:"light",additionalStyles:""})):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Nn,"Save"))])])])])])])}var Vn={data:function(){return{editingPoint:!1,editedPoint:{id:null,point_x:null,point_y:null,point_title:null,point_image:null,point_slug:null,point_content:null,point_lede:null,artwork_context:null,zoom_value:null,scale_value:null},rt:{editor:null,captionEditor:null,options:{modules:{toolbar:[[{header:[1,2,3,!1]}],["clean","bold","italic","underline","link","image","video"]]},placeholder:"Compose an epic...",theme:"snow"}}}},computed:Object(s["a"])(Object(s["a"])({},Object(d["d"])("point",["local_data","validation","modes"])),Object(d["d"])("art",["viewer"])),watch:{"local_data.points.edit.title":function(e){this.local_data.points.edit.point_slug=e?e.replace(/[^A-Z0-9]+/gi,"_").toLowerCase().toLowerCase():""},"editedPoint.point_title":function(e){e&&(this.editedPoint.point_slug=e.replace(/[^A-Z0-9]+/gi,"_").toLowerCase().toLowerCase())}},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(d["c"])("point",["toggleShowNewPoint","closeNewPoint","setPointEditorAlert","setNewPointContent","setValidation"])),Object(d["b"])("point",["savePointEdit"])),{},{resetPoint:function(){},attemptSavePoint:function(){if(this.modes.new)JSON.stringify(this.rt.editor.getContents())},saveChanges:function(e){var t,n=this,a=null,o=JSON.stringify(this.rt.editor.getContents());for(var i in this.editedPoint.point_content=o,this.editedPoint){if(console.log(i,this.editedPoint[i]),null===this.editedPoint[i]||""===this.editedPoint[i]){console.log(this.editedPoint),this.setValidation(!1),a=i;break}this.setValidation(!0)}if(this.validation.submission){t={show:!1,message:null},this.setPointEditorAlert(t);var c={vm:this,pointData:this.editedPoint};this.savePointEdit(c),console.log("valid!"),this.emitter.emit("clearEdit"),setTimeout((function(){n.emitter.emit("sidebarAction"),n.viewer.viewport.goHome(!1)}),400)}else{console.log("not valid!");var l=this.validation.messages[a];t={show:!0,message:"Looks like ".concat(l)},this.setPointEditorAlert(t)}},postSaveCleanup:function(){this.editedPoint={id:null,point_x:null,point_y:null,point_title:null,point_slug:null,point_content:null,point_lede:null,artwork_context:null},this.emitter.emit("clearEdit")},initRichText:function(){var e=document.getElementById("edit_point_rich_text"),t=$("#edit_desc_group").find(".ql-toolbar")[0];console.log(t),e&&e.parentNode.removeChild(e),t&&t.parentNode.removeChild(t);var n=document.createElement("div");n.id="edit_point_rich_text";var a=document.getElementById("edit_description_rt_pos");a.parentNode.insertBefore(n,a.nextSibling),this.rt.editor=new an.a(n,this.rt.options),this.local_data.points.edit.point_content&&(console.log(this.local_data.points.edit.point_content),this.rt.editor.setContents(JSON.parse(this.local_data.points.edit.point_content))),console.log("rich text init")},assignPointDataToLocalInstance:function(e){this.editedPoint.id=this.local_data.points.edit.id,this.editedPoint.point_x=this.local_data.points.edit.point_x,this.editedPoint.point_y=this.local_data.points.edit.point_y,this.editedPoint.point_title=this.local_data.points.edit.point_title,this.editedPoint.point_slug=this.local_data.points.edit.point_slug,this.editedPoint.point_content=this.local_data.points.edit.point_content,this.editedPoint.point_lede=this.local_data.points.edit.point_lede,this.editedPoint.artwork_context=this.local_data.points.edit.artwork_context,this.editedPoint.zoom_value=this.local_data.points.edit.zoom_value,this.editedPoint.scale_value=this.local_data.points.edit.scale_value,this.editedPoint.point_image=this.local_data.points.edit.point_image}}),mounted:function(){var e=this;this.emitter.on("triggerEditPoint",(function(){console.log("assign local point data:"),e.assignPointDataToLocalInstance(),e.initRichText(),$("#editArtPoint").modal("show"),console.log("event heard")}))},components:{MiniLoader:on["a"]}};n("82c6");const Cn=F()(Vn,[["render",xn]]);var Pn=Cn,Bn={computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(d["d"])("art",["viewer","loaded","imgShell","art_validation"])),Object(d["d"])("point",["local_data","modes","validation"])),Object(d["d"])("sidebar",["open"])),watch:{"local_data.points.all":function(){this.resetOverlays()},"modes.new":function(e){this.viewer.zoomPerClick=e?1:2}},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(d["c"])("art",["initCanvas"])),Object(d["c"])("point",["setNewPointCoords","setEditingPoint","setEditCaptureThumb"])),Object(d["b"])("point",["getPoints"])),Object(d["b"])("art",["preloadArtCanvas"])),{},{resetZoom:function(){console.log(this.viewer),this.viewer.viewport.goHome(!1)},resetOverlays:function(){var e=this;this.viewer.clearOverlays(),this.local_data.points.all&&this.local_data.points.all.forEach((function(t){var n=document.createElement("span");n.id=String(t.id),n.className="osdOverlayWrap";var a={element:n,placement:"CENTER",checkResize:!1,location:new L.a.Point(Number(t.point_x),Number(t.point_y))};e.viewer.addOverlay(a)})),this.emitter.emit("overlayResetOcurred")},revertToNormalViewerMode:function(e){this.setEditingPoint(!1),this.setEditCaptureThumb(!1),this.emitter.emit("clearEdit")},handleEditModeInteraction:function(e){},initCanvasClicks:function(){this.viewer.addViewerInputHook({hooks:[{tracker:"viewer",handler:"dragHandler",hookHandler:this.revertToNormalViewerMode},{tracker:"viewer",handler:"clickHandler",hookHandler:this.handleEditModeInteraction}]})},clearTemporaryPin:function(){var e=document.getElementById("new-pin");e&&this.viewer.removeOverlay(e)}}),mounted:function(){var e=this;this.emitter.on("cancelAnyNewPoint",(function(){e.resetOverlays()})),this.emitter.on("artworkHasLoaded",(function(){e.getPoints(e),setTimeout((function(){e.viewer.preserveImageSizeOnResize=!0}),1e3)}))},components:{Loader:Ne["a"],NewPointButton:Le,NewPointImageGrab:wt,NewPointModal:rn,EditPointModal:Pn,EditPointImageGrab:Mt}};n("e92b");const Sn=F()(Bn,[["render",Ee]]);var Dn=Sn,Tn={class:"modal fade",id:"deletePoint",tabindex:"-1",role:"dialog","aria-labelledby":"newArtmap","aria-hidden":"true"},An={class:"modal-dialog",role:"document"},Mn={class:"modal-content"},In={class:"modal-header"},Ln={key:0},Hn=Object(i["createTextVNode"])("Are you sure that you want to delete "),zn={class:"inline_highlight"},$n={class:"modal-body"};function Fn(e,t,n,a,o,c){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Tn,[Object(i["createElementVNode"])("div",An,[Object(i["createElementVNode"])("div",Mn,[Object(i["createElementVNode"])("div",In,[e.local_data.points.delete?(Object(i["openBlock"])(),Object(i["createElementBlock"])("h2",Ln,[Hn,Object(i["createElementVNode"])("span",zn,Object(i["toDisplayString"])(e.local_data.points.delete.point_title)+"?",1)])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",$n,[Object(i["createElementVNode"])("button",{class:"toggle_editMode btn btn-primary artmap-primary",onClick:t[0]||(t[0]=function(){return c.deleteSelectedPoint&&c.deleteSelectedPoint.apply(c,arguments)})},"Delete"),Object(i["createElementVNode"])("button",{class:"toggle_editMode btn btn-primary artmap-primary",onClick:t[1]||(t[1]=function(){return c.hideDeleteAlert&&c.hideDeleteAlert.apply(c,arguments)})},"Cancel")])])])])}var Rn={computed:Object(s["a"])(Object(s["a"])({},Object(d["d"])("point",["local_data"])),Object(d["d"])("art",["viewer"])),methods:Object(s["a"])(Object(s["a"])({},Object(d["b"])("point",["deletePoint"])),{},{deleteSelectedPoint:function(){var e={vm:this,id:this.local_data.points.delete.id};this.deletePoint(e),this.emitter.emit("clearEdit")},hideDeleteAlert:function(){$("#deletePoint").modal("hide")}})};const Zn=F()(Rn,[["render",Fn]]);var Xn=Zn,Yn={class:"modal fade",id:"deleteArtwork",tabindex:"-1",role:"dialog","aria-labelledby":"newArtmap","aria-hidden":"true"},Un={class:"modal-dialog",role:"document"},Wn={class:"modal-content"},Gn={key:0,class:"modal-body"},Jn=Object(i["createTextVNode"])("Are you sure that you want to delete "),Qn={class:"inline_highlight"},qn=Object(i["createElementVNode"])("p",null,"You won't be able to recover this artwork after you've deleted it.",-1),Kn={class:"modal-footer"},ea=Object(i["createElementVNode"])("div",{class:"modal-backdrop fade show"},null,-1);function ta(e,t,n,a,o,c){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Yn,[Object(i["createElementVNode"])("div",Un,[Object(i["createElementVNode"])("div",Wn,[e.art_data.art?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Gn,[Object(i["createElementVNode"])("h1",null,[Jn,Object(i["createElementVNode"])("span",Qn,Object(i["toDisplayString"])(e.art_data.art.artwork_title)+"?",1)]),qn])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",Kn,[Object(i["createElementVNode"])("button",{class:"toggle_editMode btn btn-danger",onClick:t[0]||(t[0]=function(){return c.deleteSelectedArt&&c.deleteSelectedArt.apply(c,arguments)})},"Delete"),Object(i["createElementVNode"])("button",{class:"toggle_editMode btn btn-secondary",onClick:t[1]||(t[1]=function(){return c.hideDeleteAlert&&c.hideDeleteAlert.apply(c,arguments)})},"Cancel")])])]),ea])}var na={computed:Object(s["a"])({},Object(d["d"])("art",["art_data"])),methods:Object(s["a"])(Object(s["a"])({},Object(d["b"])("art",["deleteArt"])),{},{deleteSelectedArt:function(){var e={vm:this,id:this.art_data.art.id};this.deleteArt(e)},hideDeleteAlert:function(){$("#deleteArtwork").modal("hide")}})};const aa=F()(na,[["render",ta]]);var oa=aa,ia=(n("5377"),function(e){return Object(i["pushScopeId"])("data-v-abafd954"),e=e(),Object(i["popScopeId"])(),e}),ca={class:"modal fade",id:"publishModal",tabindex:"-1",role:"dialog","aria-labelledby":"newArtmap","aria-hidden":"true"},la={class:"modal-dialog",role:"document"},ra={class:"modal-content"},sa={class:"modal-body"},da={key:0,class:"publish-options-view"},ua=ia((function(){return Object(i["createElementVNode"])("div",{class:"row"},[Object(i["createElementVNode"])("div",{class:"col-sm-12"},[Object(i["createElementVNode"])("h2",{class:"settings-section-title"},"Settings")])],-1)})),ma={class:"row artwork-details"},pa={class:"col-sm-12"},ha=ia((function(){return Object(i["createElementVNode"])("label",null,"Artwork Details",-1)})),ba={class:"form-group"},fa=ia((function(){return Object(i["createElementVNode"])("small",{id:"imageHelp",class:"form-text text-muted"},"Title:",-1)})),va={class:"form-group"},_a=ia((function(){return Object(i["createElementVNode"])("small",{id:"imageHelp",class:"form-text text-muted"},"Accession Number:",-1)})),ga={class:"form-group"},ja=ia((function(){return Object(i["createElementVNode"])("small",{id:"imageHelp",class:"form-text text-muted"},"Date Created:",-1)})),Oa={class:"form-group"},wa=ia((function(){return Object(i["createElementVNode"])("small",{id:"imageHelp",class:"form-text text-muted"},"Medium:",-1)})),ka={class:"form-group"},ya=ia((function(){return Object(i["createElementVNode"])("small",{id:"imageHelp",class:"form-text text-muted"},"Dimensions:",-1)})),Ea={class:"form-group"},Na=ia((function(){return Object(i["createElementVNode"])("small",{id:"imageHelp",class:"form-text text-muted"},"Credit:",-1)})),xa={class:"form-group autocomplete-group"},Va={style:{display:"none"}},Ca=ia((function(){return Object(i["createElementVNode"])("small",{id:"imageHelp",class:"form-text text-muted"},"Artist:",-1)})),Pa={class:"auto-complete-input"},Ba={key:0,class:"new-obj-indicator"},Sa={key:1,class:"auto-complete-list"},Da=["onClick"],Ta={class:"col-sm-12"},Aa={class:"form-group"},Ma=ia((function(){return Object(i["createElementVNode"])("small",{id:"imageHelp",class:"form-text text-muted"},"Artwork URL:",-1)})),Ia=["value"],La=Object(i["createTextVNode"])("Copy!"),Ha=[La],za={class:"col-sm-12"},$a={class:"form-group"},Fa=ia((function(){return Object(i["createElementVNode"])("small",{id:"imageHelp",class:"form-text text-muted"},"Artwork DLCS IIIF UUID:",-1)})),Ra=["value"],Za={class:"row artwork"},Xa={class:"col-sm-12"},Ya=ia((function(){return Object(i["createElementVNode"])("label",null,"Collections",-1)})),Ua={class:"form-group autocomplete-group collections-field"},Wa=ia((function(){return Object(i["createElementVNode"])("small",{id:"imageHelp",class:"form-text text-muted"},"Type the name of a new or existing collection:",-1)})),Ga={class:"auto-complete-input"},Ja={key:0,class:"new-obj-indicator"},Qa={key:1,class:"auto-complete-list"},qa=["onClick"],Ka={key:0},eo=ia((function(){return Object(i["createElementVNode"])("small",{class:"form-text text-muted"},"About this Collection",-1)})),to=ia((function(){return Object(i["createElementVNode"])("small",{class:"form-text text-muted"},"External Link",-1)})),no={key:1,class:"existing_collections"},ao=["onClick"],oo=ia((function(){return Object(i["createElementVNode"])("span",{class:"oi oi-circle-x"},null,-1)})),io={class:"row artwork meta-data"},co={class:"col-sm-12"},lo=ia((function(){return Object(i["createElementVNode"])("label",null,"Artmap Meta Tags",-1)})),ro={class:"form-group"},so=ia((function(){return Object(i["createElementVNode"])("small",{id:"imageHelp",class:"form-text text-muted"},"Title used in Shared Posts on Facebook & Twitter:",-1)})),uo={class:"col-sm-12"},mo={class:"form-group"},po=ia((function(){return Object(i["createElementVNode"])("small",{id:"imageHelp",class:"form-text text-muted"},"Description used in Shared Posts on Facebook & Twitter:",-1)})),ho={key:0,class:"modal-footer"},bo=["disabled"],fo=["disabled"],vo=ia((function(){return Object(i["createElementVNode"])("div",{class:"modal-backdrop fade show"},null,-1)}));function _o(e,t,n,a,o,c){var l=Object(i["resolveDirective"])("clipboard");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ca,[Object(i["createElementVNode"])("div",la,[Object(i["createElementVNode"])("div",ra,[Object(i["createElementVNode"])("div",sa,[e.art_data.art&&e.art_data.artist?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",da,[ua,Object(i["createElementVNode"])("div",ma,[Object(i["createElementVNode"])("div",pa,[ha,Object(i["createElementVNode"])("div",ba,[fa,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{class:"form-control",type:"text",id:"art_title",placeholder:"Title...","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.artwork_title=e})},null,512),[[i["vModelText"],c.artwork_title]])]),Object(i["createElementVNode"])("div",va,[_a,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{class:"form-control",type:"text",id:"art_accession",placeholder:"Accession Number...","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.accession_number=e})},null,512),[[i["vModelText"],c.accession_number]])]),Object(i["createElementVNode"])("div",ga,[ja,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{class:"form-control",type:"text",id:"art_date",placeholder:"Date...","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.artwork_creation_date=e})},null,512),[[i["vModelText"],c.artwork_creation_date]])]),Object(i["createElementVNode"])("div",Oa,[wa,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{class:"form-control",type:"text",id:"art_medium",placeholder:"Medium...","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.artwork_medium=e})},null,512),[[i["vModelText"],c.artwork_medium]])]),Object(i["createElementVNode"])("div",ka,[ya,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{class:"form-control",type:"text",id:"art_dimensions",placeholder:"Dimensions...","onUpdate:modelValue":t[4]||(t[4]=function(e){return c.artwork_dimensions=e})},null,512),[[i["vModelText"],c.artwork_dimensions]])]),Object(i["createElementVNode"])("div",Ea,[Na,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{class:"form-control",type:"text",id:"art_credit",placeholder:"Credit...","onUpdate:modelValue":t[5]||(t[5]=function(e){return c.artwork_credit=e})},null,512),[[i["vModelText"],c.artwork_credit]])]),Object(i["createElementVNode"])("div",xa,[Object(i["createElementVNode"])("p",Va,Object(i["toDisplayString"])(c.artist_name),1),Ca,Object(i["createElementVNode"])("div",Pa,[Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"Search for an existing artist or add a new one",onKeydown:t[6]||(t[6]=function(e){return o.flags.autocomplete_selections.artist=!1}),onClick:t[7]||(t[7]=function(e){return o.flags.autocomplete_selections.artist=!1}),"onUpdate:modelValue":t[8]||(t[8]=function(e){return o.local_input.artist_name=e})},null,544),[[i["vModelText"],o.local_input.artist_name]]),o.new_artist.artist_name?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ba,"New Artist")):Object(i["createCommentVNode"])("",!0),o.autocompletes.artists?(Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",Sa,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(o.autocompletes.artists,(function(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{key:t,onClick:function(t){return c.autoCompleteSelectArtist("artist",e,"artist_name")}},Object(i["toDisplayString"])(e.artist_name),9,Da)})),128))])):Object(i["createCommentVNode"])("",!0)])])]),Object(i["createElementVNode"])("div",Ta,[Object(i["createElementVNode"])("div",Aa,[Ma,o.dialog?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:"copyable-input",onClick:t[10]||(t[10]=function(e){return c.openUrl(o.dialog.art_url_root+c.artwork_slug+"/")})},[Object(i["createElementVNode"])("input",{class:"form-control",id:"artwork_url_input",value:o.dialog.art_url_root+c.artwork_slug,disabled:"true"},null,8,Ia),Object(i["withDirectives"])(Object(i["createElementVNode"])("button",{class:"btn btn-secondary btn-copy",type:"button",onClick:t[9]||(t[9]=Object(i["withModifiers"])((function(){}),["stop"]))},Ha,512),[[l,o.dialog.art_url_root+c.artwork_slug,"copy"]])])):Object(i["createCommentVNode"])("",!0)])]),Object(i["createElementVNode"])("div",za,[Object(i["createElementVNode"])("div",$a,[Fa,o.dialog?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,onClick:t[11]||(t[11]=function(e){return c.openUrl("https://portal.dlc.services/Image.aspx?space=2&image=".concat(c.artwork_iiif_uuid))})},[Object(i["createElementVNode"])("input",{class:"form-control",id:"art_iiif",value:c.artwork_iiif_uuid,disabled:"true"},null,8,Ra)])):Object(i["createCommentVNode"])("",!0)])])]),Object(i["createElementVNode"])("div",Za,[Object(i["createElementVNode"])("div",Xa,[Ya,Object(i["createElementVNode"])("div",Ua,[Wa,Object(i["createElementVNode"])("div",Ga,[Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"Search for an existing collection or add a new one",onKeydown:t[12]||(t[12]=function(){return c.handleCollectionInputKeyDown&&c.handleCollectionInputKeyDown.apply(c,arguments)}),onClick:t[13]||(t[13]=function(e){return o.flags.autocomplete_selections.collection=!1}),"onUpdate:modelValue":t[14]||(t[14]=function(e){return o.local_input.collection_title=e})},null,544),[[i["vModelText"],o.local_input.collection_title]]),o.new_collection.collection_title?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ja,"New Collection")):Object(i["createCommentVNode"])("",!0),o.autocompletes.collections?(Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",Qa,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(o.autocompletes.collections,(function(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{key:t,onClick:function(t){return c.autoCompleteSelectCollection(e,"collection_title")}},Object(i["toDisplayString"])(e.collection_title),9,qa)})),128))])):Object(i["createCommentVNode"])("",!0)]),o.new_collection.collection_title?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ka,[eo,Object(i["withDirectives"])(Object(i["createElementVNode"])("textarea",{class:"form-control",placeholder:"Provide an optional description for this new collection...","onUpdate:modelValue":t[15]||(t[15]=function(e){return o.local_input.curatorial_statement=e})},null,512),[[i["vModelText"],o.local_input.curatorial_statement]]),to,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"Include an optional external link for this collection...","onUpdate:modelValue":t[16]||(t[16]=function(e){return o.local_input.external_link=e})},null,512),[[i["vModelText"],o.local_input.external_link]])])):Object(i["createCommentVNode"])("",!0),o.existing_collections?(Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",no,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(o.existing_collections,(function(e){return Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{key:e.id,onClick:function(t){return c.removeFromCollection(e.id)}},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.collection_title),1),oo],8,ao)})),128))])):Object(i["createCommentVNode"])("",!0)])])]),Object(i["createElementVNode"])("div",io,[Object(i["createElementVNode"])("div",co,[lo,Object(i["createElementVNode"])("div",ro,[so,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{class:"form-control",type:"text",id:"art_title",placeholder:"Facebook share title...","onUpdate:modelValue":t[17]||(t[17]=function(e){return c.og_title=e})},null,512),[[i["vModelText"],c.og_title]])])]),Object(i["createElementVNode"])("div",uo,[Object(i["createElementVNode"])("div",mo,[po,Object(i["withDirectives"])(Object(i["createElementVNode"])("textarea",{class:"form-control",type:"text",id:"art_title",placeholder:"Facebook share description..","onUpdate:modelValue":t[18]||(t[18]=function(e){return c.og_description=e})},null,512),[[i["vModelText"],c.og_description]])])])])])):Object(i["createCommentVNode"])("",!0)]),e.art_data.art?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ho,[Object(i["createElementVNode"])("button",{class:"toggle_editMode btn btn-primary artmap-primary",onClick:t[19]||(t[19]=function(e){return c.save(!1)})},"Save"),e.art_data.art.published?(Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:1,class:"toggle_editMode btn btn-warning",onClick:t[21]||(t[21]=function(){return c.unpublish&&c.unpublish.apply(c,arguments)}),disabled:!o.validForm},"Unpublish",8,fo)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:0,class:"toggle_editMode btn btn-success",onClick:t[20]||(t[20]=function(e){return c.save(!0)}),disabled:!o.validForm},"Save & Publish",8,bo)),Object(i["createElementVNode"])("button",{class:"toggle_editMode btn btn-secondary",onClick:t[22]||(t[22]=function(){return c.cancelEntry&&c.cancelEntry.apply(c,arguments)})},"Cancel"),Object(i["createElementVNode"])("button",{class:"btn btn-delete-artwork",onClick:t[23]||(t[23]=function(){return c.deleteThisArtwork&&c.deleteThisArtwork.apply(c,arguments)})},"Delete")])):Object(i["createCommentVNode"])("",!0)])]),vo])}n("4de4"),n("b64b"),n("1276");var go=n("9191"),jo=n("486e"),Oo=n("2ef0"),wo=n.n(Oo),ko={data:function(){return{index:1,dialog:{art_url_root:null,copy_message:"copy the url"},copyData:"this is the thing to copy",options:{artists:null,collections:null},autocompletes:{artists:null,collections:null},flags:{autocomplete_selections:{artist:!1,collection:!1}},new_artist:{artist_name:null},local_input:{artist_name:null,collection_title:null,curatorial_statement:null,external_link:null},new_collection:{collection_title:null,artworks:[]},selected_collection:null,existing_collections:null,local_data:{id:null,artwork_title:null,accession_number:null,artwork_creation_date:null,artist:null,description:null,credit:null,iiif_uuid:null,dimensions:null,medium:null,image_ref:null,artwork_slug:null,creation_date:null,updated_at:null,curator:null,published:null,pub_date:null,og_title:null,og_description:null},valid:{artwork_title:!1,artwork_creation_date:!1,artist_name:!1},validForm:!1,rt:{editor:null,options:{modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","link"]]},placeholder:"Compose an epic...",theme:"snow"}}}},computed:Object(s["a"])(Object(s["a"])({},Object(d["d"])("art",["art_data","art_data_revertable"])),{},{artwork_title:{get:function(){return this.$store.state.art.art_data.art.artwork_title},set:function(e){this.$store.state.art.art_data.art.artwork_title=e,this.$store.state.art.art_data.art.artwork_slug=e.replace(/[^A-Z0-9]+/gi,"-").toLowerCase().toLowerCase()}},artwork_credit:{get:function(){return this.$store.state.art.art_data.art.credit},set:function(e){this.$store.state.art.art_data.art.credit=e}},artwork_medium:{get:function(){return this.$store.state.art.art_data.art.medium},set:function(e){this.$store.state.art.art_data.art.medium=e}},artwork_dimensions:{get:function(){return this.$store.state.art.art_data.art.dimensions},set:function(e){this.$store.state.art.art_data.art.dimensions=e}},artwork_iiif_uuid:{get:function(){return this.$store.state.art.art_data.art.iiif_uuid},set:function(e){this.$store.state.art.art_data.art.iiif_uuid=e}},accession_number:{get:function(){return this.$store.state.art.art_data.art.accession_number},set:function(e){this.$store.state.art.art_data.art.accession_number=e}},artwork_creation_date:{get:function(){return this.$store.state.art.art_data.art.artwork_creation_date},set:function(e){this.$store.state.art.art_data.art.artwork_creation_date=e}},artwork_slug:{get:function(){return this.$store.state.art.art_data.art.artwork_title.replace(/[^A-Z0-9]+/gi,"-").toLowerCase().toLowerCase()},set:function(e){this.$store.state.art.art_data.art.artwork_slug=e}},artist_name:{get:function(){this.local_input.artist_name=this.$store.state.art.art_data.artist.artist_name},set:function(e){this.local_input.artist_name=e}},image_ref:{get:function(){return this.$store.state.art.art_data.art.image_ref},set:function(e){this.$store.state.art.art_data.art.image_ref=e}},og_title:{get:function(){return this.$store.state.art.art_data.art.og_title},set:function(e){this.$store.state.art.art_data.art.og_title=e}},og_description:{get:function(){return this.$store.state.art.art_data.art.og_description},set:function(e){this.$store.state.art.art_data.art.og_description=e}}}),watch:{"art_data.art.artwork_title":function(e){Object(jo["a"])("artwork_title",e,this),this.submissionCheck()},"art_data.art.artwork_creation_date":function(e){Object(jo["a"])("artwork_creation_date",e,this),this.submissionCheck()},"local_input.artist_name":function(e){var t;this.flags.autocomplete_selections.artist?(this.autocompletes.artists=null,this.new_artist.artist_name=null):e?(t=wo.a.filter(this.options.artists,(function(t){return t.artist_name.toLowerCase().indexOf(e.toLowerCase())>-1})),t.length>0?(this.autocompletes.artists=t,1===this.autocompletes.artists.length&&this.autocompletes.artists[0].artist_name===e&&(this.autocompletes.artists=null,this.new_artist.artist_name=null)):(this.autocompletes.artists=null,this.new_artist.artist_name=e)):(this.autocompletes.artists=null,this.new_artist.artist_name=null),Object(jo["a"])("artist_name",e,this),this.submissionCheck()},"local_input.collection_title":function(e){var t;this.flags.autocomplete_selections.collection?(this.autocompletes.collections=null,this.new_collection.collection_title=null):e?(t=wo.a.filter(this.options.collections,(function(t){return t.collection_title.toLowerCase().indexOf(e.toLowerCase())>-1})),t.length>0?this.autocompletes.collections=t:(this.autocompletes.collections=null,this.new_collection.collection_title=e)):(this.autocompletes.collections=null,this.new_collection.collection_title=null)}},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(d["c"])("art",["revert","setArtData","setArtDescription","callSuccessAlert","setArtsArtistId","setArtsPublishState","setDeleteCandidate"])),Object(d["b"])("art",["getArtistData"])),{},{openUrl:function(e){window.open(e)},save:function(e){var t=this,n=this;this.new_artist.artist_name||this.new_collection.collection_title?this.new_artist.artist_name&&this.new_collection.collection_title?this.saveNewArtistFirst((function(a){n.art_data.art.artist=a.data.id,n.saveNewCollectionFirst((function(n){t.updateArtwork(!0,n.data.id,e)}))})):this.new_artist.artist_name?this.saveNewArtistFirst((function(a){n.setArtsArtistId(a.data.id),t.updateArtwork(!1,"",e)})):this.new_collection.collection_title&&this.saveNewCollectionFirst((function(t){n.updateArtwork(!0,t.data.id,e)})):this.updateArtwork(!1,"",e)},submissionCheck:function(){var e=0,t=Object.keys(this.valid).length;for(var n in this.valid)this.valid[n]&&e++;this.validForm=e===t},handleCollectionInputKeyDown:function(){this.flags.autocomplete_selections.collection=!1,this.selected_collection=null},autoCompleteSelectCollection:function(e,t){this.flags.autocomplete_selections.collection=!0,this.selected_collection=e.id,this.local_input[t]=e[t]},autoCompleteSelectArtist:function(e,t,n){this.flags.autocomplete_selections.artist=!0,this.art_data.art[e]=t.id,this.local_input[n]=t[n]},handlerL:function(){this.showTips=!1},handleSelection:function(e){this.index=e},saveNewArtistFirst:function(e){go["b"].post("artists/",this.new_artist,{headers:{"X-CSRFToken":window.csrf}}).then((function(t){e(t)}),(function(e){console.log(e)}))},saveNewCollectionFirst:function(e){this.new_collection["curator"]=Number(window.user_id),this.new_collection["curator_id"]=Number(window.user_id),this.new_collection["collection_slug"]=this.new_collection.collection_title.replace(/[^A-Z0-9]+/gi,"-").toLowerCase().toLowerCase(),this.new_collection["curatorial_statement"]=this.local_input.curatorial_statement,this.new_collection["external_link"]=this.local_input.external_link,go["b"].post("artcollections/",this.new_collection,{headers:{"X-CSRFToken":window.csrf}}).then((function(t){e(t)}),(function(e){console.log(e)}))},addArtToCollection:function(e,t){var n,a=this;go["b"].get("artcollections/".concat(e,"/"),{headers:{"X-CSRFToken":window.csrf}}).then((function(o){n=o.data,n.artworks.push(t.id),go["b"].put("artcollections/".concat(e,"/"),n,{headers:{"X-CSRFToken":window.csrf}}).then((function(e){a.handleUpdateSuccess(t)}),(function(e){console.log(e)}))}),(function(e){console.log(e)}))},unpublish:function(){var e=this;this.setArtsPublishState(!1),go["b"].put("art/".concat(window.art_id,"/"),this.art_data.art,{headers:{"X-CSRFToken":window.csrf}}).then((function(t){e.handleUpdateSuccess(t.data)}),(function(e){console.log(e)}))},updateArtwork:function(e,t,n){var a=this,o=this;console.log(this.art_data.art),n&&this.setArtsPublishState(n),go["b"].put("art/".concat(window.art_id,"/"),this.art_data.art,{headers:{"X-CSRFToken":window.csrf}}).then((function(n){e?a.addArtToCollection(t,n.data):a.selected_collection?a.addArtToCollection(o.selected_collection,n.data):a.handleUpdateSuccess(n.data)}),(function(e){console.log(e)}))},handleUpdateSuccess:function(e){this.setArtData(e);var t="/art/".concat(e.artwork_slug);history.replaceState({},null,t);var n={m:"".concat(e.artwork_title," was successfully updated."),hideDelay:3500};this.callSuccessAlert(n),this.getArtistData(e.artist),this.getThisArtworksCollections(),$("#publishModal").modal("hide")},deleteThisArtwork:function(){$("#deleteArtwork").modal("show")},cancelEntry:function(){$("#publishModal").modal("hide"),this.revert()},getArtists:function(){var e=this;go["b"].get("artists/").then((function(t){e.options.artists=t.data}),(function(e){console.log(e)}))},getCollections:function(){var e=this;go["b"].get("artcollections/").then((function(t){e.options.collections=t.data}),(function(e){console.log(e)}))},getThisArtworksCollections:function(){var e=this;go["b"].get("artcollections/?artwork=".concat(window.art_id)).then((function(t){e.existing_collections=t.data,e.local_input.collection_title=null,e.new_collection.collection_title=null,e.selected_collection=null}),(function(e){console.log(e)}))},removeFromCollection:function(e){var t=this;go["b"].get("artcollections/".concat(e,"/")).then((function(n){var a=n.data,o=n.data.artworks,i=o.filter((function(e){return e!==window.art_id}));a.artworks=i,go["b"].put("artcollections/".concat(e,"/"),a,{headers:{"X-CSRFToken":window.csrf}}).then((function(e){t.getThisArtworksCollections()}),(function(e){console.log(e)}))}),(function(e){console.log(e)}))}}),updated:function(){this.submissionCheck()},mounted:function(){this.dialog.art_url_root=String(go["b"].defaults.baseURL).split("api")[0]+"gallery/",this.getArtists(),this.getCollections(),this.getThisArtworksCollections()}};n("7d3e");const yo=F()(ko,[["render",_o],["__scopeId","data-v-abafd954"]]);var Eo=yo,No=function(e){return Object(i["pushScopeId"])("data-v-7f53d5eb"),e=e(),Object(i["popScopeId"])(),e},xo={id:"artmapper-navigation"},Vo={class:"main-nav-items"},Co=No((function(){return Object(i["createElementVNode"])("i",{class:"material-icons"},"",-1)})),Po=[Co],Bo={key:0,class:"art_title_item"},So={key:0,class:"artwork_title"},Do={key:1,class:"artwork_title"},To={key:2,class:"artist_name"},Ao={key:1,class:"art_title_item"},Mo={class:"artwork_title"},Io={key:0,class:"utility-nav-items"},Lo={key:0,class:"published_state"},Ho=No((function(){return Object(i["createElementVNode"])("span",{class:"badge badge-published"},"Published",-1)})),zo=[Ho],$o={key:1,class:"published_state"},Fo=No((function(){return Object(i["createElementVNode"])("span",{class:"badge badge-unpublished"},"Unpublished",-1)})),Ro=[Fo],Zo=No((function(){return Object(i["createElementVNode"])("i",{class:"fa fa-sliders","aria-hidden":"true"},null,-1)})),Xo=[Zo];function Yo(e,t,n,a,o,c){var l=Object(i["resolveComponent"])("MiniLoader"),r=Object(i["resolveComponent"])("Preview");return Object(i["openBlock"])(),Object(i["createElementBlock"])("nav",xo,[Object(i["createElementVNode"])("ul",Vo,[Object(i["createElementVNode"])("li",{class:"backBtn",onClick:t[0]||(t[0]=function(){return c.goBack&&c.goBack.apply(c,arguments)})},Po),e.art_data.art&&e.art_data.artist?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Bo,[e.art_data.art.artwork_title?(Object(i["openBlock"])(),Object(i["createElementBlock"])("h1",So,Object(i["toDisplayString"])(e.art_data.art.artwork_title),1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("h1",Do,"...")),e.art_data.artist?(Object(i["openBlock"])(),Object(i["createElementBlock"])("h3",To,Object(i["toDisplayString"])(e.art_data.artist.artist_name),1)):Object(i["createCommentVNode"])("",!0)])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Ao,[Object(i["createElementVNode"])("h1",Mo,[Object(i["createVNode"])(l)])]))]),e.art_data.art?(Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",Io,[e.art_data.art.published?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Lo,zo)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",$o,Ro)),Object(i["createElementVNode"])("li",{onClick:t[1]||(t[1]=function(){return c.preview&&c.preview.apply(c,arguments)})},[Object(i["createVNode"])(r)]),Object(i["createElementVNode"])("li",{onClick:t[2]||(t[2]=function(){return c.settings&&c.settings.apply(c,arguments)})},Xo)])):Object(i["createCommentVNode"])("",!0)])}var Uo={class:"icon preview"},Wo=Object(i["createStaticVNode"])('<svg id="preview-icon" xmlns="http://www.w3.org/2000/svg" viewBox="5664 577.505 47.842 25.99"><g id="Symbol_4_1" data-name="Symbol 4 – 1" transform="translate(4075 544)"><g id="Path_12" data-name="Path 12" class="cls-1" transform="translate(1589 33.505)"><path class="cls-3" d="M23.911,0C37.117,0,48.369,13.688,47.822,13s-10.705,13-23.911,13S-.065,13,0,13,10.705,0,23.911,0Z"></path><path class="cls-4" d="M 23.91109466552734 23.99031448364258 C 27.85291481018066 23.99031448364258 32.00706481933594 22.60873603820801 36.25813293457031 19.88395500183105 C 39.88109588623047 17.56177520751953 42.78660583496094 14.77086544036865 44.5225944519043 13.10334491729736 C 44.64138031005859 12.98924446105957 44.75457763671875 12.88051128387451 44.86300277709961 12.7767505645752 C 43.5113639831543 11.41405582427979 41.46485900878906 9.521152496337891 38.92094421386719 7.689895153045654 C 36.57654571533203 6.002255439758301 34.2236328125 4.666425228118896 31.92757415771484 3.719505310058594 C 29.16097450256348 2.578525304794312 26.46383476257324 2.00000524520874 23.91109466552734 2.00000524520874 C 21.32608413696289 2.00000524520874 18.62769508361816 2.559905290603638 15.89088439941406 3.664145231246948 C 13.61526393890381 4.582315444946289 11.29912376403809 5.880325317382812 9.006824493408203 7.522135257720947 C 6.810440063476562 9.095248222351074 4.610257148742676 11.01439666748047 2.692478179931641 13.02137470245361 C 3.849779844284058 14.24428462982178 5.897483825683594 16.23858261108398 8.625324249267578 18.22599601745605 C 10.96356391906738 19.92955589294434 13.33132457733154 21.28008460998535 15.66284465789795 22.24007606506348 C 18.48348426818848 23.40144538879395 21.25859451293945 23.99031448364258 23.91109466552734 23.99031448364258 M 23.91109466552734 25.99031448364258 C 10.70537376403809 25.99031448364258 -0.06496581435203552 13.00460529327393 1.418762167304521e-05 12.99515533447266 C 0.06498418748378754 12.98570537567139 10.70537376403809 5.334472461981932e-06 23.91109466552734 5.334472461981932e-06 C 36.36078262329102 5.334472461981932e-06 47.07411956787109 12.16586971282959 47.80192565917969 12.97813320159912 C 47.79130935668945 12.97250175476074 47.77866363525391 12.96969509124756 47.76420211791992 12.96969509124756 C 46.77252960205078 12.96969509124756 36.79119491577148 25.99031448364258 23.91109466552734 25.99031448364258 Z M 47.84125137329102 13.02061557769775 C 47.84025573730469 13.02061557769775 47.82704162597656 13.0061616897583 47.80192565917969 12.97813320159912 C 47.80971908569336 12.98226547241211 47.81647872924805 12.98792171478271 47.82218551635742 12.99515533447266 C 47.83569717407227 13.01228809356689 47.84200668334961 13.02061557769775 47.84125137329102 13.02061557769775 Z"></path></g><g id="Ellipse_30" data-name="Ellipse 30" class="cls-2" transform="translate(1604 38)"><circle class="cls-3" cx="8.5" cy="8.5" r="8.5"></circle><circle class="cls-5" cx="8.5" cy="8.5" r="7.5"></circle></g></g></svg>',1),Go=[Wo];function Jo(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Uo,Go)}const Qo={},qo=F()(Qo,[["render",Jo]]);var Ko=qo,ei=["innerHTML"];function ti(e,t,n,a,o,c){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"icon publish",innerHTML:o.PublishIcon},null,8,ei)}var ni=n("7526"),ai=n.n(ni),oi={data:function(){return{PublishIcon:ai.a}}};const ii=F()(oi,[["render",ti]]);var ci=ii,li={data:function(){return{preview_url:window.preview_url?window.preview_url:null}},computed:Object(s["a"])({},Object(d["d"])("art",["art_data"])),methods:Object(s["a"])(Object(s["a"])({},Object(d["c"])("art",["setArtmapPreviewState"])),{},{goBack:function(){window.location.href="/"},preview:function(){window.location.href=this.preview_url},settings:function(){$("#publishModal").modal("show")}}),components:{Preview:Ko,Publish:ci,MiniLoader:on["a"]}};n("e59a");const ri=F()(li,[["render",Yo],["__scopeId","data-v-7f53d5eb"]]);var si=ri,di={data:function(){return{state:null}},name:"artmapper",computed:Object(s["a"])({},Object(d["d"])("art",["preview_state","viewer"])),methods:Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(d["b"])("art",["getArtData","getArtistData","getIIIFAsset"])),Object(d["c"])("art",["initCanvas","artmapHasLoaded"])),Object(d["b"])("point",["getPoints"])),{},{preloadArtCanvas:function(){var e=this,t=setInterval((function(){if(e.viewer){var n=e.viewer.world.getItemAt(0);if(n){var a=n.getFullyLoaded();a&&(e.artmapHasLoaded(e),clearInterval(t))}}}),500)},createArtmap:function(){var e=this;this.getArtData(this).then((function(t){e.getArtistData(t.data.artist),e.getIIIFAsset(t.data.iiif_uuid).then((function(t){e.getPoints().then((function(t){e.initCanvas()})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}}),created:function(){this.preloadArtCanvas(),this.createArtmap(null)},components:{ArtCanvas:Dn,SideBar:je,DeleteModal:Xn,DeleteArtworkModal:oa,Navigation:si,PublishModal:Eo}};n("bcaf");const ui=F()(di,[["render",r]]);var mi=ui,pi=n("4360");Object(a["a"])(mi,pi["b"],o["a"],"#editor")},9114:function(e,t,n){"use strict";n("4b99")},9145:function(e,t,n){},9191:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var a=n("bc3a"),o=n.n(a),i="http://127.0.0.1:8000/";i="https://artnav.terraamericanart.org/";var c=o.a.create({baseURL:"".concat(i,"api/")}),l="https://conversations.terraamericanart.org/api/v1/artworks/"},9288:function(e,t,n){},9408:function(e,t,n){},"98b7":function(e,t,n){"use strict";n("54c6")},"9fbf":function(e,t,n){},a0c6:function(e,t,n){},a421:function(e,t,n){"use strict";var a=n("7a23"),o={class:"mini-loader_wrap"};function i(e,t,n,i,c,l){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",o,[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["sp-3balls",n.colorClass]),style:Object(a["normalizeStyle"])(n.additionalStyles)},null,6)])}var c={props:["colorClass","additionalStyles"]},l=(n("4eb9"),n("6b0d")),r=n.n(l);const s=r()(c,[["render",i]]);t["a"]=s},a605:function(e,t,n){},a759:function(e,t,n){"use strict";n("0d01")},b014:function(e,t,n){},b1ba:function(e,t,n){},bcaf:function(e,t,n){"use strict";n("fdd9")},c010:function(e,t,n){"use strict";n("0b20")},c10b:function(e,t,n){"use strict";n("c8a6")},c86c:function(e,t,n){},c8a6:function(e,t,n){},d500:function(e,t,n){},d5ae:function(e,t,n){"use strict";n("eea7")},d7dc:function(e,t,n){"use strict";n("a0c6")},da16:function(e,t,n){"use strict";n("b014")},dfc1:function(e,t,n){},e59a:function(e,t,n){"use strict";n("d500")},e5f3:function(e,t,n){},e6b9:function(e,t,n){"use strict";var a=n("6c02"),o=n("f498"),i=[{path:"/:pointSlug",name:"point",component:o["a"]},{path:"/",name:"base",component:o["a"]}],c=Object(a["a"])({history:Object(a["b"])(),routes:i});t["a"]=c},e8d1:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("5530"),o=n("7a23"),i=n("1344"),c=n("6676"),l=function(e,t,n,l){var r=Object(i["a"])(),s=document.querySelector(l),d=Object(o["createApp"])(e,Object(a["a"])({},s.dataset));return d.config.globalProperties.emitter=r,t&&d.use(t),n&&d.use(n),d.use(c["a"],{autoSetContainer:!0,appendToBody:!0}),d.mount(l),d}},e92b:function(e,t,n){"use strict";n("027a")},e9fc:function(e,t,n){"use strict";n("fcf9")},eea7:function(e,t,n){},eef2:function(e,t,n){"use strict";n("f749")},f328:function(e,t,n){"use strict";n("9145")},f3b0:function(e,t,n){"use strict";n("15fd")},f498:function(e,t,n){"use strict";var a=n("7a23"),o={id:"artmap_container"},i=Object(a["createElementVNode"])("i",{class:"material-icons"},"",-1),c=Object(a["createTextVNode"])(" End Preview"),l=[i,c];function r(e,t,n,i,c,r){var s=this,d=Object(a["resolveComponent"])("Point"),u=Object(a["resolveComponent"])("Loader"),m=Object(a["resolveComponent"])("PointTray"),p=Object(a["resolveComponent"])("InfoTray"),h=Object(a["resolveComponent"])("MapCtrl"),b=Object(a["resolveComponent"])("MainMenuBtn"),f=Object(a["resolveComponent"])("DiscoverBtn"),v=Object(a["resolveComponent"])("TerraLogo"),_=Object(a["resolveComponent"])("MainMenu");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",o,[c.editor_url?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:0,class:"end_preview_btn",onClick:t[0]||(t[0]=function(){return r.endPreview&&r.endPreview.apply(r,arguments)})},l)):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(a["Transition"],{name:"art_loaded"},{default:Object(a["withCtx"])((function(){return[e.local_data.points?Object(a["withDirectives"])((Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:0,id:"artmapcanvas",class:Object(a["normalizeClass"])({menuOpen:s.toggles.main_menu})},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.local_data.points,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:"map_item"+e.id,id:e.id,point:e},null,8,["id","point"])})),128))],2)),[[a["vShow"],e.loaded]]):Object(a["createCommentVNode"])("",!0)]})),_:1}),Object(a["createVNode"])(a["Transition"],{name:"loader"},{default:Object(a["withCtx"])((function(){return[e.loaded?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:0}))]})),_:1}),Object(a["createVNode"])(m),Object(a["createVNode"])(p),Object(a["createVNode"])(h),Object(a["createVNode"])(b),Object(a["createVNode"])(f),e.loaded?(Object(a["openBlock"])(),Object(a["createBlock"])(v,{key:1})):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(_)])}var s=n("5530"),d=(n("4de4"),n("d3b7"),n("a9e3"),n("159b"),n("aa78")),u=n.n(d),m=n("5502"),p=n("1c6e"),h=["id"],b=Object(a["createElementVNode"])("svg",{class:"point_el",width:"34",height:"34"},[Object(a["createElementVNode"])("circle",{cx:"16",cy:"16",r:"15",transform:"",class:"outer"})],-1),f=[b];function v(e,t,n,o,i,c){return Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{class:Object(a["normalizeClass"])(["artmap_point",[{active:e.local_data.current_point===n.point},{ready:e.discover_mode}]]),id:n.point.id,onClick:t[0]||(t[0]=function(e){return c.handlePointClick(n.point.point_slug)})},f,10,h)}var _={props:["point"],computed:Object(s["a"])({},Object(m["d"])("artmap",["viewer","local_data","discover_mode"])),methods:Object(s["a"])(Object(s["a"])({},Object(m["c"])("artmap",["setInfoTrayClose","setInfoTrayOpen"])),{},{handlePointClick:function(e){this.local_data.current_point===this.point?(this.setInfoTrayClose(),this.$router.push({path:"/"})):this.$router.push(e)}})},g=(n("da16"),n("6b0d")),j=n.n(g);const O=j()(_,[["render",v]]);var w=O,k={id:"point_tray"},y={key:0,class:"point-tray-intro"},E={class:"artist-name"},N={class:"creation-date"},x=Object(a["createTextVNode"])("Explore the Artwork "),V=Object(a["createElementVNode"])("div",{id:"viewfinder-wrap"},[Object(a["createElementVNode"])("div",{id:"artmap-viewfinder"})],-1);function C(e,t,n,o,i,c){var l=Object(a["resolveComponent"])("TrayPoint"),r=Object(a["resolveComponent"])("DoubleArrow");return Object(a["withDirectives"])((Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:Object(a["normalizeClass"])(["point_tray_wrap",{open:i.open}])},[Object(a["createElementVNode"])("div",k,[e.local_data.artist&&e.local_data.art?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",y,[Object(a["createElementVNode"])("h1",null,Object(a["toDisplayString"])(e.local_data.art.artwork_title),1),Object(a["createElementVNode"])("p",E,"By "+Object(a["toDisplayString"])(e.local_data.artist.artist_name),1),Object(a["createElementVNode"])("p",N,"Created in "+Object(a["toDisplayString"])(e.local_data.art.artwork_creation_date),1)])):Object(a["createCommentVNode"])("",!0),e.local_data.points?(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],{key:1},Object(a["renderList"])(e.local_data.points,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])(l,{key:"tray_item_"+e.id,point:e},null,8,["point"])})),128)):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("span",{class:Object(a["normalizeClass"])(["sidebar_reveal",{open:i.open}]),onClick:t[0]||(t[0]=function(e){return i.open=!i.open})},[x,Object(a["createVNode"])(r,{class:"point_tray_reveal_btn"})],2),V],2)),[[a["vShow"],e.local_data.points&&e.local_data.points.length>0&&e.discover_mode]])}var P=["id"],B={class:"row"},S={class:"col-sm-3"},D={class:"col-sm-9 tray_point_text"};function T(e,t,n,o,i,c){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:Object(a["normalizeClass"])(["tray_item",{active:e.local_data.current_point===n.point}]),id:n.point.id,onClick:t[0]||(t[0]=function(){return c.goTo&&c.goTo.apply(c,arguments)})},[Object(a["createElementVNode"])("div",B,[Object(a["createElementVNode"])("div",S,[n.point.point_image?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:0,class:"point_thumb",style:Object(a["normalizeStyle"])("background-image:url("+n.point.point_image+");")},null,4)):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("div",D,[Object(a["createElementVNode"])("h2",null,Object(a["toDisplayString"])(n.point.point_title),1),Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(n.point.point_lede),1)])])],10,P)}n("cb29");var A=n("ff81"),M={props:["point"],computed:Object(s["a"])({},Object(m["d"])("artmap",["viewer","canvas","canvas_mask","local_data"])),methods:{goTo:function(){this.$router.push({path:"/".concat(this.point.point_slug)})},renderQHtml:function(e){var t=JSON.parse(e),n={},a=new A["QuillDeltaToHtmlConverter"](t.ops,n);return a.convert()},clearCanvas:function(){var e=this.canvas_mask[0].getContext("2d");e.clearRect(0,0,this.canvas_mask[0].width,this.canvas_mask[0].height)},locatePoint:function(){console.log(this.point);var e=new u.a.Point(this.point.x,this.point.y);this.viewer.viewport.panTo(e,!1)},returnToOriginalPosition:function(){if(this.local_data.current_point){var e=new u.a.Point(this.local_data.current_point.x,this.local_data.current_point.y),t=Number(this.local_data.current_point.zoom_value);this.viewer.viewport.zoomTo(t,!1),this.viewer.viewport.panTo(e,!1)}else this.viewer.viewport.goHome(!1)},locateMouse:function(e){if(this.clearCanvas(),!this.$route.params.artmap){var t=new u.a.Point(this.point.x,this.point.y),n=this.viewer.viewport.viewportToWindowCoordinates(t),a=this.canvas_mask[0].getContext("2d");a.beginPath(),a.moveTo(e.pageX,e.pageY),a.lineTo(n.x,n.y),a.stroke(),a.strokeStyle="#FFFFFF",a.arc(n.x,n.y,2,0,2*Math.PI),a.fillStyle="#FFFFFF",a.fill()}}}};n("9114");const I=j()(M,[["render",T]]);var L=I,H={class:"icon double-arrow-icon"},z=Object(a["createStaticVNode"])('<svg id="double-arrow-icon" xmlns="http://www.w3.org/2000/svg" viewBox="6131.196 1174.569 11.718 8.607"><g id="Symbol_8_1" data-name="Symbol 8 – 1" transform="translate(6112 567)"><g id="Group_5" data-name="Group 5" transform="translate(1043 -1217) rotate(90)"><path id="Path_17" data-name="Path 17" class="cls-1" d="M3699.276,1010.359l3.6-3.6,3.6,3.6" transform="translate(-1874 12.737)"></path><path id="Path_20" data-name="Path 20" class="cls-1" d="M3699.276,1010.359l3.6-3.6,3.6,3.6" transform="translate(-1874 6.737)"></path></g></g></svg>',1),$=[z];function F(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",H,$)}const R={},Z=j()(R,[["render",F]]);var X=Z,Y={data:function(){return{open:!1}},computed:Object(s["a"])({},Object(m["d"])("artmap",["local_data","discover_mode"])),components:{TrayPoint:L,DoubleArrow:X}};n("0e81a");const U=j()(Y,[["render",C]]);var W=U,G={key:0,id:"artmap_info_tray"},J={class:"info_tray_header row"},Q={class:"controls col-sm-2"},q=Object(a["createElementVNode"])("i",{class:"gmi-x material-icons"},"",-1),K=[q],ee={class:"next-prev"},te={class:"info-title col-sm-10"},ne={class:"info-tray-body row justify-content-end"},ae={class:"body-content-wrap col-sm-10"},oe=["innerHTML"];function ie(e,t,n,o,i,c){return Object(a["openBlock"])(),Object(a["createBlock"])(a["Transition"],{name:"info-tray"},{default:Object(a["withCtx"])((function(){return[e.local_data.current_point&&e.toggles.info_tray?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",G,[Object(a["createElementVNode"])("div",J,[Object(a["createElementVNode"])("div",Q,[Object(a["createElementVNode"])("div",{class:"close-tray",onClick:t[0]||(t[0]=function(){return c.closeAndLeave&&c.closeAndLeave.apply(c,arguments)})},K),Object(a["createElementVNode"])("div",ee,[c.prev?(Object(a["openBlock"])(),Object(a["createElementBlock"])("i",{key:0,class:"fa fa-angle-left",onClick:t[1]||(t[1]=function(e){return c.cycle("prev")})})):Object(a["createCommentVNode"])("",!0),c.next?(Object(a["openBlock"])(),Object(a["createElementBlock"])("i",{key:1,class:"fa fa-angle-right",onClick:t[2]||(t[2]=function(e){return c.cycle("next")})})):Object(a["createCommentVNode"])("",!0)])]),Object(a["createElementVNode"])("div",te,[Object(a["createElementVNode"])("h1",null,Object(a["toDisplayString"])(e.local_data.current_point.point_title),1)])]),Object(a["createElementVNode"])("div",ne,[Object(a["createElementVNode"])("div",ae,[Object(a["createElementVNode"])("p",{innerHTML:c.renderQHtml(e.local_data.current_point.point_content)},null,8,oe)])])])):Object(a["createCommentVNode"])("",!0)]})),_:1})}var ce={data:function(){return{currentPos:null}},computed:Object(s["a"])(Object(s["a"])({},Object(m["d"])("artmap",["local_data","toggles","viewer","point_cursor"])),{},{next:function(){if(this.local_data.current_point)return this.setCurrentPointIndex(),this.currentPos!==this.local_data.points.length-1},prev:function(){if(this.local_data.current_point)return this.setCurrentPointIndex(),0!==this.currentPos}}),methods:Object(s["a"])(Object(s["a"])({},Object(m["c"])("artmap",["setInfoTrayClose","setInfoTrayOpen"])),{},{renderQHtml:function(e){var t=JSON.parse(e),n={},a=new A["QuillDeltaToHtmlConverter"](t.ops,n);return a.convert()},closeAndLeave:function(){this.setInfoTrayClose(),this.$router.push({path:"/"})},setCurrentPointIndex:function(){var e=this,t=this.local_data.current_point.id;this.local_data.points.forEach((function(n,a){n.id===t&&(e.currentPos=a)}))},cycle:function(e){"prev"===e&&this.currentPos>0&&(this.currentPos-=1),"next"===e&&this.currentPos<this.local_data.points.length-1&&(this.currentPos+=1),this.$router.push({path:"/".concat(this.local_data.points[this.currentPos].point_slug)})}})};n("e9fc");const le=j()(ce,[["render",ie]]);var re=le,se={class:"map-ctrls"},de=Object(a["createElementVNode"])("i",{class:"material-icons"},"",-1),ue=[de],me={class:"zooms"},pe=Object(a["createElementVNode"])("i",{class:"material-icons"},"",-1),he=[pe],be=Object(a["createElementVNode"])("i",{class:"material-icons"},"",-1),fe=[be];function ve(e,t,n,o,i,c){return Object(a["withDirectives"])((Object(a["openBlock"])(),Object(a["createElementBlock"])("div",se,[Object(a["createElementVNode"])("span",{onClick:t[0]||(t[0]=function(t){return e.viewer.viewport.goHome(!1)}),class:"reset-btn",id:"reset"},ue),Object(a["createElementVNode"])("span",me,[Object(a["createElementVNode"])("span",{onClick:t[1]||(t[1]=function(e){return c.zoom(!0)}),class:"zoom-btn",id:"zoom-in"},he),Object(a["createElementVNode"])("span",{onClick:t[2]||(t[2]=function(e){return c.zoom(!1)}),class:"zoom-btn",id:"zoom-out"},fe)])],512)),[[a["vShow"],e.discover_mode]])}var _e={computed:Object(s["a"])({},Object(m["d"])("artmap",["viewer","discover_mode","osd"])),methods:{zoom:function(e){var t=Math.round(this.viewer.viewport.getZoom(!0));e?(t<this.osd.maxZoomLevel&&(t+=1),this.viewer.viewport.zoomTo(t,!1)):t>=3?(t-=1,this.viewer.viewport.zoomTo(t,!1)):t>=2&&this.viewer.viewport.goHome(!1)}}};n("eef2");const ge=j()(_e,[["render",ve]]);var je=ge,Oe=(n("b0c0"),{key:0,class:"artmap-menu"}),we={class:"artmap-menu-wrap"},ke={key:0,class:"art_meta_info"},ye={class:"italic_title"},Ee=Object(a["createElementVNode"])("br",null,null,-1),Ne={class:"catalog_caption"},xe=Object(a["createElementVNode"])("br",null,null,-1),Ve={class:"artist_name"},Ce={key:1,class:"collection_list"},Pe=Object(a["createElementVNode"])("div",{class:"row no-gutters"},[Object(a["createElementVNode"])("p",{class:"related-section-label"},"Related:")],-1),Be={class:"col-sm-12"},Se=["innerHTML"],De={key:1,class:"external_link col-sm-12"},Te=["href"],Ae=Object(a["createTextVNode"])("Read More "),Me=Object(a["createElementVNode"])("span",{class:"oi oi-chevron-right"},null,-1),Ie=[Ae,Me],Le=["onClick"],He={class:"collection_artwork_title"};function ze(e,t,n,o,i,c){return Object(a["openBlock"])(),Object(a["createBlock"])(a["Transition"],{name:"main-menu"},{default:Object(a["withCtx"])((function(){return[e.toggles.main_menu?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Oe,[Object(a["createElementVNode"])("div",we,[e.local_data.art&&e.local_data.artist?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ke,[Object(a["createElementVNode"])("h1",null,[Object(a["createElementVNode"])("span",ye,Object(a["toDisplayString"])(e.local_data.art.artwork_title)+",",1),Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(e.local_data.art.artwork_creation_date),1),Ee]),Object(a["createElementVNode"])("p",Ne,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.local_data.art.medium)+" "+Object(a["toDisplayString"])(e.local_data.art.dimensions),1),xe,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(e.local_data.art.credit)+", "+Object(a["toDisplayString"])(e.local_data.art.accession_number),1)]),Object(a["createElementVNode"])("p",Ve,"by "+Object(a["toDisplayString"])(e.local_data.artist.artist_name),1)])):Object(a["createCommentVNode"])("",!0),e.local_data.collections.length?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ce,[Pe,e.local_data.collections?(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],{key:0},Object(a["renderList"])(e.local_data.collections,(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"row related_collection no-gutters",key:t},[Object(a["createElementVNode"])("h2",Be,Object(a["toDisplayString"])(e.collection_title),1),"None"!==e.curatorial_statement?(Object(a["openBlock"])(),Object(a["createElementBlock"])("p",{key:0,class:"curatorial_statement col-sm-12",innerHTML:e.curatorial_statement},null,8,Se)):Object(a["createCommentVNode"])("",!0),"None"!==e.external_link?(Object(a["openBlock"])(),Object(a["createElementBlock"])("p",De,[Object(a["createElementVNode"])("a",{href:e.external_link,target:"blank"},Ie,8,Te)])):Object(a["createCommentVNode"])("",!0),e.artworks.length?(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],{key:2},Object(a["renderList"])(e.artworks,(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"col-sm-3 related-artwork",key:t,onClick:function(t){return c.goToArtmap(e.slug)}},[Object(a["createElementVNode"])("div",{class:"artwork_img",style:Object(a["normalizeStyle"])("background-image:url("+e.url+");")},null,4),Object(a["createElementVNode"])("h1",He,Object(a["toDisplayString"])(e.name),1),Object(a["createElementVNode"])("p",null,"by "+Object(a["toDisplayString"])(e.artist),1)],8,Le)})),128)):Object(a["createCommentVNode"])("",!0)])})),128)):Object(a["createCommentVNode"])("",!0)])):Object(a["createCommentVNode"])("",!0)])])):Object(a["createCommentVNode"])("",!0)]})),_:1})}var $e={data:function(){return{open:!1}},computed:Object(s["a"])({},Object(m["d"])("artmap",["toggles","local_data"])),methods:{renderQHtml:function(e){var t=JSON.parse(e),n={},a=new A["QuillDeltaToHtmlConverter"](t.ops,n);return a.convert()},goToArtmap:function(e){window.location.href="/gallery/".concat(e)}},mounted:function(){console.log(this.local_data)}};n("f83a");const Fe=j()($e,[["render",ze]]);var Re=Fe,Ze={class:"info-menu"},Xe={class:"material-icons"};function Ye(e,t,n,o,i,c){return Object(a["withDirectives"])((Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{class:Object(a["normalizeClass"])(["main-menu-trigger",{active:e.toggles.main_menu}]),onClick:t[0]||(t[0]=function(){return e.toggleMainMenu&&e.toggleMainMenu.apply(e,arguments)})},[Object(a["withDirectives"])(Object(a["createElementVNode"])("i",Ze,"i",512),[[a["vShow"],!e.toggles.main_menu]]),Object(a["withDirectives"])(Object(a["createElementVNode"])("i",Xe,"",512),[[a["vShow"],e.toggles.main_menu]])],2)),[[a["vShow"],e.loaded]])}var Ue={computed:Object(s["a"])({},Object(m["d"])("artmap",["toggles","discover_mode","loaded"])),methods:Object(s["a"])({},Object(m["c"])("artmap",["toggleMainMenu"]))};n("4151");const We=j()(Ue,[["render",Ye]]);var Ge=We,Je={key:0},Qe={key:1};function qe(e,t,n,o,i,c){return Object(a["withDirectives"])((Object(a["openBlock"])(),Object(a["createElementBlock"])("button",{class:Object(a["normalizeClass"])(["btn btn-primary btn-discover",{exit_ready:e.discover_mode}]),onClick:t[0]||(t[0]=function(){return e.toggleDiscoverMode&&e.toggleDiscoverMode.apply(e,arguments)})},[e.discover_mode?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",Je,"Hide Navigation")):(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",Qe,"Discover"))],2)),[[a["vShow"],e.loaded]])}var Ke={computed:Object(s["a"])({},Object(m["d"])("artmap",["discover_mode","loaded"])),methods:Object(s["a"])({},Object(m["c"])("artmap",["toggleDiscoverMode"]))};n("5911");const et=j()(Ke,[["render",qe]]);var tt=et,nt={class:"icon terra-logo"},at=Object(a["createStaticVNode"])('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 159.774 54.3"><g id="terra-logo" transform="translate(-572 -428)"><path id="Path_1" data-name="Path 1" class="cls-1" d="M10.355,48.649V47.47H5.894v6.773H7.217v-2.75H9.891V50.314H7.217V48.648h3.138Zm6,2.207c0-1.17.01-2.017-.674-2.7a2.452,2.452,0,0,0-1.826-.74,2.478,2.478,0,0,0-1.837.74c-.685.686-.665,1.532-.665,2.7s-.02,2.017.665,2.7a2.471,2.471,0,0,0,1.837.741,2.453,2.453,0,0,0,1.826-.741c.685-.686.674-1.532.674-2.7m-1.32,0c0,1.3-.077,1.618-.333,1.9a1.093,1.093,0,0,1-.846.362A1.12,1.12,0,0,1,13,52.758c-.256-.284-.323-.6-.323-1.9s.067-1.617.323-1.9a1.122,1.122,0,0,1,.858-.36,1.1,1.1,0,0,1,.846.36c.255.286.333.6.333,1.9m7.629,1.065V47.47H21.353v4.4a1.177,1.177,0,1,1-2.349,0v-4.4H17.681v4.451A2.355,2.355,0,0,0,20.174,54.3a2.354,2.354,0,0,0,2.492-2.379m6.927,2.323V47.47H28.27v4.148L25.586,47.47H24.407v6.773H25.73V50.085l2.683,4.158h1.18Zm6.762-3.416c0-1.018.077-1.949-.684-2.711a2.469,2.469,0,0,0-1.789-.646H31.437v6.773h2.445a2.466,2.466,0,0,0,1.789-.647c.762-.762.684-1.75.684-2.769m-1.321,0c0,1.027-.037,1.512-.285,1.817a1.182,1.182,0,0,1-.99.419h-1V48.649h1a1.177,1.177,0,0,1,.99.42c.248.3.285.731.285,1.759m8.029,3.416L40.59,47.471H39.553l-2.465,6.773h1.38l.409-1.2h2.407l.4,1.2Zm-2.131-2.312H39.248l.858-2.465ZM48,48.649V47.47H43.138v1.179h1.769v5.6H46.23v-5.6H48Zm2.76-1.179H49.437v6.775H50.76V47.47Zm6.62,3.386c0-1.17.009-2.017-.675-2.7a2.636,2.636,0,0,0-3.663,0c-.686.686-.667,1.532-.667,2.7s-.019,2.017.667,2.7a2.634,2.634,0,0,0,3.663,0c.685-.686.675-1.532.675-2.7m-1.322,0c0,1.3-.075,1.618-.332,1.9a1.093,1.093,0,0,1-.847.362,1.118,1.118,0,0,1-.856-.362c-.257-.284-.324-.6-.324-1.9s.067-1.617.324-1.9a1.12,1.12,0,0,1,.856-.36,1.1,1.1,0,0,1,.847.36c.256.286.332.6.332,1.9m7.983,3.388V47.47H62.718v4.148L60.035,47.47H58.856v6.773h1.322V50.085l2.682,4.158h1.181Zm9.255-5.6V47.47H68.834v6.773h1.323v-2.75h2.672V50.314H70.157V48.648H73.3Zm6,2.207c0-1.17.01-2.017-.676-2.7a2.449,2.449,0,0,0-1.827-.74,2.479,2.479,0,0,0-1.836.74c-.684.686-.665,1.532-.665,2.7s-.019,2.017.665,2.7a2.634,2.634,0,0,0,3.663,0c.686-.686.676-1.532.676-2.7m-1.322,0c0,1.3-.077,1.618-.334,1.9a1.093,1.093,0,0,1-.847.362,1.114,1.114,0,0,1-.855-.362c-.257-.284-.324-.6-.324-1.9s.067-1.617.324-1.9a1.117,1.117,0,0,1,.855-.36,1.1,1.1,0,0,1,.847.36c.256.286.334.6.334,1.9M85.9,54.244l-1.512-2.921a1.825,1.825,0,0,0,1.236-1.778,2.047,2.047,0,0,0-2.2-2.074H80.774v6.773H82.1v-2.7h.95l1.323,2.7H85.9Zm-1.6-4.7a.883.883,0,0,1-.961.893H82.1V48.649h1.246a.884.884,0,0,1,.961.895m11.235,4.7-2.473-6.773H92.029l-2.464,6.773h1.379l.41-1.2H93.76l.4,1.2Zm-2.13-2.312H91.725l.854-2.465Zm9.561,2.312V47.47h-1.3L99.9,51.132,98.134,47.47h-1.3v6.773h1.322V50.294l1.3,2.569h.895l1.295-2.569v3.949h1.323Zm6.164,0v-1.18h-3.14V51.418h2.674v-1.18h-2.674V48.649h3.14V47.47h-4.461v6.773h4.461Zm6.736,0-1.513-2.921a1.824,1.824,0,0,0,1.236-1.778,2.046,2.046,0,0,0-2.2-2.074h-2.653v6.773h1.321v-2.7h.951l1.322,2.7h1.533Zm-1.6-4.7a.883.883,0,0,1-.963.893h-1.246V48.649h1.246a.885.885,0,0,1,.963.895m4.375-2.074h-1.323v6.775h1.323Zm6.412,4.69h-1.342a1.122,1.122,0,0,1-1.141.961,1.092,1.092,0,0,1-.848-.353c-.256-.284-.332-.608-.332-1.912s.076-1.627.332-1.911a1.092,1.092,0,0,1,.848-.353,1.122,1.122,0,0,1,1.141.96h1.342a2.387,2.387,0,0,0-2.492-2.139,2.5,2.5,0,0,0-1.828.74c-.684.686-.664,1.532-.664,2.7s-.02,2.017.664,2.7a2.5,2.5,0,0,0,1.828.741,2.39,2.39,0,0,0,2.492-2.139m6.735,2.084-2.474-6.773h-1.036l-2.465,6.773H127.2l.409-1.2h2.408l.4,1.2Zm-2.131-2.312h-1.684l.855-2.465Zm8.468,2.312V47.47h-1.322v4.148l-2.684-4.148h-1.18v6.773h1.322V50.085l2.683,4.158h1.181Zm9.6,0-2.474-6.773h-1.036l-2.464,6.773h1.378l.41-1.2h2.406l.4,1.2ZM145.6,51.932h-1.684l.855-2.465Zm8.5,2.312-1.512-2.921a1.824,1.824,0,0,0,1.238-1.778,2.049,2.049,0,0,0-2.2-2.074h-2.651v6.773H150.3v-2.7h.951l1.321,2.7H154.1Zm-1.6-4.7a.883.883,0,0,1-.962.893H150.3V48.649h1.245a.884.884,0,0,1,.962.895m7.269-.9V47.47h-4.862v1.179h1.771v5.6H158v-5.6h1.77Z" transform="translate(572 428)"></path><path id="Path_2" data-name="Path 2" class="cls-1" d="M26.845,0V5.209H16.322V38.228h-5.8V5.209H0V0Z" transform="translate(572 428)"></path><path id="Path_3" data-name="Path 3" class="cls-1" d="M55.876,38.228V33.02H37.247V22.128H53.139V16.735H37.247V5.208H55.876V0H31.448V38.228Z" transform="translate(572 428)"></path><path id="Path_4" data-name="Path 4" class="cls-1" d="M123.209,11.168c0-6.5-4.617-11.167-11.867-11.167H95.549V38.228h5.8V22.121h8.227l8.053,16.107h6.764l-8.805-16.912a10.635,10.635,0,0,0,7.624-10.148m-5.8.054c0,3.758-3.607,5.471-7.473,5.471h-8.592V5.209h9.567c3.865,0,6.5,2.254,6.5,6.013" transform="translate(572 428)"></path><path id="Path_5" data-name="Path 5" class="cls-1" d="M90.66,38.228,81.854,21.316a10.635,10.635,0,0,0,7.623-10.147C89.477,4.672,84.86,0,77.612,0h-15.8V38.228h5.8V22.121h8.225l8.054,16.107ZM83.678,11.222c0,3.758-3.606,5.471-7.471,5.471H67.616V5.209h9.566c3.867,0,6.5,2.255,6.5,6.013" transform="translate(572 428)"></path><path id="Path_6" data-name="Path 6" class="cls-1" d="M159.434,38.228,145.421,0H140.75L126.736,38.228h6.176l2.629-7.678h15.088l2.63,7.678Zm-10.6-13.152H137.447l5.772-16.432Z" transform="translate(572 428)"></path></g></svg>',1),ot=[at];function it(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",nt,ot)}n("8006");const ct={},lt=j()(ct,[["render",it]]);var rt=lt,st={computed:Object(s["a"])({},Object(m["d"])("artmap",["viewer","local_data","toggles","discover_mode","loaded"])),data:function(){return{editor_url:window.artmap_builder_url?window.artmap_builder_url:null}},watch:{$route:function(e){this.loaded&&(e.params.pointSlug?this.getArtPointOr404(e.params.pointSlug):this.viewer.viewport.goHome(!1))}},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(m["c"])("artmap",["initCanvas","convertAndSetPoints","setCurrentPoint","setInfoTrayOpen","setInfoTrayClose","toggleMainMenu","toggleDiscoverMode","artmapHasLoaded"])),Object(m["b"])("artmap",["getPoints","getArtData","getArtistData","getIIIFAsset"])),{},{endPreview:function(){window.location.href=this.editor_url},getArtPointOr404:function(e){var t=this.local_data.points.filter((function(t){return t.point_slug===String(e)}));t.length>0?(this.discover_mode||this.toggleDiscoverMode(),this.setCurrentPoint(t[0]),this.goTo(t[0]),console.log(t[0]),this.setInfoTrayOpen()):this.setInfoTrayClose()},goHome:function(){console.log(this.viewer),this.viewer.viewport.goHome(!1)},goTo:function(e){var t={x:Number(e.point_x),y:Number(e.point_y)},n=new u.a.Point(t.x,t.y),a=Number(e.zoom_value);this.viewer.viewport.zoomTo(a,!1),this.viewer.viewport.panTo(n,!1),console.log(n)},setOverlays:function(){var e=this;this.viewer.clearOverlays(),this.local_data.points.all&&this.local_data.points.all.forEach((function(t){var n=document.createElement("div");n.id=String(t.id),n.className="artmap_point";var a={element:n,placement:"CENTER",checkResize:!1,location:new u.a.Point(Number(t.point_x),Number(t.point_y))};e.viewer.addOverlay(a)}))},createArtmap:function(){var e=this;this.getArtData(this).then((function(t){e.getArtistData(t.data.artist),e.getIIIFAsset(t.data.iiif_uuid).then((function(t){e.getPoints().then((function(t){e.initCanvas(t.data)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},preloadArtCanvas:function(){var e=this,t=setInterval((function(){if(e.viewer){var n=e.viewer.world.getItemAt(0);if(n){var a=n.getFullyLoaded();a&&(e.artmapHasLoaded(e),e.$route.params.pointSlug?e.getArtPointOr404(e.$route.params.pointSlug):e.viewer.viewport.goHome(!1),clearInterval(t))}}}),500)}}),created:function(){this.preloadArtCanvas(),this.createArtmap(null)},components:{Loader:p["a"],Point:w,PointTray:W,InfoTray:re,MapCtrl:je,MainMenu:Re,MainMenuBtn:Ge,DiscoverBtn:tt,TerraLogo:rt}};n("f775");const dt=j()(st,[["render",r]]);t["a"]=dt},f749:function(e,t,n){},f775:function(e,t,n){"use strict";n("b1ba")},f83a:function(e,t,n){"use strict";n("9288")},fcf9:function(e,t,n){},fdd9:function(e,t,n){}});