(function(t){function e(e){for(var n,c,r=e[0],s=e[1],l=e[2],u=0,m=[];u<r.length;u++)c=r[u],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&m.push(o[c][0]),o[c]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);d&&d(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,r=1;r<a.length;r++){var s=a[r];0!==o[s]&&(n=!1)}n&&(i.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},o={artmap:0},i=[];function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=s;i.push([1,"chunk-vendors"]),a()})({"0219":function(t,e){var a=function(t,e){var a=new Image;a.crossOrigin="Anonymous",a.onload=function(){var t,a=document.createElement("CANVAS"),n=a.getContext("2d");a.height=this.height,a.width=this.width,n.drawImage(this,0,0),t=a.toDataURL(),e(t),a=null},a.src=t};t.exports={convertImgToDataURLviaCanvas:a}},"09d6":function(t,e,a){},1:function(t,e,a){t.exports=a("f8fa")},"155b":function(t,e,a){},"184a":function(t,e,a){"use strict";a("09d6")},"1c6e":function(t,e,a){"use strict";var n=a("7a23"),o={class:"loader_wrap"},i=Object(n["createElementVNode"])("div",{class:"location_indicator"},null,-1),c=[i];function r(t,e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,c)}a("184a");var s=a("d959"),l=a.n(s);const d={},u=l()(d,[["render",r]]);e["a"]=u},"26e8":function(t,e,a){},2781:function(t,e,a){},"2df1":function(t,e,a){"use strict";a("bf64")},3532:function(t,e,a){"use strict";a("155b")},"3bfd":function(t,e,a){},4360:function(t,e,a){"use strict";a.d(e,"b",(function(){return D})),a.d(e,"a",(function(){return T}));var n=a("5502"),o=(a("d3b7"),a("159b"),a("4de4"),a("9191")),i=a("0219"),c=function(){return{captures:{new:null,edit:null},modes:{editing:!1,new:!1},modals:{edit:!1},local_data:{points:{new:{point_x:null,point_y:null,point_title:null,point_image:"",point_slug:null,point_content:null,point_lede:null,artwork_context:null,zoom_value:null,scale_value:null},edit:null,all:null,delete:null}},validation:{messages:{id:"you need to add a point to the artwork by clicking on the image.",point_x:"you need to add a point to the artwork by clicking on the image.",point_y:"you need to add a point to the artwork by clicking on the image.",point_title:"you need to give this point a title.",point_slug:"you need to give this point a title.",point_content:"you need to add a description to this point.",artwork_context:"there is a problem with the current piece of art. Try reloading the page."},submission:!1,messages_alert:{show:!1,message:""},editor_alert:{show:!1,message:""},progress:!1}}},r={setPoints:function(t,e){e.forEach((function(t){Object(i["convertImgToDataURLviaCanvas"])(t.point_image,(function(e){t.point_image=e}))})),t.local_data.points.all=e},setCapturedThumb:function(t,e){t.captures.new=e,t.local_data.points.new.point_image=String(e.image.src),t.local_data.points.new.scale_value=e.scale_value},setEditCandidate:function(t,e){t.local_data.points.edit=e},setEditCaptureThumb:function(t,e){t.captures.edit=e,e.image&&(t.local_data.points.edit.point_image=e.image.src),e.size&&(t.local_data.points.edit.scale_value=e.size)},setNewPointCoords:function(t,e){t.local_data.points.new.point_x=e.x,t.local_data.points.new.point_y=e.y,t.local_data.points.new.zoom_value=e.zoom_value},setEditPointCoords:function(t,e){t.local_data.points.edit.point_x=e.x,t.local_data.points.edit.point_y=e.y,t.local_data.points.edit.zoom_value=e.zoom_value},setNewPointContent:function(t,e){t.local_data.points.new.artwork_context=e.artwork,t.local_data.points.new.point_content=e.content},setEditingPoint:function(t,e){t.modes.editing=e},toggleShowNewPoint:function(t){t.modes.new?(t.modes.new=!1,this.emitter.emit("cancelAnyNewPoint")):(t.modes.new=!0,this.emitter.emit("showAddNewPoint"))},showEditPointModal:function(t){t.modals.edit=!0,$("#editArtPoint").modal("show")},closeEditPointModal:function(t){t.modals.edit=!1,$("#editArtPoint").modal("show")},closeNewPoint:function(t,e){t.modes.new=!1,t.captures.new=null,e.vm.emitter.emit("cancelAnyNewPoint")},showNewPoint:function(t,e){t.modes.new=!0,e.vm.emitter.emit("showAddNewPoint")},setPointEditorAlert:function(t,e){t.validation.editor_alert=e},setValidation:function(t,e){t.validation.submission=e},resetNewPointData:function(t){t.local_data.points.new={point_x:null,point_y:null,point_title:null,point_image:"",point_slug:null,point_content:null,point_lede:null,artwork_context:null,zoom_value:null,scale_value:null}},addNewPointToList:function(t,e){t.local_data.points.all&&t.local_data.points.all.length?Object(i["convertImgToDataURLviaCanvas"])(e.point.point_image,(function(a){e.point.point_image=a,t.local_data.points.all.push(e.point),e.cb()})):Object(i["convertImgToDataURLviaCanvas"])(e.point.point_image,(function(a){e.point.point_image=a,t.local_data.points.all=[],t.local_data.points.all.push(e.point),e.cb()}))},removePointFromList:function(t,e){var a=t.local_data.points.all.filter((function(t){return t.id!==e}));t.local_data.points.all=a},setPointToBeDeleted:function(t,e){t.local_data.points.delete=e},callSuccessAlert:function(t,e){var a={show:!0,message:e.m};t.validation.messages_alert=a,setTimeout((function(){t.validation.messages_alert.show=!1,t.validation.messages_alert.message=""}),e.hideDelay)},updatePointOrder:function(t,e){t.local_data.points.all=e},setSavingMode:function(t,e){setTimeout((function(){t.validation.progress=e.show}),e.padding)}},s={getPoints:function(t,e){var a=t.commit;o["a"].get("points/?artwork=".concat(window.art_id)).then((function(t){a("setPoints",t.data)}),(function(t){console.log(t)}))},saveNewPoint:function(t,e){var a=t.commit,n=t.dispatch,i=t.state;a("setSavingMode",{show:!0,padding:0}),o["a"].post("points/",i.local_data.points.new,{headers:{"X-CSRFToken":window.csrf}}).then((function(t){$("#newArtPoint").modal("hide"),e.rt.editor.setContents([]),a("addNewPointToList",{cb:function(){e.emitter.emit("openSidebar"),n("updateCustomIndexes",{vm:e,points:i.local_data.points.all}),a("closeNewPoint",{vm:e}),a("resetNewPointData");var o={m:"".concat(t.data.point_title," was successfully Added."),hideDelay:3500};a("callSuccessAlert",o),a("setSavingMode",{show:!1,padding:500})},point:t.data})}),(function(t){console.log(t),a("setSavingMode",{show:!1,padding:0})}))},savePointEdit:function(t,e){var a=t.commit,n=t.dispatch;a("setSavingMode",{show:!0,padding:0}),o["a"].put("points/".concat(e.pointData.id,"/"),e.pointData,{headers:{"X-CSRFToken":window.csrf}}).then((function(t){e.vm.postSaveCleanup(),n("getPoints",e.vm),$("#editArtPoint").modal("hide");var o={m:"".concat(t.data.point_title," was successfully updated."),hideDelay:3500};a("callSuccessAlert",o),a("setSavingMode",{show:!1,padding:500})}),(function(t){console.log(t),a("setSavingMode",{show:!1,padding:0})}))},deletePoint:function(t,e){var a=t.commit,n=t.state;a("setSavingMode",{show:!0,padding:0}),o["a"].delete("points/".concat(n.local_data.points.delete.id,"/"),{headers:{"X-CSRFToken":window.csrf}}).then((function(t){a("removePointFromList",n.local_data.points.delete.id),$("#deletePoint").modal("hide");var e={m:"".concat(n.local_data.points.delete.point_title," was successfully removed."),hideDelay:3500};a("callSuccessAlert",e),a("setSavingMode",{show:!1,padding:500})}),(function(t){console.log(t),a("setSavingMode",{show:!1,padding:0})}))},updatePointListOrder:function(t,e){var a=t.commit,n=t.dispatch;a("updatePointOrder",e.points),n("updateCustomIndexes",e)},updateCustomIndexes:function(t,e){var a=t.commit;t.state;a("setSavingMode",{show:!0,padding:0}),e.points.forEach((function(t,e){t.custom_order_index=e,o["a"].patch("points/".concat(t.id,"/"),t,{headers:{"X-CSRFToken":window.csrf}}).then((function(t){a("setSavingMode",{show:!1,padding:500})}),(function(t){console.log(t),a("setSavingMode",{show:!1,padding:0})}))}))}},l={namespaced:!0,state:c,mutations:r,actions:s},d=l,u=(a("7db0"),a("aa78")),m=a.n(u),p=function(){return{viewer:null,canvas:null,container_width:null,osd:{defaultZoomLevel:0,minZoomLevel:0,maxZoomLevel:10},art_data_revertable:{art:null,artist:null,collections:null},art_data:{art:null,artist:null,collections:null,iiif_item:null},loaded:!1,art_validation:{messages_alert:{show:!1,message:""}}}},v={initCanvas:function(t){setTimeout((function(){t.viewer=m()({id:"artcanvas",visibilityRatio:1,constrainDuringPan:!0,defaultZoomLevel:t.osd.defaultZoomLevel,minZoomLevel:t.osd.minZoomLevel,maxZoomLevel:t.osd.maxZoomLevel,homeFillsViewer:!1,preserveImageSizeOnResize:!1,animationTime:1.6,gestureSettingsMouse:{scrollToZoom:!0},homeButton:"reset",springStiffness:6,minPixelRatio:.2,showNavigationControl:!1,tileSources:t.art_data.iiif_item,crossOriginPolicy:"Anonymous"}),t.canvas=$("#artcanvas").find("canvas")}),0)},setContainerWidth:function(t){document.getElementById("art_container")},setCanvas:function(t){t.canvas=$("#artcanvas").find("canvas")},setArtData:function(t,e){t.art_data.art=e;var a=Object.assign({},t.art_data.art);t.art_data_revertable.art=a},setArtDescription:function(t,e){t.art_data.art.about=e},setArtsArtistId:function(t,e){t.art_data.art.artist=e},setArtsPublishState:function(t,e){t.art_data.art.published=e},revert:function(t){var e=Object.assign({},t.art_data_revertable.art),a=Object.assign({},t.art_data_revertable.artist);t.art_data.art=e,t.art_data.artist=a},setArtistData:function(t,e){t.art_data.artist=e;var a=Object.assign({},t.art_data.artist);t.art_data_revertable.artist=a},setIIIF:function(t,e){t.art_data.iiif_item=e},artmapHasLoaded:function(t,e){t.loaded=!0,e.emitter.emit("artmapHasLoaded")},callDeleteSuccessAlert:function(t,e){var a={show:!0,message:e.m};t.art_validation.messages_alert=a,setTimeout((function(){t.art_validation.messages_alert.show=!1,t.art_validation.messages_alert.message="",window.location.href="/"}),e.hideDelay)},callSuccessAlert:function(t,e){var a={show:!0,message:e.m};t.art_validation.messages_alert=a,setTimeout((function(){t.art_validation.messages_alert.show=!1,t.art_validation.messages_alert.message=""}),e.hideDelay)}},h={getIIIFAsset:function(t,e){var a=t.commit;t.state,t.dispatch;return new Promise((function(t,n){o["a"].get("https://dlc.services/iiif-img/3/2/".concat(e,"/info.json")).then((function(e){a("setIIIF",e.data),t(e)}),(function(t){n(t)}))}))},getArtData:function(t,e){var a=t.commit;t.dispatch;return new Promise((function(t,e){o["a"].get("art/".concat(window.art_id,"/")).then((function(e){a("setArtData",e.data),t(e)}),(function(t){e(t)}))}))},getArtistData:function(t,e){var a=t.commit;return new Promise((function(t,n){o["a"].get("artists/".concat(e,"/")).then((function(e){a("setArtistData",e.data),t(e)}),(function(t){n(t)}))}))},deleteArt:function(t,e){var a=t.commit,n=t.state;o["a"].delete("art/".concat(e.id),{headers:{"X-CSRFToken":window.csrf}}).then((function(t){$("#publishModal").modal("hide"),$("#deleteArtwork").modal("hide");var e={m:"".concat(n.art_data.art.artwork_title," was successfully deleted."),hideDelay:3500};a("callDeleteSuccessAlert",e)}),(function(t){console.log(t)}))}},f={namespaced:!0,state:p,mutations:v,actions:h},b=f,g=function(){return{open:!1}},_={setSidebarOpen:function(t){t.open=!0},setSidebarClose:function(t){t.open=!1},toggleSidebar:function(t){t.open?t.open=!1:t.open=!0}},w={},O={namespaced:!0,state:g,mutations:_,actions:w},j=O,y=(a("a9e3"),function(){return{viewer:null,canvas:null,canvas_mask:null,osd:{defaultZoomLevel:0,minZoomLevel:0,maxZoomLevel:10},local_data:{art:null,artist:null,points:null,current_point:null,collections:window.collections,iiif_item:null},toggles:{info_tray:!1,main_menu:!1},discover_mode:!1,loaded:!1}}),k={initCanvas:function(t,e){t.local_data.points=e,t.local_data.points.forEach((function(t){t["x"]=Number(t.point_x),t["id"]=String(t.id),t["y"]=Number(t.point_y),t["placement"]="CENTER",t["checkResize"]=!1})),setTimeout((function(){t.viewer=m()({id:"artmapcanvas",visibilityRatio:1,constrainDuringPan:!0,defaultZoomLevel:t.osd.defaultZoomLevel,minZoomLevel:t.osd.minZoomLevel,maxZoomLevel:t.osd.maxZoomLevel,homeFillsViewer:!1,preserveImageSizeOnResize:!1,animationTime:1.6,zoomInButton:"zoom-in",zoomOutButton:"zoom-out",gestureSettingsMouse:{scrollToZoom:!0},homeButton:"reset",showNavigator:!0,navigatorId:"artmap-viewfinder",springStiffness:6,minPixelRatio:.2,showNavigationControl:!1,tileSources:t.local_data.iiif_item,crossOriginPolicy:"Anonymous",overlays:t.local_data.points}),t.canvas=$("#artmapcanvas").find("canvas");var e=document.createElement("canvas");e.id="canvas-mask",e.width=window.innerWidth,e.height=window.innerHeight;var a=t.canvas[0];a.parentNode.insertBefore(e,a.nextSibling),t.canvas_mask=$("#artmapcanvas").find("#canvas-mask")}),0)},setArtData:function(t,e){t.local_data.art=e},setArtistData:function(t,e){t.local_data.artist=e},setIIIF:function(t,e){t.local_data.iiif_item=e},setDiscoverMode:function(t,e){t.discover_mode=e},toggleDiscoverMode:function(t,e){t.discover_mode?t.discover_mode=!1:t.discover_mode=!0},artmapHasLoaded:function(t,e){t.loaded=!0,e.emitter.emit("artmapHasLoaded")},setCurrentPoint:function(t,e){t.local_data.current_point=e},setInfoTrayClose:function(t){t.toggles.info_tray=!1,t.local_data.current_point=null},setInfoTrayOpen:function(t){t.toggles.info_tray=!0},toggleMainMenu:function(t){t.toggles.main_menu=!t.toggles.main_menu}},N={getIIIFAsset:function(t,e){var a=t.commit;t.state,t.dispatch;return new Promise((function(t,n){o["a"].get("https://dlc.services/iiif-img/3/2/".concat(e,"/info.json")).then((function(e){a("setIIIF",e.data),t(e)}),(function(t){n(t)}))}))},getPoints:function(t){t.commit;return new Promise((function(t,e){o["a"].get("points/?artwork=".concat(window.art_id)).then((function(e){t(e)}),(function(t){e(t)}))}))},getArtData:function(t,e){var a=t.commit;t.dispatch;return new Promise((function(t,e){o["a"].get("art/".concat(window.art_id,"/")).then((function(e){a("setArtData",e.data),t(e)}),(function(t){e(t)}))}))},getArtistData:function(t,e){var a=t.commit;return new Promise((function(t,n){o["a"].get("artists/".concat(e,"/")).then((function(e){a("setArtistData",e.data),t(e)}),(function(t){n(t)}))}))}},C={namespaced:!0,state:y,mutations:k,actions:N},P=C,E=(a("99af"),function(){return{viewer:null,canvas:null,canvas_mask:null,osd:{defaultZoomLevel:0,minZoomLevel:0,maxZoomLevel:10},local_data:{art:null,artist:null,points:null,current_point:null,collections:window.collections,iiif_item:null},toggles:{info_tray:!1,main_menu:!1},loaded:!1}}),M={initCanvas:function(t,e){"".concat(window.art_image,"?d=").concat(Date.now());t.viewer=m()({id:"artmappreviewcanvas",visibilityRatio:1,constrainDuringPan:!0,defaultZoomLevel:t.osd.defaultZoomLevel,minZoomLevel:t.osd.minZoomLevel,maxZoomLevel:t.osd.maxZoomLevel,homeFillsViewer:!1,preserveImageSizeOnResize:!1,animationTime:1.6,zoomInButton:"zoom-in",zoomOutButton:"zoom-out",gestureSettingsMouse:{scrollToZoom:!0},homeButton:"reset",showNavigator:!0,navigatorId:"artmap-viewfinder",springStiffness:6,minPixelRatio:.2,showNavigationControl:!1,tileSources:t.local_data.iiif_item,crossOriginPolicy:"Anonymous",overlays:t.local_data.points}),t.canvas=$("#artmappreviewcanvas").find("canvas");var a=document.createElement("canvas");a.id="canvas-mask",a.width=window.innerWidth,a.height=window.innerHeight;var n=t.canvas[0];n.parentNode.insertBefore(a,n.nextSibling),t.canvas_mask=$("#artmappreviewcanvas").find("#canvas-mask")},setArtData:function(t,e){t.local_data.art=e},setArtistData:function(t,e){t.local_data.artist=e},setPointData:function(t,e){t.local_data.points=e},setIIIF:function(t,e){t.local_data.iiif_item=e},convertAndSetPoints:function(t){t.local_data.points.length>0&&t.local_data.points.forEach((function(t){t["x"]=Number(t.point_x),t["id"]=String(t.id),t["y"]=Number(t.point_y),t["placement"]="CENTER",t["checkResize"]=!1}))},artmapHasLoaded:function(t,e){t.loaded=!0,e.emitter.emit("artmapHasLoaded")},setCurrentPoint:function(t,e){t.local_data.current_point=e},setInfoTrayClose:function(t){t.toggles.info_tray=!1,t.local_data.current_point=null},setInfoTrayOpen:function(t){t.toggles.info_tray=!0},toggleMainMenu:function(t){t.toggles.main_menu=!t.toggles.main_menu}},S={preloadArtCanvas:function(t,e){t.dispatch;var a=t.commit,n=t.state,o=setInterval((function(){if(n.viewer){var t=n.viewer.world.getItemAt(0);if(t)var i=t.getFullyLoaded();!0===i&&(a("artmapHasLoaded",e),clearInterval(o))}}),500)},getIIIFAsset:function(t,e){var a=t.commit;t.state,t.dispatch;return new Promise((function(t,n){o["a"].get("https://dlc.services/iiif-img/3/2/".concat(e,"/info.json")).then((function(e){a("setIIIF",e.data),t(e)}),(function(t){console.log(t),n(t)}))}))},getPoints:function(t){var e=t.commit;return new Promise((function(t,a){o["a"].get("points/?artwork=".concat(window.art_id)).then((function(a){e("setPointData",a.data),e("convertAndSetPoints"),t(a)}),(function(t){console.log(t),a(t)}))}))},getArtData:function(t){var e=t.commit;t.dispatch;return new Promise((function(t,a){o["a"].get("art/".concat(window.art_id,"/")).then((function(a){e("setArtData",a.data),t(a)})).catch((function(t){console.log(t),a(t)}))}))},getArtistData:function(t,e){var a=t.commit;return new Promise((function(t,n){o["a"].get("artists/".concat(e,"/")).then((function(e){a("setArtistData",e.data),t(e)}),(function(t){console.log(t),n(t)}))}))}},A={namespaced:!0,state:E,mutations:M,actions:S},V=A,D=Object(n["a"])({modules:{point:d,art:b,sidebar:j,artmapPreview:V}}),T=Object(n["a"])({modules:{artmap:P,point:d}})},"4a32":function(t,e,a){"use strict";a("efc8")},6162:function(t,e,a){"use strict";a("d13d")},"62d2":function(t,e,a){"use strict";a("26e8")},"6be7":function(t,e,a){"use strict";a("3bfd")},"6cc7":function(t,e,a){"use strict";a("ad05")},7158:function(t,e,a){},"756d":function(t,e,a){"use strict";a("2781")},"7a17":function(t,e,a){"use strict";a("e6a9")},9191:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var n=a("bc3a"),o=a.n(n),i="http://127.0.0.1:8000/";i="https://artnav.terraamericanart.org/";var c=o.a.create({baseURL:"".concat(i,"api/")})},ad05:function(t,e,a){},b12b:function(t,e,a){"use strict";a("7158")},bf64:function(t,e,a){},c236:function(t,e,a){"use strict";a.d(e,"c",(function(){return v})),a.d(e,"b",(function(){return h})),a.d(e,"a",(function(){return f}));var n=a("d4ec"),o=a("bee2"),i=a("45eb"),c=a("7e84"),r=a("262e"),s=a("2caf"),l=(a("ac1f"),a("00b4"),a("498a"),a("466d"),a("5319"),a("99af"),a("9339")),d=a.n(l),u=!1;function m(t){if(!t)return null;if(/^[a-zA-Z0-9_-]{11}$/.test(t.trim()))return t.trim();for(var e=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/,/youtube\.com\/watch\?.*v=([a-zA-Z0-9_-]{11})/],a=0,n=e;a<n.length;a++){var o=n[a],i=t.match(o);if(i&&i[1])return i[1]}return null}var p=function(t){Object(r["a"])(a,t);var e=Object(s["a"])(a);function a(){return Object(n["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,null,[{key:"create",value:function(t){var e=Object(i["a"])(Object(c["a"])(a),"create",this).call(this,t),n=m(t);if(n){var o="https://www.youtube.com/embed/".concat(n);e.setAttribute("src",o),e.setAttribute("frameborder","0"),e.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"),e.setAttribute("allowfullscreen","true"),e.setAttribute("referrerpolicy","strict-origin-when-cross-origin"),e.setAttribute("width","560"),e.setAttribute("height","315"),e.setAttribute("class","ql-video")}return e}},{key:"value",value:function(t){return t.getAttribute("src")}}]),a}(d.a.import("formats/video"));function v(){if(!u)try{d.a.register(p,!0),u=!0}catch(t){console.warn("Failed to register custom video handler:",t)}}function h(t){if(!t||"string"!==typeof t)return t;var e=/<iframe([^>]*src=["'][^"']*youtube\.com\/embed\/[^"']*["'][^>]*)(\/?)>/gi;return t.replace(e,(function(t,e,a){if(/referrerpolicy\s*=/i.test(e))return t;var n=a?" />":">";return"<iframe".concat(e,' referrerpolicy="strict-origin-when-cross-origin"').concat(n)}))}function f(){return{video:function(t){var e=m(t.insert.video);if(e){var a="https://www.youtube.com/embed/".concat(e);return'<iframe src="'.concat(a,'" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="true" referrerpolicy="strict-origin-when-cross-origin" width="560" height="315" class="ql-video"></iframe>')}return'<iframe src="'.concat(t.insert.video,'" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="true" referrerpolicy="strict-origin-when-cross-origin" width="560" height="315" class="ql-video"></iframe>')}}}},d13d:function(t,e,a){},e6a9:function(t,e,a){},e6b9:function(t,e,a){"use strict";var n=a("6c02"),o=a("f498"),i=[{path:"/:pointSlug",name:"point",component:o["a"]},{path:"/",name:"base",component:o["a"]}],c=Object(n["a"])({history:Object(n["b"])(),routes:i});e["a"]=c},e8d1:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var n=a("5530"),o=a("7a23"),i=a("1344"),c=a("6676"),r=function(t,e,a,r){var s=Object(i["a"])(),l=document.querySelector(r),d=Object(o["createApp"])(t,Object(n["a"])({},l.dataset));return d.config.globalProperties.emitter=s,e&&d.use(e),a&&d.use(a),d.use(c["a"],{autoSetContainer:!0,appendToBody:!0}),d.mount(r),d}},efc8:function(t,e,a){},f498:function(t,e,a){"use strict";var n=a("7a23"),o={id:"artmap_container"},i=Object(n["createElementVNode"])("i",{class:"material-icons"},"",-1),c=Object(n["createTextVNode"])(" End Preview"),r=[i,c];function s(t,e,a,i,c,s){var l=this,d=Object(n["resolveComponent"])("Point"),u=Object(n["resolveComponent"])("Loader"),m=Object(n["resolveComponent"])("PointTray"),p=Object(n["resolveComponent"])("InfoTray"),v=Object(n["resolveComponent"])("MapCtrl"),h=Object(n["resolveComponent"])("MainMenuBtn"),f=Object(n["resolveComponent"])("DiscoverBtn"),b=Object(n["resolveComponent"])("TerraLogo"),g=Object(n["resolveComponent"])("MainMenu");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,[c.editor_url?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",{key:0,class:"end_preview_btn",onClick:e[0]||(e[0]=function(){return s.endPreview&&s.endPreview.apply(s,arguments)})},r)):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(n["Transition"],{name:"art_loaded"},{default:Object(n["withCtx"])((function(){return[t.local_data.points?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:0,id:"artmapcanvas",class:Object(n["normalizeClass"])({menuOpen:l.toggles.main_menu})},[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(t.local_data.points,(function(t){return Object(n["openBlock"])(),Object(n["createBlock"])(d,{key:"map_item"+t.id,id:t.id,point:t},null,8,["id","point"])})),128))],2)),[[n["vShow"],t.loaded]]):Object(n["createCommentVNode"])("",!0)]})),_:1}),Object(n["createVNode"])(n["Transition"],{name:"loader"},{default:Object(n["withCtx"])((function(){return[t.loaded?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])(u,{key:0}))]})),_:1}),Object(n["createVNode"])(m),Object(n["createVNode"])(p),Object(n["createVNode"])(v),Object(n["createVNode"])(h),Object(n["createVNode"])(f),t.loaded?(Object(n["openBlock"])(),Object(n["createBlock"])(b,{key:1})):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(g)])}var l=a("5530"),d=(a("4de4"),a("d3b7"),a("a9e3"),a("159b"),a("aa78")),u=a.n(d),m=a("5502"),p=a("1c6e"),v=["id"],h=Object(n["createElementVNode"])("svg",{class:"point_el",width:"34",height:"34"},[Object(n["createElementVNode"])("circle",{cx:"16",cy:"16",r:"15",transform:"",class:"outer"})],-1),f=[h];function b(t,e,a,o,i,c){return Object(n["openBlock"])(),Object(n["createElementBlock"])("span",{class:Object(n["normalizeClass"])(["artmap_point",[{active:t.local_data.current_point===a.point},{ready:!t.discover_mode}]]),id:a.point.id,onClick:e[0]||(e[0]=function(t){return c.handlePointClick(a.point.point_slug)})},f,10,v)}var g={props:["point"],computed:Object(l["a"])({},Object(m["d"])("artmap",["viewer","local_data","discover_mode"])),methods:Object(l["a"])(Object(l["a"])({},Object(m["c"])("artmap",["setInfoTrayClose","setInfoTrayOpen"])),{},{handlePointClick:function(t){this.local_data.current_point===this.point?(this.setInfoTrayClose(),this.$router.push({path:"/"})):this.$router.push(t)}})},_=(a("2df1"),a("d959")),w=a.n(_);const O=w()(g,[["render",b]]);var j=O,y={id:"point_tray"},k={key:0,class:"point-tray-intro"},N={class:"artist-name"},C={class:"creation-date"},P=Object(n["createTextVNode"])("Explore the Artwork "),E=Object(n["createElementVNode"])("div",{id:"viewfinder-wrap"},[Object(n["createElementVNode"])("div",{id:"artmap-viewfinder"})],-1);function M(t,e,a,o,i,c){var r=Object(n["resolveComponent"])("TrayPoint"),s=Object(n["resolveComponent"])("DoubleArrow");return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:Object(n["normalizeClass"])(["point_tray_wrap",{open:i.open}])},[Object(n["createElementVNode"])("div",y,[t.local_data.artist&&t.local_data.art?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",k,[Object(n["createElementVNode"])("h1",null,Object(n["toDisplayString"])(t.local_data.art.artwork_title),1),Object(n["createElementVNode"])("p",N,"By "+Object(n["toDisplayString"])(t.local_data.artist.artist_name),1),Object(n["createElementVNode"])("p",C,"Created in "+Object(n["toDisplayString"])(t.local_data.art.artwork_creation_date),1)])):Object(n["createCommentVNode"])("",!0),t.local_data.points?(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],{key:1},Object(n["renderList"])(t.local_data.points,(function(t){return Object(n["openBlock"])(),Object(n["createBlock"])(r,{key:"tray_item_"+t.id,point:t},null,8,["point"])})),128)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("span",{class:Object(n["normalizeClass"])(["sidebar_reveal",{open:i.open}]),onClick:e[0]||(e[0]=function(t){return i.open=!i.open})},[P,Object(n["createVNode"])(s,{class:"point_tray_reveal_btn"})],2),E],2)),[[n["vShow"],t.local_data.points&&t.local_data.points.length>0&&!t.discover_mode]])}var S=["id"],A={class:"row"},V={class:"col-sm-3"},D={class:"col-sm-9 tray_point_text"};function T(t,e,a,o,i,c){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:Object(n["normalizeClass"])(["tray_item",{active:t.local_data.current_point===a.point}]),id:a.point.id,onClick:e[0]||(e[0]=function(){return c.goTo&&c.goTo.apply(c,arguments)})},[Object(n["createElementVNode"])("div",A,[Object(n["createElementVNode"])("div",V,[a.point.point_image?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:0,class:"point_thumb",style:Object(n["normalizeStyle"])("background-image:url("+a.point.point_image+");")},null,4)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",D,[Object(n["createElementVNode"])("h2",null,Object(n["toDisplayString"])(a.point.point_title),1),Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(a.point.point_lede),1)])])],10,S)}a("cb29");var B=a("ff81"),I={props:["point"],computed:Object(l["a"])({},Object(m["d"])("artmap",["viewer","canvas","canvas_mask","local_data"])),methods:{goTo:function(){this.$router.push({path:"/".concat(this.point.point_slug)})},renderQHtml:function(t){var e=JSON.parse(t),a={},n=new B["QuillDeltaToHtmlConverter"](e.ops,a);return n.convert()},clearCanvas:function(){var t=this.canvas_mask[0].getContext("2d");t.clearRect(0,0,this.canvas_mask[0].width,this.canvas_mask[0].height)},locatePoint:function(){var t=new u.a.Point(this.point.x,this.point.y);this.viewer.viewport.panTo(t,!1)},returnToOriginalPosition:function(){if(this.local_data.current_point){var t=new u.a.Point(this.local_data.current_point.x,this.local_data.current_point.y),e=Number(this.local_data.current_point.zoom_value);this.viewer.viewport.zoomTo(e,!1),this.viewer.viewport.panTo(t,!1)}else this.viewer.viewport.goHome(!1)},locateMouse:function(t){if(this.clearCanvas(),!this.$route.params.artmap){var e=new u.a.Point(this.point.x,this.point.y),a=this.viewer.viewport.viewportToWindowCoordinates(e),n=this.canvas_mask[0].getContext("2d");n.beginPath(),n.moveTo(t.pageX,t.pageY),n.lineTo(a.x,a.y),n.stroke(),n.strokeStyle="#FFFFFF",n.arc(a.x,a.y,2,0,2*Math.PI),n.fillStyle="#FFFFFF",n.fill()}}}};a("6162");const x=w()(I,[["render",T]]);var Z=x,L={class:"icon double-arrow-icon"},z=Object(n["createStaticVNode"])('<svg id="double-arrow-icon" xmlns="http://www.w3.org/2000/svg" viewBox="6131.196 1174.569 11.718 8.607"><g id="Symbol_8_1" data-name="Symbol 8 – 1" transform="translate(6112 567)"><g id="Group_5" data-name="Group 5" transform="translate(1043 -1217) rotate(90)"><path id="Path_17" data-name="Path 17" class="cls-1" d="M3699.276,1010.359l3.6-3.6,3.6,3.6" transform="translate(-1874 12.737)"></path><path id="Path_20" data-name="Path 20" class="cls-1" d="M3699.276,1010.359l3.6-3.6,3.6,3.6" transform="translate(-1874 6.737)"></path></g></g></svg>',1),F=[z];function H(t,e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",L,F)}const R={},$=w()(R,[["render",H]]);var Q=$,U={data:function(){return{open:!1}},computed:Object(l["a"])({},Object(m["d"])("artmap",["local_data","discover_mode"])),components:{TrayPoint:Z,DoubleArrow:Q}};a("7a17");const X=w()(U,[["render",M]]);var J=X,q={key:0,id:"artmap_info_tray"},W={class:"info_tray_header row"},G={class:"controls col-sm-2"},Y=Object(n["createElementVNode"])("i",{class:"gmi-x material-icons"},"",-1),K=[Y],tt={class:"next-prev"},et={class:"info-title col-sm-10"},at={class:"info-tray-body row justify-content-end"},nt={class:"body-content-wrap col-sm-10"},ot=["innerHTML"];function it(t,e,a,o,i,c){return Object(n["openBlock"])(),Object(n["createBlock"])(n["Transition"],{name:"info-tray"},{default:Object(n["withCtx"])((function(){return[t.local_data.current_point&&t.toggles.info_tray?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",q,[Object(n["createElementVNode"])("div",W,[Object(n["createElementVNode"])("div",G,[Object(n["createElementVNode"])("div",{class:"close-tray",onClick:e[0]||(e[0]=function(){return c.closeAndLeave&&c.closeAndLeave.apply(c,arguments)})},K),Object(n["createElementVNode"])("div",tt,[c.prev?(Object(n["openBlock"])(),Object(n["createElementBlock"])("i",{key:0,class:"fa fa-angle-left",onClick:e[1]||(e[1]=function(t){return c.cycle("prev")})})):Object(n["createCommentVNode"])("",!0),c.next?(Object(n["openBlock"])(),Object(n["createElementBlock"])("i",{key:1,class:"fa fa-angle-right",onClick:e[2]||(e[2]=function(t){return c.cycle("next")})})):Object(n["createCommentVNode"])("",!0)])]),Object(n["createElementVNode"])("div",et,[Object(n["createElementVNode"])("h1",null,Object(n["toDisplayString"])(t.local_data.current_point.point_title),1)])]),Object(n["createElementVNode"])("div",at,[Object(n["createElementVNode"])("div",nt,[Object(n["createElementVNode"])("p",{innerHTML:c.renderQHtml(t.local_data.current_point.point_content)},null,8,ot)])])])):Object(n["createCommentVNode"])("",!0)]})),_:1})}var ct=a("c236"),rt={data:function(){return{currentPos:null}},computed:Object(l["a"])(Object(l["a"])({},Object(m["d"])("artmap",["local_data","toggles","viewer","point_cursor"])),{},{next:function(){if(this.local_data.current_point)return this.setCurrentPointIndex(),this.currentPos!==this.local_data.points.length-1},prev:function(){if(this.local_data.current_point)return this.setCurrentPointIndex(),0!==this.currentPos}}),methods:Object(l["a"])(Object(l["a"])({},Object(m["c"])("artmap",["setInfoTrayClose","setInfoTrayOpen"])),{},{renderQHtml:function(t){var e=JSON.parse(t),a=Object(ct["a"])(),n=new B["QuillDeltaToHtmlConverter"](e.ops,a),o=n.convert();return Object(ct["b"])(o)},closeAndLeave:function(){this.setInfoTrayClose(),this.$router.push({path:"/"})},setCurrentPointIndex:function(){var t=this,e=this.local_data.current_point.id;this.local_data.points.forEach((function(a,n){a.id===e&&(t.currentPos=n)}))},cycle:function(t){"prev"===t&&this.currentPos>0&&(this.currentPos-=1),"next"===t&&this.currentPos<this.local_data.points.length-1&&(this.currentPos+=1),this.$router.push({path:"/".concat(this.local_data.points[this.currentPos].point_slug)})}})};a("6cc7");const st=w()(rt,[["render",it]]);var lt=st,dt={class:"map-ctrls"},ut=Object(n["createElementVNode"])("i",{class:"material-icons"},"",-1),mt=[ut],pt={class:"zooms"},vt=Object(n["createElementVNode"])("i",{class:"material-icons"},"",-1),ht=[vt],ft=Object(n["createElementVNode"])("i",{class:"material-icons"},"",-1),bt=[ft];function gt(t,e,a,o,i,c){return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",dt,[Object(n["createElementVNode"])("span",{onClick:e[0]||(e[0]=function(e){return t.viewer.viewport.goHome(!1)}),class:"reset-btn",id:"reset"},mt),Object(n["createElementVNode"])("span",pt,[Object(n["createElementVNode"])("span",{onClick:e[1]||(e[1]=function(t){return c.zoom(!0)}),class:"zoom-btn",id:"zoom-in"},ht),Object(n["createElementVNode"])("span",{onClick:e[2]||(e[2]=function(t){return c.zoom(!1)}),class:"zoom-btn",id:"zoom-out"},bt)])],512)),[[n["vShow"],!t.discover_mode]])}var _t={computed:Object(l["a"])({},Object(m["d"])("artmap",["viewer","discover_mode","osd"])),methods:{zoom:function(t){var e=Math.round(this.viewer.viewport.getZoom(!0));t?(e<this.osd.maxZoomLevel&&(e+=1),this.viewer.viewport.zoomTo(e,!1)):e>=3?(e-=1,this.viewer.viewport.zoomTo(e,!1)):e>=2&&this.viewer.viewport.goHome(!1)}}};a("b12b");const wt=w()(_t,[["render",gt]]);var Ot=wt,jt=(a("a4d3"),a("e01a"),{key:0,class:"artmap-menu"}),yt={class:"artmap-menu-wrap"},kt={key:0,class:"art_meta_info"},Nt={class:"italic_title"},Ct=Object(n["createElementVNode"])("br",null,null,-1),Pt={class:"catalog_caption"},Et=Object(n["createElementVNode"])("br",null,null,-1),Mt={class:"artist_name"},St=Object(n["createElementVNode"])("br",null,null,-1),At={key:0,class:"about_artwork"},Vt={key:1,class:"collection_list"},Dt=Object(n["createElementVNode"])("div",{class:"row no-gutters"},[Object(n["createElementVNode"])("p",{class:"related-section-label"}," View More:")],-1),Tt={class:"row related_collection no-gutters"},Bt=["onClick"],It={class:"collection_artwork_title"};function xt(t,e,a,o,i,c){return Object(n["openBlock"])(),Object(n["createBlock"])(n["Transition"],{name:"main-menu"},{default:Object(n["withCtx"])((function(){return[t.toggles.main_menu?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",jt,[Object(n["createElementVNode"])("div",yt,[t.local_data.art&&t.local_data.artist?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",kt,[Object(n["createElementVNode"])("h1",null,[Object(n["createElementVNode"])("span",Nt,Object(n["toDisplayString"])(t.local_data.art.artwork_title)+",",1),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(t.local_data.art.artwork_creation_date),1),Ct]),Object(n["createElementVNode"])("p",Pt,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(t.local_data.art.medium)+" "+Object(n["toDisplayString"])(t.local_data.art.dimensions),1),Et,Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(t.local_data.art.credit)+", "+Object(n["toDisplayString"])(t.local_data.art.accession_number),1)]),Object(n["createElementVNode"])("p",Mt,"by "+Object(n["toDisplayString"])(t.local_data.artist.artist_name),1),St,t.local_data.art.description?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",At," Image Description: "+Object(n["toDisplayString"])(t.local_data.art.description),1)):Object(n["createCommentVNode"])("",!0)])):Object(n["createCommentVNode"])("",!0),i.published_artworks?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Vt,[Dt,Object(n["createElementVNode"])("div",Tt,[i.all_artwork?(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],{key:0},Object(n["renderList"])(i.published_artworks,(function(t,e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"col-sm-3 related-artwork",key:e,onClick:function(e){return c.goToArtmap(t.artwork_slug)}},[Object(n["createElementVNode"])("div",{class:"artwork_img",style:Object(n["normalizeStyle"])("background-image:url("+t.thumbnail+");")},null,4),Object(n["createElementVNode"])("h1",It,Object(n["toDisplayString"])(t.artwork_title),1),Object(n["createElementVNode"])("p",null,"by "+Object(n["toDisplayString"])(t.artist.artist_name),1)],8,Bt)})),128)):Object(n["createCommentVNode"])("",!0)])])):Object(n["createCommentVNode"])("",!0)])])):Object(n["createCommentVNode"])("",!0)]})),_:1})}a("99af"),a("fb6a"),a("4e82");var Zt=a("9191"),Lt={data:function(){return{open:!1,all_artwork:null,all_artwork_backup:null,published_artworks:null}},computed:Object(l["a"])({},Object(m["d"])("artmap",["toggles","local_data"])),methods:{renderQHtml:function(t){var e=JSON.parse(t),a={},n=new B["QuillDeltaToHtmlConverter"](e.ops,a);return n.convert()},goToArtmap:function(t){window.location.href="/gallery/".concat(t)},getCatalogData:function(){var t=this,e=[];if(this.all_artwork.forEach((function(t){e.push(t)})),e.forEach((function(t,e){Zt["a"].get("https://dlc.services/iiif-img/3/2/".concat(t.iiif_uuid,"/info.json")).then((function(e){t["iiif"]=e.data,t["thumbnail"]="https://dlc.services/thumbs/3/2/".concat(t.iiif_uuid,"/full/").concat(e.data.sizes[1].width,",").concat(e.data.sizes[1].height,"/0/default.jpg")}),(function(e){console.log(e),t["api_error"]=e}))})),e.length)var a=setInterval((function(){var n=0,o=e.length;e.forEach((function(i){(i.iiif||i.api_error)&&n++,n===o&&(clearInterval(a),t.all_artwork=e,t.all_artwork_backup=e,t.loading=!1)}))}),50);else this.loading=!1},getAllArtwork:function(){var t=this;this.loading=!0,Zt["a"].get("all-artwork/").then((function(e){var a=3;t.all_artwork=e.data,t.published_artworks=t.all_artwork.filter((function(t){return!0===t.published})),t.published_artworks=t.published_artworks.sort((function(){return Math.random()-Math.random()})).slice(0,a),t.getCatalogData()}),(function(t){console.log(t)}))}},mounted:function(){this.getAllArtwork()}};a("4a32");const zt=w()(Lt,[["render",xt]]);var Ft=zt,Ht={class:"info-menu"},Rt={class:"material-icons"};function $t(t,e,a,o,i,c){return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("span",{class:Object(n["normalizeClass"])(["main-menu-trigger",{active:t.toggles.main_menu}]),onClick:e[0]||(e[0]=function(){return t.toggleMainMenu&&t.toggleMainMenu.apply(t,arguments)})},[Object(n["withDirectives"])(Object(n["createElementVNode"])("i",Ht,"i",512),[[n["vShow"],!t.toggles.main_menu]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("i",Rt,"",512),[[n["vShow"],t.toggles.main_menu]])],2)),[[n["vShow"],t.loaded]])}var Qt={computed:Object(l["a"])({},Object(m["d"])("artmap",["toggles","discover_mode","loaded"])),methods:Object(l["a"])({},Object(m["c"])("artmap",["toggleMainMenu"]))};a("62d2");const Ut=w()(Qt,[["render",$t]]);var Xt=Ut,Jt={key:0},qt={key:1};function Wt(t,e,a,o,i,c){return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{class:Object(n["normalizeClass"])(["btn btn-primary btn-discover btn-lg",{exit_ready:t.discover_mode}]),onClick:e[0]||(e[0]=function(){return t.toggleDiscoverMode&&t.toggleDiscoverMode.apply(t,arguments)})},[t.discover_mode?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",qt,"Show Navigation")):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",Jt,"Hide Navigation"))],2)),[[n["vShow"],t.loaded]])}var Gt={computed:Object(l["a"])({},Object(m["d"])("artmap",["discover_mode","loaded"])),methods:Object(l["a"])({},Object(m["c"])("artmap",["toggleDiscoverMode"]))};a("756d");const Yt=w()(Gt,[["render",Wt]]);var Kt=Yt,te={class:"icon terra-logo"},ee=Object(n["createStaticVNode"])('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 312 35"><title>Terra Foundation for American Art</title><path class="cls-1" d="M55.18,30.02c-9.19,0-14.86-3.05-15.65-8.37h32.67v-2.29c-.83-7.34-8.26-12.28-18.5-12.28-10.98,0-18.66,5.46-18.66,13.27,0,8.52,7.32,13.6,19.58,13.6,6.78,0,13-1.52,17.51-4.29l.16-.1.15-4.48-.57.39c-4.36,2.97-10.13,4.55-16.7,4.55h0ZM53.77,10.93c7.36,0,12.72,2.94,13.83,7.52h-27.97c1.02-4.58,6.51-7.52,14.14-7.52Z"></path><path class="cls-1" d="M30.96,12.9l.11-3.63H12.92V.89h-4.3v8.37H.15L0,12.89h8.61v9.95c0,7.14,3.8,10.92,10.98,10.92,2.93,0,8.51-.78,11.2-2.46l.16-.1.06-4.12-.55.37c-2.22,1.5-7.16,2.54-10.2,2.54h-.35c-4.77-.11-6.99-2.55-6.99-7.65v-9.44h18.04,0Z"></path><path class="cls-1" d="M115.13,11.05c-2.67,1.21-5.06,2.93-7.11,5.13-2.05,2.19-3.65,4.73-4.77,7.56-1.16,2.93-1.75,6.03-1.75,9.23,0,.27,0,.53.02.79h4.27c0-.26-.02-.53-.02-.79,0-2.64.48-5.2,1.44-7.61.92-2.32,2.23-4.41,3.9-6.2,1.66-1.78,3.6-3.17,5.75-4.15,2.22-1,4.58-1.51,7.01-1.51,1.16,0,2.3.12,3.41.35v-4.4c-1.12-.18-2.26-.28-3.41-.28-3.04,0-5.97.63-8.75,1.89h0Z"></path><path class="cls-1" d="M102.95,9.26h-25.81v24.42h4.31V13.38h21.5v-4.11Z"></path><path class="cls-1" d="M147.72,7.3h-.35c-5.77.06-11.19,1.21-15.3,3.27l-.18.09-.2,4.43.55-.32c4.11-2.36,9.4-3.66,14.9-3.66s12.38,1.44,12.57,8.26c-3.88-1.87-8.76-2.9-13.79-2.9-9.73,0-15.54,3.32-15.54,8.88s5.43,8.78,14.17,8.78c5.48,0,10.83-1.45,15.16-4.1v3.58h4.35v-14.05c0-8.14-5.5-12.27-16.35-12.27h0ZM159.71,26.55c-3.7,2.51-9,4-14.23,4h0c-6.43,0-10.42-2.05-10.42-5.36s4.29-5.41,11.46-5.41c5.01,0,9.69,1,13.2,2.81v3.95h0Z"></path><path class="cls-1" d="M191.84,14.1v-5.92h6.14v-1.88h-6.14v-3.52h6.32V.93h-8.36v13.17h2.04Z"></path><path class="cls-1" d="M208.47,9.39c0-3.14-1.57-4.87-4.41-4.87s-4.41,1.73-4.41,4.87,1.57,4.89,4.41,4.89,4.41-1.78,4.41-4.89ZM201.6,9.39c0-2,.87-3.11,2.46-3.11s2.46,1.1,2.46,3.11-.87,3.13-2.46,3.13-2.46-1.11-2.46-3.13Z"></path><path class="cls-1" d="M218.7,14.09V4.71h-1.98v5.09c0,1.95-.66,2.74-2.27,2.74s-2.25-.79-2.25-2.74v-5.09h-1.98v5.28c0,2.97,1.12,4.3,3.64,4.3.66,0,1.33-.12,1.98-.36h.03s.69-1.44.69-1.44h.28v1.61h1.86Z"></path><path class="cls-1" d="M229.54,14.1v-5.28c0-2.97-1.14-4.3-3.69-4.3-.71,0-1.37.12-1.95.36h-.03s-.67,1.43-.67,1.43h-.28v-1.61h-1.85v9.38h1.98v-5.09c0-1.93.68-2.75,2.27-2.75s2.25.8,2.25,2.75v5.09h1.98,0Z"></path><path class="cls-1" d="M240.1,14.09V.92h-1.98v4.42c-.67-.56-1.51-.82-2.61-.82-2.67,0-4.21,1.78-4.21,4.87s1.54,4.89,4.22,4.89h0c.67,0,1.21-.1,1.73-.32h.03s.69-1.47.69-1.47h.28v1.61h1.85,0ZM238.19,9.39c0,2.23-.73,3.18-2.46,3.18-1.58,0-2.48-1.16-2.48-3.18s.88-3.11,2.48-3.11,2.46,1.1,2.46,3.11Z"></path><path class="cls-1" d="M251.3,14.1v-1.76h-.85c-.18,0-.24-.06-.24-.23v-3.45c0-2.63-1.49-4.13-4.1-4.13s-4.12,1.36-4.24,3.74v.09h1.9v-.08c.09-1.38.8-2.02,2.25-2.02s2.21.73,2.21,2.06c0,.16-.06.23-.23.25l-2.95.31c-1.98.21-2.87,1.02-2.87,2.63,0,1.74,1.2,2.78,3.21,2.78.75,0,1.38-.13,1.95-.38h.03s.72-1.52.72-1.52h.28c.06,1.15.65,1.72,1.8,1.72h1.14,0ZM248.24,9.61v.2c0,1.89-.79,2.77-2.5,2.77-1.05,0-1.65-.46-1.65-1.26s.48-1.22,1.67-1.37l2.48-.34h0Z"></path><path class="cls-1" d="M253.29,10.61c0,2.25,1.23,3.49,3.46,3.49h1.55v-1.76h-1.38c-1.12,0-1.65-.55-1.65-1.71v-4.16h3.03v-1.76h-3.03v-2.67h-1.98v2.67h-1.69v1.76h1.69v4.14h0Z"></path><path class="cls-1" d="M262.29,2.29c0-.89-.53-1.42-1.42-1.42s-1.44.53-1.44,1.42.55,1.42,1.44,1.42,1.42-.53,1.42-1.42Z"></path><path class="cls-1" d="M261.85,4.71h-1.98v9.38h1.98V4.71Z"></path><path class="cls-1" d="M268.11,4.52c-2.84,0-4.41,1.73-4.41,4.87s1.57,4.89,4.41,4.89,4.41-1.78,4.41-4.89-1.57-4.87-4.41-4.87ZM270.57,9.39c0,2.02-.87,3.13-2.46,3.13s-2.46-1.11-2.46-3.13.87-3.11,2.46-3.11,2.46,1.1,2.46,3.11Z"></path><path class="cls-1" d="M276.35,9.01c0-1.93.68-2.75,2.27-2.75s2.25.8,2.25,2.75v5.09h1.98v-5.28c0-2.97-1.14-4.3-3.69-4.3-.71,0-1.37.12-1.95.36h-.03s-.67,1.43-.67,1.43h-.28v-1.61h-1.85v9.38h1.98v-5.09h0Z"></path><path class="cls-1" d="M289.89,14.09h1.98v-7.62h3.3v-1.76h-3.3v-.39c0-1.11.5-1.62,1.57-1.62h1.73V.92h-1.82c-2.23,0-3.46,1.24-3.46,3.49v.3h-1.61v.08h-.09v1.68h1.69v7.62h0Z"></path><path class="cls-1" d="M300.34,4.52c-2.84,0-4.41,1.73-4.41,4.87s1.57,4.89,4.41,4.89,4.41-1.78,4.41-4.89-1.57-4.87-4.41-4.87ZM302.8,9.39c0,2.02-.87,3.13-2.46,3.13s-2.46-1.11-2.46-3.13.87-3.11,2.46-3.11,2.46,1.1,2.46,3.11Z"></path><path class="cls-1" d="M311.94,4.67c-.25-.07-.54-.1-.93-.1-.51,0-1.09.1-1.54.27h-.03s-.7,1.51-.7,1.51h-.28v-1.64h-1.85v9.38h1.98v-5.35c0-1.61.5-2.18,1.92-2.18h1.51v-1.88l-.07-.02Z"></path><path class="cls-1" d="M195.64,20.46h-2.13l-4.67,13.05-.04.12h2.08l1.15-3.32h5.06l1.15,3.32h2.11l-4.69-13.11-.02-.06ZM194.41,22.71h.29l.37,1.86,1.38,3.94h-3.8l1.38-3.96.37-1.85h0Z"></path><path class="cls-1" d="M212.74,24.06c-.64,0-1.27.12-1.91.36h-.03s-.73,1.55-.73,1.55h-.27c-.51-1.28-1.54-1.9-3.16-1.9-.54,0-1.19.13-1.78.36h-.03s-.67,1.44-.67,1.44h-.28v-1.61h-1.85v9.38h1.98v-5.09c0-1.9.64-2.75,2.08-2.75s2.06.85,2.06,2.75v5.09h1.98v-5.09c0-1.93.62-2.75,2.08-2.75s2.09.82,2.09,2.75v5.09h1.98v-5.28c0-2.97-1.09-4.3-3.53-4.3h0Z"></path><path class="cls-1" d="M224.82,30.19c-.17,1.3-.9,1.9-2.28,1.9-1.65,0-2.53-.97-2.6-2.89h6.04c.38,0,.58-.21.58-.63,0-2.83-1.56-4.51-4.17-4.51-2.82,0-4.37,1.73-4.37,4.87s1.6,4.89,4.51,4.89c2.49,0,4.02-1.31,4.21-3.61v-.1s-1.91,0-1.91,0v.07h-.01ZM224.35,28.01l-4.35.07c.22-1.48,1.07-2.3,2.4-2.3s2.19.82,2.19,2c0,.16-.06.22-.24.22Z"></path><path class="cls-1" d="M232.93,24.12c-.52,0-1.09.1-1.54.27h-.03s-.7,1.51-.7,1.51h-.28v-1.64h-1.85v9.38h1.98v-5.35c0-1.59.52-2.18,1.92-2.18h1.51v-1.88l-.07-.02c-.25-.07-.54-.1-.93-.1h0Z"></path><path class="cls-1" d="M237.55,24.25h-1.98v9.38h1.98v-9.38Z"></path><path class="cls-1" d="M236.57,20.41c-.9,0-1.44.53-1.44,1.42s.55,1.42,1.44,1.42,1.42-.53,1.42-1.42-.53-1.42-1.42-1.42Z"></path><path class="cls-1" d="M246.22,29.74c-.19,1.52-1.03,2.32-2.41,2.32-1.59,0-2.46-1.11-2.46-3.13s.87-3.11,2.46-3.11c1.35,0,2.13.82,2.22,2.3v.08h1.94v-.09c-.1-2.58-1.61-4.06-4.17-4.06h-.09c-2.79.04-4.32,1.77-4.32,4.88s1.57,4.89,4.41,4.89c2.59,0,4.13-1.44,4.35-4.07v-.1s-1.93,0-1.93,0v.07s0,0,0,0Z"></path><path class="cls-1" d="M257.71,31.64v-3.45c0-2.63-1.49-4.13-4.1-4.13s-4.12,1.36-4.24,3.74v.09h1.9v-.08c.09-1.38.81-2.02,2.25-2.02s2.21.73,2.21,2.06c0,.16-.06.23-.24.25l-2.95.32c-1.98.21-2.87,1.02-2.87,2.63,0,1.74,1.2,2.78,3.21,2.78.74,0,1.38-.12,1.95-.38h.03s.72-1.52.72-1.52h.28c.06,1.15.65,1.71,1.8,1.71h1.14v-1.76h-.86c-.18,0-.24-.06-.24-.23h0ZM255.73,29.14v.2c0,1.89-.79,2.77-2.5,2.77-1.05,0-1.65-.46-1.65-1.26s.48-1.22,1.67-1.37l2.48-.34h0Z"></path><path class="cls-1" d="M264.86,24.07c-.71,0-1.36.12-1.95.36h-.03s-.67,1.43-.67,1.43h-.28v-1.61h-1.85v9.38h1.98v-5.09c0-1.93.68-2.75,2.27-2.75s2.25.8,2.25,2.75v5.09h1.98v-5.28c0-2.97-1.14-4.3-3.69-4.3h0Z"></path><path class="cls-1" d="M281.05,20.46h-2.13l-4.67,13.05-.04.12h2.08l1.15-3.32h5.06l1.15,3.32h2.11l-4.69-13.11-.02-.06h0ZM279.82,22.71h.29l.37,1.86,1.38,3.94h-3.8l1.38-3.96.37-1.85h0Z"></path><path class="cls-1" d="M291.84,24.12c-.51,0-1.08.1-1.54.27h-.03s-.7,1.51-.7,1.51h-.28v-1.64h-1.85v9.38h1.98v-5.35c0-1.59.52-2.18,1.92-2.18h1.51v-1.88l-.06-.02c-.26-.07-.54-.1-.93-.1h0Z"></path><path class="cls-1" d="M297.14,21.57h-1.98v2.67h-1.69v1.76h1.69v4.14c0,2.25,1.23,3.49,3.46,3.49h1.55v-1.76h-1.38c-1.12,0-1.65-.55-1.65-1.71v-4.16h3.03v-1.76h-3.03v-2.67h0Z"></path></svg>',1),ae=[ee];function ne(t,e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",te,ae)}a("3532");const oe={},ie=w()(oe,[["render",ne]]);var ce=ie,re={computed:Object(l["a"])({},Object(m["d"])("artmap",["viewer","local_data","toggles","discover_mode","loaded"])),data:function(){return{editor_url:window.artmap_builder_url?window.artmap_builder_url:null}},watch:{$route:function(t){this.loaded&&(t.params.pointSlug?this.getArtPointOr404(t.params.pointSlug):this.viewer.viewport.goHome(!1))}},methods:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(m["c"])("artmap",["initCanvas","convertAndSetPoints","setCurrentPoint","setInfoTrayOpen","setInfoTrayClose","toggleMainMenu","toggleDiscoverMode","artmapHasLoaded"])),Object(m["b"])("artmap",["getPoints","getArtData","getArtistData","getIIIFAsset"])),{},{endPreview:function(){window.location.href=this.editor_url},getArtPointOr404:function(t){var e=this.local_data.points.filter((function(e){return e.point_slug===String(t)}));e.length>0?(this.discover_mode||this.toggleDiscoverMode(),this.setCurrentPoint(e[0]),this.goTo(e[0]),this.setInfoTrayOpen()):this.setInfoTrayClose()},goHome:function(){this.viewer.viewport.goHome(!1)},goTo:function(t){var e={x:Number(t.point_x),y:Number(t.point_y)},a=new u.a.Point(e.x,e.y),n=Number(t.zoom_value);this.viewer.viewport.zoomTo(n,!1),this.viewer.viewport.panTo(a,!1)},setOverlays:function(){var t=this;this.viewer.clearOverlays(),this.local_data.points.all&&this.local_data.points.all.forEach((function(e){var a=document.createElement("div");a.id=String(e.id),a.className="artmap_point";var n={element:a,placement:"CENTER",checkResize:!1,location:new u.a.Point(Number(e.point_x),Number(e.point_y))};t.viewer.addOverlay(n)}))},createArtmap:function(){var t=this;this.getArtData(this).then((function(e){t.getArtistData(e.data.artist),t.getIIIFAsset(e.data.iiif_uuid).then((function(e){t.getPoints().then((function(e){t.initCanvas(e.data)})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))},preloadArtCanvas:function(){var t=this,e=setInterval((function(){if(t.viewer){var a=t.viewer.world.getItemAt(0);if(a){var n=a.getFullyLoaded();n&&(t.artmapHasLoaded(t),t.$route.params.pointSlug?t.getArtPointOr404(t.$route.params.pointSlug):t.viewer.viewport.goHome(!1),clearInterval(e))}}}),500)}}),created:function(){this.preloadArtCanvas(),this.createArtmap(null)},components:{Loader:p["a"],Point:j,PointTray:J,InfoTray:lt,MapCtrl:Ot,MainMenu:Ft,MainMenuBtn:Xt,DiscoverBtn:Kt,TerraLogo:ce}};a("6be7");const se=w()(re,[["render",s]]);e["a"]=se},f8fa:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("e8d1"),o=a("e6b9"),i=a("f498"),c=a("4360");Object(n["a"])(i["a"],c["a"],o["a"],"#artmap")}});